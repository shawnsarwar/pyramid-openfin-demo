var pyramid_notify=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=90)}([,,,function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){t.exports=n(102)},,,,function(t,e){function n(t,e,n,r,o,i,u){try{var c=t[i](u),a=c.value}catch(t){return void n(t)}c.done?e(a):Promise.resolve(a).then(r,o)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise((function(o,i){var u=t.apply(e,r);function c(t){n(u,o,i,c,a,"next",t)}function a(t){n(u,o,i,c,a,"throw",t)}c(void 0)}))}},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){var r=n(97),o=n(98),i=n(99),u=n(101);t.exports=function(t,e){return r(t)||o(t,e)||i(t,e)||u()},t.exports.default=t.exports,t.exports.__esModule=!0},,function(t,e,n){"use strict";var r,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var u=Number.isNaN||function(t){return t!=t};function c(){c.init.call(this)}t.exports=c,t.exports.once=function(t,e){return new Promise((function(n,r){function o(n){t.removeListener(e,i),r(n)}function i(){"function"==typeof t.removeListener&&t.removeListener("error",o),n([].slice.call(arguments))}g(t,e,i,{once:!0}),"error"!==e&&function(t,e,n){"function"==typeof t.on&&g(t,"error",e,n)}(t,o,{once:!0})}))},c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var a=10;function s(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function f(t){return void 0===t._maxListeners?c.defaultMaxListeners:t._maxListeners}function l(t,e,n,r){var o,i,u,c;if(s(n),void 0===(i=t._events)?(i=t._events=Object.create(null),t._eventsCount=0):(void 0!==i.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events),u=i[e]),void 0===u)u=i[e]=n,++t._eventsCount;else if("function"==typeof u?u=i[e]=r?[n,u]:[u,n]:r?u.unshift(n):u.push(n),(o=f(t))>0&&u.length>o&&!u.warned){u.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=u.length,c=a,console&&console.warn&&console.warn(c)}return t}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=d.bind(r);return o.listener=n,r.wrapFn=o,o}function h(t,e,n){var r=t._events;if(void 0===r)return[];var o=r[e];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(o):y(o,o.length)}function v(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function y(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function g(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function o(i){r.once&&t.removeEventListener(e,o),n(i)}))}}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(t){if("number"!=typeof t||t<0||u(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");a=t}}),c.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||u(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},c.prototype.getMaxListeners=function(){return f(this)},c.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var u;if(e.length>0&&(u=e[0]),u instanceof Error)throw u;var c=new Error("Unhandled error."+(u?" ("+u.message+")":""));throw c.context=u,c}var a=o[t];if(void 0===a)return!1;if("function"==typeof a)i(a,this,e);else{var s=a.length,f=y(a,s);for(n=0;n<s;++n)i(f[n],this,e)}return!0},c.prototype.addListener=function(t,e){return l(this,t,e,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(t,e){return l(this,t,e,!0)},c.prototype.once=function(t,e){return s(e),this.on(t,p(this,t,e)),this},c.prototype.prependOnceListener=function(t,e){return s(e),this.prependListener(t,p(this,t,e)),this},c.prototype.removeListener=function(t,e){var n,r,o,i,u;if(s(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===e||n[i].listener===e){u=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,o),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,u||e)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},c.prototype.listeners=function(t){return h(this,t,!0)},c.prototype.rawListeners=function(t){return h(this,t,!1)},c.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):v.call(t,e)},c.prototype.listenerCount=v,c.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},,function(t,e,n){"use strict";var r=n(68),o=Object.prototype.toString;function i(t){return"[object Array]"===o.call(t)}function u(t){return void 0===t}function c(t){return null!==t&&"object"==typeof t}function a(t){return"[object Function]"===o.call(t)}function s(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),i(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}t.exports={isArray:i,isArrayBuffer:function(t){return"[object ArrayBuffer]"===o.call(t)},isBuffer:function(t){return null!==t&&!u(t)&&null!==t.constructor&&!u(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:c,isUndefined:u,isDate:function(t){return"[object Date]"===o.call(t)},isFile:function(t){return"[object File]"===o.call(t)},isBlob:function(t){return"[object Blob]"===o.call(t)},isFunction:a,isStream:function(t){return c(t)&&a(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:s,merge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]=n}for(var r=0,o=arguments.length;r<o;r++)s(arguments[r],n);return e},deepMerge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]="object"==typeof n?t({},n):n}for(var r=0,o=arguments.length;r<o;r++)s(arguments[r],n);return e},extend:function(t,e,n){return s(e,(function(e,o){t[o]=n&&"function"==typeof e?r(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},,,,function(t,e){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},function(t,e,n){"use strict";n.d(e,"c",(function(){return j})),n.d(e,"b",(function(){return E})),n.d(e,"a",(function(){return k}));var r=n(8),o=n.n(r),i=n(46),u=n.n(i),c=n(78),a=n.n(c),s=n(9),f=n.n(s),l=n(79),d=n.n(l),p=n(80),h=n.n(p),v=n(58),y=n.n(v),g=n(3),m=n.n(g),b=n(4),_=n.n(b),w=n(81),O=n.n(w);function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y()(t);if(e){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}function j(t,e){return{discriminator:"TokenGrant",url:t,token:e}}function E(t,e,n){return{discriminator:"PasswordGrant",url:t,username:e,password:n}}var k=function(t){d()(r,t);var e,n=x(r);function r(t){var e;if(u()(this,r),e=n.call(this,t.url),m()(f()(e),"url",void 0),m()(f()(e),"username",void 0),m()(f()(e),"password",void 0),m()(f()(e),"token",""),m()(f()(e),"authenticateUser",(function(t,n){return e.instance.post("/API2/auth/authenticateUser",{data:{userName:t,password:n}})})),m()(f()(e),"getMe",(function(){return e.instance.post("/API2/access/getMe",{auth:e.token})})),m()(f()(e),"adminGetEmbedToken",(function(t){return e.instance.post("/API2/auth/authenticateUserEmbedByToken",{userIdentity:t,token:e.token})})),m()(f()(e),"userGetEmbedToken",(function(t,n,r){return e.instance.post("/API2/auth/authenticateUserEmbed",{data:{userName:t,password:n,domain:r}})})),m()(f()(e),"getNotificationCount",(function(t){return e.instance.post("/API2/notification/getNotificationIndicators",{auth:e.token,userId:t})})),m()(f()(e),"getUserPublicRootFolder",(function(t){return e.instance.post("/API2/content/getUserPublicRootFolder",{userId:t,auth:e.token})})),m()(f()(e),"getPrivateRootFolder",(function(t){return e.instance.post("/API2/content/getPrivateRootFolder",{userId:t,auth:e.token})})),m()(f()(e),"getPrivateFolderForUser",(function(t){return e.instance.post("/API2/content/getPrivateFolderForUser",{userId:t,auth:e.token})})),m()(f()(e),"getUserGroupRootFolder",(function(t){return e.instance.post("/API2/content/getUserGroupRootFolder",{userId:t,auth:e.token})})),m()(f()(e),"getFolderItems",(function(t,n){return e.instance.post("/API2/content/getFolderItems",{folderId:n,userId:t,auth:e.token})})),m()(f()(e),"reRunTask",(function(t){return e.instance.post("/API2/tasks/reRunTask",{taskId:t,auth:e.token})})),m()(f()(e),"runSchedule",(function(t){return e.instance.post("/API2/tasks/runSchedule",{data:{scheduleId:t,checkTriggers:!0},auth:e.token})})),e.url=t.url,"TokenGrant"===(null==t?void 0:t.discriminator))e.token=t.token;else{if("PasswordGrant"!==(null==t?void 0:t.discriminator))throw console.error(t),Error("Invalid Grant Type! ".concat(t.discriminator));e.username=t.username,e.password=t.password}return e}return a()(r,[{key:"signIn",value:(e=o()(_.a.mark((function t(){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.username||!this.password){t.next=4;break}return t.next=3,this.authenticateUser(this.username,this.password);case 3:this.token=t.sent;case 4:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),r}((function t(e){var n=this;u()(this,t),m()(this,"instance",void 0),m()(this,"_initializeResponseInterceptor",(function(){n.instance.interceptors.response.use(n._handleResponse,n._handleError)})),m()(this,"_handleResponse",(function(t){return t.data})),m()(this,"_handleError",(function(t){console.log(t),Promise.reject(t)})),this.instance=O.a.create({baseURL:e}),this._initializeResponseInterceptor()}))},function(t,e,n){"use strict";function r(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map((function(t){return"'"+t+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function o(t){return!!t&&!!t[J]}function i(t){return!!t&&(function(t){if(!t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);return!e||e===Object.prototype}(t)||Array.isArray(t)||!!t[W]||!!t.constructor[W]||d(t)||p(t))}function u(t,e,n){void 0===n&&(n=!1),0===c(t)?(n?Object.keys:G)(t).forEach((function(r){n&&"symbol"==typeof r||e(r,t[r],t)})):t.forEach((function(n,r){return e(r,n,t)}))}function c(t){var e=t[J];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:d(t)?2:p(t)?3:0}function a(t,e){return 2===c(t)?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function s(t,e){return 2===c(t)?t.get(e):t[e]}function f(t,e,n){var r=c(t);2===r?t.set(e,n):3===r?(t.delete(e),t.add(n)):t[e]=n}function l(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function d(t){return F&&t instanceof Map}function p(t){return z&&t instanceof Set}function h(t){return t.o||t.t}function v(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=Y(t);delete e[J];for(var n=G(e),r=0;r<n.length;r++){var o=n[r],i=e[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(e[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:t[o]})}return Object.create(Object.getPrototypeOf(t),e)}function y(t,e){return void 0===e&&(e=!1),m(t)||o(t)||!i(t)||(c(t)>1&&(t.set=t.add=t.clear=t.delete=g),Object.freeze(t),e&&u(t,(function(t,e){return y(e,!0)}),!0)),t}function g(){r(2)}function m(t){return null==t||"object"!=typeof t||Object.isFrozen(t)}function b(t){var e=H[t];return e||r(18,t),e}function _(t,e){H[t]||(H[t]=e)}function w(){return U}function O(t,e){e&&(b("Patches"),t.u=[],t.s=[],t.v=e)}function x(t){j(t),t.p.forEach(k),t.p=null}function j(t){t===U&&(U=t.l)}function E(t){return U={p:[],l:U,h:t,m:!0,_:0}}function k(t){var e=t[J];0===e.i||1===e.i?e.j():e.g=!0}function S(t,e){e._=e.p.length;var n=e.p[0],o=void 0!==t&&t!==n;return e.h.O||b("ES5").S(e,t,o),o?(n[J].P&&(x(e),r(4)),i(t)&&(t=P(e,t),e.l||C(e,t)),e.u&&b("Patches").M(n[J],t,e.u,e.s)):t=P(e,n,[]),x(e),e.u&&e.v(e.u,e.s),t!==V?t:void 0}function P(t,e,n){if(m(e))return e;var r=e[J];if(!r)return u(e,(function(o,i){return A(t,r,e,o,i,n)}),!0),e;if(r.A!==t)return e;if(!r.P)return C(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=v(r.k):r.o;u(3===r.i?new Set(o):o,(function(e,i){return A(t,r,o,e,i,n)})),C(t,o,!1),n&&t.u&&b("Patches").R(r,n,t.u,t.s)}return r.o}function A(t,e,n,r,u,c){if(o(u)){var s=P(t,u,c&&e&&3!==e.i&&!a(e.D,r)?c.concat(r):void 0);if(f(n,r,s),!o(s))return;t.m=!1}if(i(u)&&!m(u)){if(!t.h.N&&t._<1)return;P(t,u),e&&e.A.l||C(t,u)}}function C(t,e,n){void 0===n&&(n=!1),t.h.N&&t.m&&y(e,n)}function T(t,e){var n=t[J];return(n?h(n):t)[e]}function I(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function D(t){t.P||(t.P=!0,t.l&&D(t.l))}function R(t){t.o||(t.o=v(t.t))}function q(t,e,n){var r=d(e)?b("MapSet").T(e,n):p(e)?b("MapSet").F(e,n):t.O?function(t,e){var n=Array.isArray(t),r={i:n?1:0,A:e?e.A:w(),P:!1,I:!1,D:{},l:e,t:t,k:null,o:null,j:null,C:!1},o=r,i=Q;n&&(o=[r],i=X);var u=Proxy.revocable(o,i),c=u.revoke,a=u.proxy;return r.k=a,r.j=c,a}(e,n):b("ES5").J(e,n);return(n?n.A:w()).p.push(r),r}function N(t){return o(t)||r(22,t),function t(e){if(!i(e))return e;var n,r=e[J],o=c(e);if(r){if(!r.P&&(r.i<4||!b("ES5").K(r)))return r.t;r.I=!0,n=L(e,o),r.I=!1}else n=L(e,o);return u(n,(function(e,o){r&&s(r.t,e)===o||f(n,e,t(o))})),3===o?new Set(n):n}(t)}function L(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return v(t)}function M(){function t(t,e){var n=i[t];return n?n.enumerable=e:i[t]=n={configurable:!0,enumerable:e,get:function(){var e=this[J];return Q.get(e,t)},set:function(e){var n=this[J];Q.set(n,t,e)}},n}function e(t){for(var e=t.length-1;e>=0;e--){var o=t[e][J];if(!o.P)switch(o.i){case 5:r(o)&&D(o);break;case 4:n(o)&&D(o)}}}function n(t){for(var e=t.t,n=t.k,r=G(n),o=r.length-1;o>=0;o--){var i=r[o];if(i!==J){var u=e[i];if(void 0===u&&!a(e,i))return!0;var c=n[i],s=c&&c[J];if(s?s.t!==u:!l(c,u))return!0}}var f=!!e[J];return r.length!==G(e).length+(f?0:1)}function r(t){var e=t.k;if(e.length!==t.t.length)return!0;var n=Object.getOwnPropertyDescriptor(e,e.length-1);return!(!n||n.get)}var i={};_("ES5",{J:function(e,n){var r=Array.isArray(e),o=function(e,n){if(e){for(var r=Array(n.length),o=0;o<n.length;o++)Object.defineProperty(r,""+o,t(o,!0));return r}var i=Y(n);delete i[J];for(var u=G(i),c=0;c<u.length;c++){var a=u[c];i[a]=t(a,e||!!i[a].enumerable)}return Object.create(Object.getPrototypeOf(n),i)}(r,e),i={i:r?5:4,A:n?n.A:w(),P:!1,I:!1,D:{},l:n,t:e,k:o,o:null,g:!1,C:!1};return Object.defineProperty(o,J,{value:i,writable:!0}),o},S:function(t,n,i){i?o(n)&&n[J].A===t&&e(t.p):(t.u&&function t(e){if(e&&"object"==typeof e){var n=e[J];if(n){var o=n.t,i=n.k,c=n.D,s=n.i;if(4===s)u(i,(function(e){e!==J&&(void 0!==o[e]||a(o,e)?c[e]||t(i[e]):(c[e]=!0,D(n)))})),u(o,(function(t){void 0!==i[t]||a(i,t)||(c[t]=!1,D(n))}));else if(5===s){if(r(n)&&(D(n),c.length=!0),i.length<o.length)for(var f=i.length;f<o.length;f++)c[f]=!1;else for(var l=o.length;l<i.length;l++)c[l]=!0;for(var d=Math.min(i.length,o.length),p=0;p<d;p++)void 0===c[p]&&t(i[p])}}}}(t.p[0]),e(t.p))},K:function(t){return 4===t.i?n(t):r(t)}})}n.d(e,"a",(function(){return bt})),n.d(e,"b",(function(){return Ot}));var B,U,$="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),F="undefined"!=typeof Map,z="undefined"!=typeof Set,K="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,V=$?Symbol.for("immer-nothing"):((B={})["immer-nothing"]=!0,B),W=$?Symbol.for("immer-draftable"):"__$immer_draftable",J=$?Symbol.for("immer-state"):"__$immer_state",G=("undefined"!=typeof Symbol&&Symbol.iterator,"undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames),Y=Object.getOwnPropertyDescriptors||function(t){var e={};return G(t).forEach((function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)})),e},H={},Q={get:function(t,e){if(e===J)return t;var n=h(t);if(!a(n,e))return function(t,e,n){var r,o=I(e,n);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(t.k):void 0}(t,n,e);var r=n[e];return t.I||!i(r)?r:r===T(t.t,e)?(R(t),t.o[e]=q(t.A.h,r,t)):r},has:function(t,e){return e in h(t)},ownKeys:function(t){return Reflect.ownKeys(h(t))},set:function(t,e,n){var r=I(h(t),e);if(null==r?void 0:r.set)return r.set.call(t.k,n),!0;if(!t.P){var o=T(h(t),e),i=null==o?void 0:o[J];if(i&&i.t===n)return t.o[e]=n,t.D[e]=!1,!0;if(l(n,o)&&(void 0!==n||a(t.t,e)))return!0;R(t),D(t)}return t.o[e]=n,t.D[e]=!0,!0},deleteProperty:function(t,e){return void 0!==T(t.t,e)||e in t.t?(t.D[e]=!1,R(t),D(t)):delete t.D[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=h(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r?{writable:!0,configurable:1!==t.i||"length"!==e,enumerable:r.enumerable,value:n[e]}:r},defineProperty:function(){r(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){r(12)}},X={};u(Q,(function(t,e){X[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),X.deleteProperty=function(t,e){return Q.deleteProperty.call(this,t[0],e)},X.set=function(t,e,n){return Q.set.call(this,t[0],e,n,t[0])};var Z=new(function(){function t(t){this.O=K,this.N=!0,"boolean"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}var e=t.prototype;return e.produce=function(t,e,n){if("function"==typeof t&&"function"!=typeof e){var o=e;e=t;var u=this;return function(t){var n=this;void 0===t&&(t=o);for(var r=arguments.length,i=Array(r>1?r-1:0),c=1;c<r;c++)i[c-1]=arguments[c];return u.produce(t,(function(t){var r;return(r=e).call.apply(r,[n,t].concat(i))}))}}var c;if("function"!=typeof e&&r(6),void 0!==n&&"function"!=typeof n&&r(7),i(t)){var a=E(this),s=q(this,t,void 0),f=!0;try{c=e(s),f=!1}finally{f?x(a):j(a)}return"undefined"!=typeof Promise&&c instanceof Promise?c.then((function(t){return O(a,n),S(t,a)}),(function(t){throw x(a),t})):(O(a,n),S(c,a))}if(!t||"object"!=typeof t){if((c=e(t))===V)return;return void 0===c&&(c=t),this.N&&y(c,!0),c}r(21,t)},e.produceWithPatches=function(t,e){var n,r,o=this;return"function"==typeof t?function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return o.produceWithPatches(e,(function(e){return t.apply(void 0,[e].concat(r))}))}:[this.produce(t,e,(function(t,e){n=t,r=e})),n,r]},e.createDraft=function(t){i(t)||r(8),o(t)&&(t=N(t));var e=E(this),n=q(this,t,void 0);return n[J].C=!0,j(e),n},e.finishDraft=function(t,e){var n=(t&&t[J]).A;return O(n,e),S(void 0,n)},e.setAutoFreeze=function(t){this.N=t},e.setUseProxies=function(t){t&&!K&&r(20),this.O=t},e.applyPatches=function(t,e){var n;for(n=e.length-1;n>=0;n--){var r=e[n];if(0===r.path.length&&"replace"===r.op){t=r.value;break}}var i=b("Patches").$;return o(t)?i(t,e):this.produce(t,(function(t){return i(t,e.slice(n+1))}))},t}()),tt=Z.produce,et=(Z.produceWithPatches.bind(Z),Z.setAutoFreeze.bind(Z),Z.setUseProxies.bind(Z),Z.applyPatches.bind(Z),Z.createDraft.bind(Z),Z.finishDraft.bind(Z),tt),nt=n(24);function rt(t,e){return t===e}function ot(t,e,n){if(null===e||null===n||e.length!==n.length)return!1;for(var r=e.length,o=0;o<r;o++)if(!t(e[o],n[o]))return!1;return!0}function it(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every((function(t){return"function"==typeof t}))){var n=e.map((function(t){return typeof t})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return e}!function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r]}((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rt,n=null,r=null;return function(){return ot(e,n,arguments)||(r=t.apply(null,arguments)),n=arguments,r}}));function ut(t){return function(e){var n=e.dispatch,r=e.getState;return function(e){return function(o){return"function"==typeof o?o(n,r,t):e(o)}}}}var ct=ut();ct.withExtraArgument=ut;var at=ct;function st(){return(st=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function ft(t){return(ft=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function lt(t,e){return(lt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function dt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function pt(t,e,n){return(pt=dt()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&lt(o,n.prototype),o}).apply(null,arguments)}function ht(t){var e="function"==typeof Map?new Map:void 0;return(ht=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return pt(t,arguments,ft(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),lt(r,t)})(t)}var vt="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?nt.d:nt.d.apply(null,arguments)};function yt(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}var gt=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.concat=function(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return pt(r,(e=t.prototype.concat).call.apply(e,[this].concat(o)))},o.prepend=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?pt(r,e[0].concat(this)):pt(r,e.concat(this))},r}(ht(Array));function mt(){return function(t){return function(t){void 0===t&&(t={});var e=t,n=e.thunk,r=void 0===n||n,o=(e.immutableCheck,e.serializableCheck,new gt);r&&(!function(t){return"boolean"==typeof t}(r)?o.push(at.withExtraArgument(r.extraArgument)):o.push(at));0;return o}(t)}}function bt(t){var e,n=mt(),r=t||{},o=r.reducer,i=void 0===o?void 0:o,u=r.middleware,c=void 0===u?n():u,a=r.devTools,s=void 0===a||a,f=r.preloadedState,l=void 0===f?void 0:f,d=r.enhancers,p=void 0===d?void 0:d;if("function"==typeof i)e=i;else{if(!yt(i))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');e=Object(nt.c)(i)}var h=nt.a.apply(void 0,"function"==typeof c?c(n):c),v=nt.d;s&&(v=vt(st({trace:!1},"object"==typeof s&&s)));var y=[h];Array.isArray(p)?y=[h].concat(p):"function"==typeof p&&(y=p(y));var g=v.apply(void 0,y);return Object(nt.e)(e,l,g)}function _t(t,e){function n(){if(e){var n=e.apply(void 0,arguments);if(!n)throw new Error("prepareAction did not return an object");return st({type:t,payload:n.payload},"meta"in n&&{meta:n.meta},{},"error"in n&&{error:n.error})}return{type:t,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(e){return e.type===t},n}function wt(t){var e,n={},r=[],o={addCase:function(t,e){var r="string"==typeof t?t:t.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=e,o},addMatcher:function(t,e){return r.push({matcher:t,reducer:e}),o},addDefaultCase:function(t){return e=t,o}};return t(o),[n,r,e]}function Ot(t){var e=t.name,n=t.initialState;if(!e)throw new Error("`name` is a required option for createSlice");var r=t.reducers||{},u=void 0===t.extraReducers?[]:"function"==typeof t.extraReducers?wt(t.extraReducers):[t.extraReducers],c=u[0],a=void 0===c?{}:c,s=u[1],f=void 0===s?[]:s,l=u[2],d=void 0===l?void 0:l,p=Object.keys(r),h={},v={},y={};p.forEach((function(t){var n,o,i=r[t],u=e+"/"+t;"reducer"in i?(n=i.reducer,o=i.prepare):n=i,h[t]=n,v[u]=n,y[t]=o?_t(u,o):_t(u)}));var g=function(t,e,n,r){void 0===n&&(n=[]);var u="function"==typeof e?wt(e):[e,n,r],c=u[0],a=u[1],s=u[2];return function(e,n){void 0===e&&(e=t);var r=[c[n.type]].concat(a.filter((function(t){return(0,t.matcher)(n)})).map((function(t){return t.reducer})));return 0===r.filter((function(t){return!!t})).length&&(r=[s]),r.reduce((function(t,e){if(e){if(o(t)){var r=e(t,n);return void 0===r?t:r}if(i(t))return et(t,(function(t){return e(t,n)}));var u=e(t,n);if(void 0===u){if(null===t)return t;throw Error("A case reducer on a non-draftable value must not return undefined")}return u}return t}),e)}}(n,st({},a,{},v),f,d);return{name:e,reducer:g,actions:y,caseReducers:h}}"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));M()},function(t,e,n){"use strict";var r,o,i,u=[n(104),n(105),n(106),n(107),n(108),n(109)],c=-1,a=[],s=!1;function f(){r&&o&&(r=!1,o.length?a=o.concat(a):c=-1,a.length&&l())}function l(){if(!r){s=!1,r=!0;for(var t=a.length,e=setTimeout(f);t;){for(o=a,a=[];o&&++c<t;)o[c].run();c=-1,t=a.length}o=null,c=-1,r=!1,clearTimeout(e)}}for(var d=-1,p=u.length;++d<p;)if(u[d]&&u[d].test&&u[d].test()){i=u[d].install(l);break}function h(t,e){this.fun=t,this.array=e}h.prototype.run=function(){var t=this.fun,e=this.array;switch(e.length){case 0:return t();case 1:return t(e[0]);case 2:return t(e[0],e[1]);case 3:return t(e[0],e[1],e[2]);default:return t.apply(null,e)}},t.exports=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];a.push(new h(t,e)),s||r||(s=!0,i())}},,function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";n.d(e,"a",(function(){return y})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return v})),n.d(e,"e",(function(){return c}));var r=n(56),o=function(){return Math.random().toString(36).substring(7).split("").join(".")},i={INIT:"@@redux/INIT"+o(),REPLACE:"@@redux/REPLACE"+o(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+o()}};function u(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function c(t,e,n){var o;if("function"==typeof e&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(c)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var a=t,s=e,f=[],l=f,d=!1;function p(){l===f&&(l=f.slice())}function h(){if(d)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return s}function v(t){if("function"!=typeof t)throw new Error("Expected the listener to be a function.");if(d)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var e=!0;return p(),l.push(t),function(){if(e){if(d)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");e=!1,p();var n=l.indexOf(t);l.splice(n,1),f=null}}}function y(t){if(!u(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(d)throw new Error("Reducers may not dispatch actions.");try{d=!0,s=a(s,t)}finally{d=!1}for(var e=f=l,n=0;n<e.length;n++){(0,e[n])()}return t}function g(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");a=t,y({type:i.REPLACE})}function m(){var t,e=v;return(t={subscribe:function(t){if("object"!=typeof t||null===t)throw new TypeError("Expected the observer to be an object.");function n(){t.next&&t.next(h())}return n(),{unsubscribe:e(n)}}})[r.a]=function(){return this},t}return y({type:i.INIT}),(o={dispatch:y,subscribe:v,getState:h,replaceReducer:g})[r.a]=m,o}function a(t,e){var n=e&&e.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function s(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var o=e[r];0,"function"==typeof t[o]&&(n[o]=t[o])}var u,c=Object.keys(n);try{!function(t){Object.keys(t).forEach((function(e){var n=t[e];if(void 0===n(void 0,{type:i.INIT}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:i.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+i.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(t){u=t}return function(t,e){if(void 0===t&&(t={}),u)throw u;for(var r=!1,o={},i=0;i<c.length;i++){var s=c[i],f=n[s],l=t[s],d=f(l,e);if(void 0===d){var p=a(s,e);throw new Error(p)}o[s]=d,r=r||d!==l}return(r=r||c.length!==Object.keys(t).length)?o:t}}function f(t,e){return function(){return e(t.apply(this,arguments))}}function l(t,e){if("function"==typeof t)return f(t,e);if("object"!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in t){var o=t[r];"function"==typeof o&&(n[r]=f(o,e))}return n}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t,e){var n=Object.keys(t);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(t)),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(n,!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function v(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}function y(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){var n=t.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=e.map((function(t){return t(o)}));return h({},n,{dispatch:r=v.apply(void 0,i)(n.dispatch)})}}}},function(t,e,n){"use strict";n.d(e,"i",(function(){return b})),n.d(e,"g",(function(){return _})),n.d(e,"h",(function(){return w})),n.d(e,"a",(function(){return O})),n.d(e,"f",(function(){return x})),n.d(e,"d",(function(){return j})),n.d(e,"c",(function(){return E})),n.d(e,"e",(function(){return k}));var r,o,i=n(3),u=n.n(i),c=n(20),a=n(34),s=n(19),f=n(35),l=n(28);function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){u()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var h={};["models","subscriptions","alerts","publications","conversations"].forEach((function(t){h[t]={name:t,enabled:!1,count:0,lastChecked:null}}));var v={daemonEnabled:!1,daemonPollSec:60,debugEnabled:!1,notifications:h},y={title:"Updates:",category:"Analytics",body:"",indicator:{type:"warning",text:"Pyramid Alert"},sticky:"sticky",buttons:[{title:"View",iconUrl:"https://openfin.co/favicon.ico",type:"button",cta:!0,onClick:{task:"open-pyramid"}}]},g=Object(c.b)({name:"notification",initialState:v,reducers:{setNotificationState:function(t,e){t.daemonEnabled=e.payload.debugEnabled,t.daemonPollSec=e.payload.daemonPollSec,t.daemonEnabled=e.payload.daemonEnabled,t.notifications=e.payload.notifications},setDebugEnabled:function(t,e){t.debugEnabled=e.payload},setNotificationType:function(t,e){t.notifications[e.payload.name]=e.payload},setDaemonEnabled:function(t,e){t.daemonEnabled=e.payload},setDaemonPollSec:function(t,e){t.daemonPollSec=e.payload}}}),m=g.actions,b=(m.setNotificationState,m.setDebugEnabled,m.setNotificationType),_=m.setDaemonEnabled,w=m.setDaemonPollSec,O=function(){return function(t){var e="",n=function(){if(r)return r;var t;try{t=l.a.getState().auth}catch(t){console.log(t)}if(t&&t.token)return r=new s.a(Object(s.c)(t.domain,t.token)),o=t.user_id,r;console.warn("Pyramid Client not logged in")}();if(void 0===o)e="Pyramid API Connection not Initialized",Object(a.create)(p(p({},y),{},{body:e}));else{if(!n)return void console.error("Could not dispatch message, no valid Pyramid Client");Object(f.c)(r,o).then((function(t){Object(a.create)(p(p({},y),{},{body:Object(f.a)(t)}))}))}}},x=function(t){return function(e){Object(a.create)(p(p({},y),{},{body:t}))}},j=function(t){return t.notification},E=function(t){return t.notification.daemonEnabled},k=function(t,e){return t.notification.notifications[e]};e.b=g.reducer},function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return s}));var r=n(3),o=n.n(r),i=n(20);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var c=Object(i.b)({name:"auth",initialState:{token:"",embedToken:"",embedDomain:"",domain:"",user_id:"",user_name:""},reducers:{setLoginSession:function(t,e){t.domain=e.payload.domain,t.token=e.payload.token,t.embedToken=e.payload.embedToken,t.embedDomain=e.payload.embedDomain,t.user_id=e.payload.user_id,t.user_name=e.payload.user_name}}}),a=c.actions.setLoginSession,s=function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t.auth)};e.a=c.reducer},,function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var r=n(24),o=n(20),i=n(77),u=n(33),c=n(26),a=n(38),s=Object(o.b)({name:"counter",initialState:{value:0},reducers:{increment:function(t){t.value+=1},decrement:function(t){t.value-=1},incrementByAmount:function(t,e){t.value+=e.payload}}}),f=s.actions,l=(f.increment,f.decrement,f.incrementByAmount,s.reducer),d=n(25),p=new i.a("pyramid-local-application"),h={auth:c.a,content:a.b,counter:l,notification:d.b},v=Object(r.c)(h),y=Object(u.persistentReducer)(p,"root")(v);var g=Object(o.a)({reducer:y});Object(u.persistStore)(g)},,,,function(t,e,n){"use strict";t.exports=function(t){return function(){var e=arguments.length;if(e){for(var n=[],r=-1;++r<e;)n[r]=arguments[r];return t.call(this,n)}return t.call(this,[])}}},function(t,e,n){"use strict";var r=n(23),o=n(44);Object.defineProperty(e,"__esModule",{value:!0}),e.persistentCollectionReducer=e.persistentDocumentReducer=e.persistentReducer=e.persistStore=e.waitSync=void 0;var i,u=o(n(110)),c=o(n(117)),a=r(n(51)),s=r(n(40)),f=function(){return i};e.waitSync=function(t){return(0,a.default)((function(){return(0,s.default)("waitSync",!!i,!!(0,c.isObjectUpToDate)(t),!!(0,u.isArrayUpToDate)(t)),i&&(0,u.isArrayUpToDate)(t)&&(0,c.isObjectUpToDate)(t)}))};e.persistStore=function(t){i=t};e.persistentReducer=function(t,e,n){return n?(0,u.default)(f,t,e):(0,c.default)(f,t,e)};e.persistentDocumentReducer=function(t,e){return(0,c.default)(f,t,e)};e.persistentCollectionReducer=function(t,e){return(0,u.default)(f,t,e)}},function(t,e,n){var r;window,r=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.APITopic=e.SERVICE_CHANNEL=e.SERVICE_IDENTITY=void 0,e.SERVICE_IDENTITY={uuid:"notifications-service",name:"notifications-service"},e.SERVICE_CHANNEL="of-notifications-service-v1",function(t){t.CREATE_NOTIFICATION="create-notification",t.CLEAR_NOTIFICATION="clear-notification",t.GET_APP_NOTIFICATIONS="fetch-app-notifications",t.CLEAR_APP_NOTIFICATIONS="clear-app-notifications",t.TOGGLE_NOTIFICATION_CENTER="toggle-notification-center",t.ADD_EVENT_LISTENER="add-event-listener",t.REMOVE_EVENT_LISTENER="remove-event-listener",t.GET_PROVIDER_STATUS="get-provider-status",t.IS_SUBSCRIBED="is-subscribed",t.REQUEST_SUBSCRIBE="request-subscribe"}(e.APITopic||(e.APITopic={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEventRouter=e.tryServiceDispatch=e.getServicePromise=e.eventEmitter=void 0;const r=n(6),o=n(3),i=n(0),u=n(8);let c;e.eventEmitter=new r.EventEmitter;const a=new o.DeferredPromise;let s,f=!1;async function l(){if(window.navigator.appVersion.includes("Windows"))try{const t=await fin.System.getRvmInfo();parseInt(t.version.split(".")[0])>=6&&(fin.System.launchManifest?fin.System.launchManifest("fins://system-apps/notifications",{noUi:!0}).catch(t=>{console.error("Unable to launch the Notification Center as a system app",t)}):fin.System.openUrlWithBrowser("fins://system-apps/notifications").catch(()=>{}))}catch(t){}}async function d(){var t,e;if(await a.promise,!c){if("undefined"==typeof fin){const t="fin is not defined. The openfin-notifications module is only intended for use in an OpenFin application.";return c=Promise.reject(new Error(t)),c}fin.System.getVersion().then(t=>{const e=parseInt(t.split(".")[2]);e<53&&console.warn(`API version ${e} of OpenFin version ${t} is less than 53. Please upgrade the runtime version.`)});const{name:n,uuid:r}=null!==(e=null===(t=fin.me)||void 0===t?void 0:t.identity)&&void 0!==e?e:fin.Window.me;if(r===i.SERVICE_IDENTITY.uuid&&n===i.SERVICE_IDENTITY.name)c=Promise.reject(new Error("Trying to connect to provider from provider"));else{const t=window.setTimeout(()=>{console.warn("Taking a long time to connect to Notifications service. Is the Notifications service running?")},5e3);c=fin.InterApplicationBus.Channel.connect(i.SERVICE_CHANNEL,{wait:!0,payload:{version:"1.2.0"}}).then(e=>{window.clearTimeout(t);const n=p();return e.register("WARN",t=>console.warn(t)),e.register("event",t=>{n.dispatchEvent(t)}),e.setDefaultAction(()=>!1),e.onDisconnection(()=>{console.warn("Disconnected from Notifications service"),f=!0,c=null,l(),setTimeout(()=>{console.log("Attempting to reconnect to Notifications service"),d()},300)}),f?console.log("Reconnected to Notifications service"):console.log("Connected to Notifications service"),e})}}return c}function p(){return s||(s=new u.EventRouter(e.eventEmitter)),s}"undefined"!=typeof fin&&(l(),d(),"loading"!==document.readyState?a.resolve():(window.addEventListener("DOMContentLoaded",()=>{a.resolve()}),document.addEventListener("DOMContentLoaded",()=>{a.resolve()}))),e.getServicePromise=d,e.tryServiceDispatch=async function(t,e){return(await d()).dispatch(t,e)},e.getEventRouter=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionNoopType=e.ActionTrigger=void 0,function(t){t.CONTROL="control",t.SELECT="select",t.CLOSE="close",t.EXPIRE="expire",t.SUBMIT="submit",t.PROGRAMMATIC="programmatic"}(e.ActionTrigger||(e.ActionTrigger={})),function(t){t.EVENT_DISMISS="event_dismiss"}(e.ActionNoopType||(e.ActionNoopType={}))},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(7)),r(n(4))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeferredPromise=class{constructor(){const t=new Promise((t,e)=>{this._resolve=t,this._reject=e});this._promise=t}get promise(){return this._promise}get resolve(){return this._resolve}get reject(){return this._reject}}},function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},u=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)},c=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n};Object.defineProperty(e,"__esModule",{value:!0}),e.toggleNotificationCenter=e.clearAll=e.getAll=e.clear=e.create=e.removeEventListener=e.addEventListener=e.VERSION=e.NotificationIndicatorType=e.NotificationIndicator=e.provider=void 0;const a=n(2),s=n(1),f=n(0),l=i(n(9));e.provider=l;const d=n(11),p=n(12);Object.defineProperty(e,"NotificationIndicator",{enumerable:!0,get:function(){return p.NotificationIndicator}}),Object.defineProperty(e,"NotificationIndicatorType",{enumerable:!0,get:function(){return p.IndicatorType}}),u(n(2),e),u(n(13),e),u(n(14),e),u(n(15),e),e.VERSION="1.2.0";const h=s.getEventRouter();function v(t){const{notification:e}=t;return Object.assign(Object.assign({},t),{notification:Object.assign(Object.assign({},e),{date:new Date(e.date),expires:null!==e.expires?new Date(e.expires):null})})}h.registerDeserializer("notification-created",t=>v(t)),h.registerDeserializer("notification-closed",t=>v(t)),h.registerDeserializer("notification-action",t=>{const e=v(t),{controlSource:n,controlIndex:r}=e,o=c(e,["controlSource","controlIndex"]);if(t.trigger===a.ActionTrigger.CONTROL){const e=t.notification[n][r];return Object.assign(Object.assign({},o),{control:e})}return o}),e.addEventListener=function(t,e){d.validateEnvironment(),t=d.sanitizeEventType(t),e=d.sanitizeFunction(e);const n=s.eventEmitter.listenerCount(t);s.eventEmitter.addListener(t,e),0===n&&1===s.eventEmitter.listenerCount(t)&&s.tryServiceDispatch(f.APITopic.ADD_EVENT_LISTENER,t)},e.removeEventListener=function(t,e){d.validateEnvironment(),t=d.sanitizeEventType(t),e=d.sanitizeFunction(e);const n=s.eventEmitter.listenerCount(t);s.eventEmitter.removeListener(t,e),1===n&&0===s.eventEmitter.listenerCount(t)&&s.tryServiceDispatch(f.APITopic.REMOVE_EVENT_LISTENER,t)},e.create=async function(t){if("object"!=typeof t||null===t)throw new Error("Invalid argument passed to create: argument must be an object and must not be null");if(void 0!==t.date&&!(t.date instanceof Date))throw new Error('Invalid argument passed to create: "date" must be a valid Date object');if(void 0!==t.expires&&null!==t.expires&&!(t.expires instanceof Date))throw new Error('Invalid argument passed to create: "expires" must be null or a valid Date object');const e=await s.tryServiceDispatch(f.APITopic.CREATE_NOTIFICATION,Object.assign(Object.assign({},t),{date:t.date&&t.date.valueOf(),expires:t.expires&&t.expires.valueOf()}));return Object.assign(Object.assign({},e),{date:new Date(e.date),expires:null!==e.expires?new Date(e.expires):null})},e.clear=async function(t){return s.tryServiceDispatch(f.APITopic.CLEAR_NOTIFICATION,{id:t})},e.getAll=async function(){return(await s.tryServiceDispatch(f.APITopic.GET_APP_NOTIFICATIONS,void 0)).map(t=>Object.assign(Object.assign({},t),{indicator:t.indicator||null,date:new Date(t.date),expires:null!==t.expires?new Date(t.expires):null}))},e.clearAll=async function(){return s.tryServiceDispatch(f.APITopic.CLEAR_APP_NOTIFICATIONS,void 0)},e.toggleNotificationCenter=async function(){return s.tryServiceDispatch(f.APITopic.TOGGLE_NOTIFICATION_CENTER,void 0)}},function(t,e,n){"use strict";var r,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var u=Number.isNaN||function(t){return t!=t};function c(){c.init.call(this)}t.exports=c,t.exports.once=function(t,e){return new Promise((function(n,r){function o(){void 0!==i&&t.removeListener("error",i),n([].slice.call(arguments))}var i;"error"!==e&&(i=function(n){t.removeListener(e,o),r(n)},t.once("error",i)),t.once(e,o)}))},c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var a=10;function s(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function f(t){return void 0===t._maxListeners?c.defaultMaxListeners:t._maxListeners}function l(t,e,n,r){var o,i,u,c;if(s(n),void 0===(i=t._events)?(i=t._events=Object.create(null),t._eventsCount=0):(void 0!==i.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events),u=i[e]),void 0===u)u=i[e]=n,++t._eventsCount;else if("function"==typeof u?u=i[e]=r?[n,u]:[u,n]:r?u.unshift(n):u.push(n),(o=f(t))>0&&u.length>o&&!u.warned){u.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=u.length,c=a,console&&console.warn&&console.warn(c)}return t}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=d.bind(r);return o.listener=n,r.wrapFn=o,o}function h(t,e,n){var r=t._events;if(void 0===r)return[];var o=r[e];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(o):y(o,o.length)}function v(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function y(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(t){if("number"!=typeof t||t<0||u(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");a=t}}),c.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||u(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},c.prototype.getMaxListeners=function(){return f(this)},c.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var u;if(e.length>0&&(u=e[0]),u instanceof Error)throw u;var c=new Error("Unhandled error."+(u?" ("+u.message+")":""));throw c.context=u,c}var a=o[t];if(void 0===a)return!1;if("function"==typeof a)i(a,this,e);else{var s=a.length,f=y(a,s);for(n=0;n<s;++n)i(f[n],this,e)}return!0},c.prototype.addListener=function(t,e){return l(this,t,e,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(t,e){return l(this,t,e,!0)},c.prototype.once=function(t,e){return s(e),this.on(t,p(this,t,e)),this},c.prototype.prependOnceListener=function(t,e){return s(e),this.prependListener(t,p(this,t,e)),this},c.prototype.removeListener=function(t,e){var n,r,o,i,u;if(s(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===e||n[i].listener===e){u=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,o),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,u||e)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},c.prototype.listeners=function(t){return h(this,t,!0)},c.prototype.rawListeners=function(t){return h(this,t,!1)},c.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):v.call(t,e)},c.prototype.listenerCount=v,c.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(4);async function o(t,e){let n=0;for(const r of t)await e(r,n,t),n++}async function i(t,e){await Promise.all(t.map(e))}function u(t,e,n){const o=new r.DeferredPromise,i=t.add((...t)=>{e(...t)&&(i.remove(),o.resolve())});return n&&n.catch(t=>{i.remove(),o.reject(t)}),c(o.promise)}function c(t){return t.catch(()=>{}),t}e.serialForEach=o,e.serialMap=async function(t,e){const n=[];return await o(t,async(t,r,o)=>{n.push(await e(t,r,o))}),n},e.serialFilter=async function(t,e){const n=[];return await o(t,async(t,r,o)=>{await e(t,r,o)&&n.push(t)}),n},e.parallelForEach=i,e.parallelMap=async function(t,e){const n=[];return await i(t,async(t,r,o)=>{n[r]=await e(t,r,o)}),n},e.parallelFilter=async function(t,e){const n=[];return await i(t,async(t,r,o)=>{n[r]=await e(t,r,o)}),t.filter((t,e)=>n[e])},e.withStrictTimeout=function(t,e,n){const r=new Promise((e,r)=>setTimeout(()=>r(new Error(n)),t));return c(Promise.race([r,e]))},e.withTimeout=function(t,e){const n=new Promise(e=>setTimeout(()=>e([!0,void 0]),t)),r=e.then(t=>[!1,t]);return Promise.race([n,r])},e.untilTrue=function(t,e,n){return e()?Promise.resolve():u(t,e,n)},e.untilSignal=u,e.allowReject=c},function(t,e,n){"use strict";var r=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n};Object.defineProperty(e,"__esModule",{value:!0}),e.EventRouter=void 0,e.EventRouter=class{constructor(t){this._emitterProviders={},this._deserializers={},this._defaultEmitter=t}registerEmitterProvider(t,e){this._emitterProviders[t]=e}registerDeserializer(t,e){this._deserializers[t]=e}dispatchEvent(t){const{type:e,target:n}=t,o=r(t,["type","target"]);let i;if(!n)throw new Error("Invalid event, no target specified");if("default"===n)i=this._defaultEmitter;else{if(!this._emitterProviders.hasOwnProperty(n.type))throw new Error(`Invalid target, no provider registered for '${n.type}'`);i=this._emitterProviders[n.type](n.id)}const u=Object.assign({type:e},o),c=this._deserializers[e];c?i.emit(e,c(u)):i.emit(e,u)}}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.isConnectedToAtLeast=e.getStatus=void 0;const o=r(n(10)),i=n(3),u=n(1),c=n(0);function a(){return i.withStrictTimeout(500,u.tryServiceDispatch(c.APITopic.GET_PROVIDER_STATUS,void 0),"").catch(()=>({connected:!1,version:null}))}e.getStatus=a,e.isConnectedToAtLeast=async function(t){const e=await a();if(e.connected){const n=o.default(e.version,t);if(0===n||1===n)return!0}return!1}},function(t,e){t.exports=function(t,e){for(var n=t.split("."),r=e.split("."),o=0;o<3;o++){var i=Number(n[o]),u=Number(r[o]);if(i>u)return 1;if(u>i)return-1;if(!isNaN(i)&&isNaN(u))return 1;if(isNaN(i)&&!isNaN(u))return-1}return 0}},function(t,e,n){"use strict";function r(t,e){let n;try{n=JSON.stringify(t)}catch(t){n=e}return n}Object.defineProperty(e,"__esModule",{value:!0}),e.safeStringify=e.validateEnvironment=e.sanitizeEventType=e.sanitizeFunction=void 0,e.sanitizeFunction=function(t){if("function"!=typeof t)throw new Error(`Invalid argument passed: ${r(t,"The provided value")} is not a valid function`);return t},e.sanitizeEventType=function(t){if("notification-action"===t||"notification-created"===t||"notification-closed"===t)return t;throw new Error(`Invalid argument passed: ${r(t,"The provided event type")} is not a valid Notifications event type`)},e.validateEnvironment=function(){if("undefined"==typeof fin)throw new Error("fin is not defined. The openfin-fdc3 module is only intended for use in an OpenFin application.")},e.safeStringify=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndicatorType=void 0,function(t){t.FAILURE="failure",t.WARNING="warning",t.SUCCESS="success"}(e.IndicatorType||(e.IndicatorType={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.requestSubscribe=e.isSubscribed=void 0;const r=n(1),o=n(0);e.isSubscribed=async function(t){return r.tryServiceDispatch(o.APITopic.IS_SUBSCRIBED,t).catch(e=>{if("No action registered"===(null==e?void 0:e.message))throw new Error(`Cannot query subscription to ${t||"feed"}. Current provider version does not support this API.`);throw e})},e.requestSubscribe=async function(t){return r.tryServiceDispatch(o.APITopic.REQUEST_SUBSCRIBE,t).catch(e=>{if("No action registered"===(null==e?void 0:e.message))throw new Error(`Cannot request subscription to ${t||"feed"}. Current provider version does not support this API.`);throw e})}}])},t.exports=r()},function(t,e,n){"use strict";n.d(e,"c",(function(){return h})),n.d(e,"a",(function(){return y})),n.d(e,"b",(function(){return g}));var r=n(3),o=n.n(r),i=n(10),u=n.n(i),c=n(8),a=n.n(c),s=n(4),f=n.n(s),l=n(25);function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function h(t,e){return v.apply(this,arguments)}function v(){return(v=a()(f.a.mark((function t(e,n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getNotificationCount(n).then((function(t){return t.data}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(t){for(var e=[],n=0,r=Object.entries(t);n<r.length;n++){var o=u()(r[n],2),i=o[0],c=o[1];e.push(i.toUpperCase()+": ("+(null==c?void 0:c.toString())+")")}return e.join("\n")}function g(t,e,n){return m.apply(this,arguments)}function m(){return(m=a()(f.a.mark((function t(e,n,r){var o,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=r.getState().notification,t.next=3,e.getNotificationCount(n).then((function(t){return t.data}));case 3:return i=t.sent,t.next=6,b(r,o,i);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(t,e,n){return _.apply(this,arguments)}function _(){return(_=a()(f.a.mark((function t(e,n,r){var o;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o={},Object.values(n.notifications).forEach((function(t){var i=t.name;if(t.enabled){var u=r[i],c=void 0!==u?u-t.count:0;c>0?(console.debug("New unread of type: "+i+" @"+n.notifications[i].count),o[i]=c):console.debug("Still: "+i+" @"+n.notifications[i].count)}e.dispatch(Object(l.i)(p(p({},t),{},{count:r[i]})))})),0!==Object.keys(o).length){t.next=4;break}return t.abrupt("return",void 0);case 4:return t.abrupt("return",o);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},,function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"e",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return f}));var r=n(3),o=n.n(r),i=n(20),u=Object(i.b)({name:"content",initialState:{server:{}},reducers:{addEmbedView:function(t,e){var n;console.log("saving:"),console.log(e.payload);var r=e.payload.server,i=e.payload.url,u=e.payload.id;null!=t&&null!==(n=t.server[r])&&void 0!==n&&n.content[u]||null!=t&&t.server[r]?(t.server[r].content[u]=e.payload,t.server[r].aliases[i]=u):t.server[r]={id:r,aliases:o()({},i,u),content:o()({},u,e.payload)}}}}),c=u.actions.addEmbedView,a=function(t,e){var n;return null==t||null===(n=t.content)||void 0===n?void 0:n.server[e]},s=function(t,e,n,r){var o,i=null==t||null===(o=t.content.server[e])||void 0===o?void 0:o.content[n];return void 0!==i?i:function(t,e,n){return{id:t,server:e,name:n||"",url:"",styles:{width:"100vw",height:"100vh","min-width":"500px","min-height":"500px","max-width":"100%","max-height":"100%"}}}(n,e,r)},f=function(t,e,n){var r,o,i=null==t||null===(r=t.content.server[e])||void 0===r?void 0:r.aliases[n];if(void 0!==i)return null==t||null===(o=t.content.server[e])||void 0===o?void 0:o.content[i]};e.b=u.reducer},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(){return function(){}}},,,,function(t,e,n){var r=n(49).default;function o(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return o=function(){return t},t}t.exports=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=o();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if(Object.prototype.hasOwnProperty.call(t,u)){var c=i?Object.getOwnPropertyDescriptor(t,u):null;c&&(c.get||c.set)?Object.defineProperty(n,u,c):n[u]=t[u]}return n.default=t,e&&e.set(t,n),n},t.exports.default=t.exports,t.exports.__esModule=!0},,function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){t.exports=function(t){"use strict";var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(t,e){var n=t[0],r=t[1],o=t[2],i=t[3];r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&o|~r&i)+e[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&o)+e[1]-389564586|0)<<12|i>>>20)+n|0)&n|~i&r)+e[2]+606105819|0)<<17|o>>>15)+i|0)&i|~o&n)+e[3]-1044525330|0)<<22|r>>>10)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&o|~r&i)+e[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&o)+e[5]+1200080426|0)<<12|i>>>20)+n|0)&n|~i&r)+e[6]-1473231341|0)<<17|o>>>15)+i|0)&i|~o&n)+e[7]-45705983|0)<<22|r>>>10)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&o|~r&i)+e[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&o)+e[9]-1958414417|0)<<12|i>>>20)+n|0)&n|~i&r)+e[10]-42063|0)<<17|o>>>15)+i|0)&i|~o&n)+e[11]-1990404162|0)<<22|r>>>10)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&o|~r&i)+e[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&o)+e[13]-40341101|0)<<12|i>>>20)+n|0)&n|~i&r)+e[14]-1502002290|0)<<17|o>>>15)+i|0)&i|~o&n)+e[15]+1236535329|0)<<22|r>>>10)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&i|o&~i)+e[1]-165796510|0)<<5|n>>>27)+r|0)&o|r&~o)+e[6]-1069501632|0)<<9|i>>>23)+n|0)&r|n&~r)+e[11]+643717713|0)<<14|o>>>18)+i|0)&n|i&~n)+e[0]-373897302|0)<<20|r>>>12)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&i|o&~i)+e[5]-701558691|0)<<5|n>>>27)+r|0)&o|r&~o)+e[10]+38016083|0)<<9|i>>>23)+n|0)&r|n&~r)+e[15]-660478335|0)<<14|o>>>18)+i|0)&n|i&~n)+e[4]-405537848|0)<<20|r>>>12)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&i|o&~i)+e[9]+568446438|0)<<5|n>>>27)+r|0)&o|r&~o)+e[14]-1019803690|0)<<9|i>>>23)+n|0)&r|n&~r)+e[3]-187363961|0)<<14|o>>>18)+i|0)&n|i&~n)+e[8]+1163531501|0)<<20|r>>>12)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&i|o&~i)+e[13]-1444681467|0)<<5|n>>>27)+r|0)&o|r&~o)+e[2]-51403784|0)<<9|i>>>23)+n|0)&r|n&~r)+e[7]+1735328473|0)<<14|o>>>18)+i|0)&n|i&~n)+e[12]-1926607734|0)<<20|r>>>12)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r^o^i)+e[5]-378558|0)<<4|n>>>28)+r|0)^r^o)+e[8]-2022574463|0)<<11|i>>>21)+n|0)^n^r)+e[11]+1839030562|0)<<16|o>>>16)+i|0)^i^n)+e[14]-35309556|0)<<23|r>>>9)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r^o^i)+e[1]-1530992060|0)<<4|n>>>28)+r|0)^r^o)+e[4]+1272893353|0)<<11|i>>>21)+n|0)^n^r)+e[7]-155497632|0)<<16|o>>>16)+i|0)^i^n)+e[10]-1094730640|0)<<23|r>>>9)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r^o^i)+e[13]+681279174|0)<<4|n>>>28)+r|0)^r^o)+e[0]-358537222|0)<<11|i>>>21)+n|0)^n^r)+e[3]-722521979|0)<<16|o>>>16)+i|0)^i^n)+e[6]+76029189|0)<<23|r>>>9)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r^o^i)+e[9]-640364487|0)<<4|n>>>28)+r|0)^r^o)+e[12]-421815835|0)<<11|i>>>21)+n|0)^n^r)+e[15]+530742520|0)<<16|o>>>16)+i|0)^i^n)+e[2]-995338651|0)<<23|r>>>9)+o|0,r=((r+=((i=((i+=(r^((n=((n+=(o^(r|~i))+e[0]-198630844|0)<<6|n>>>26)+r|0)|~o))+e[7]+1126891415|0)<<10|i>>>22)+n|0)^((o=((o+=(n^(i|~r))+e[14]-1416354905|0)<<15|o>>>17)+i|0)|~n))+e[5]-57434055|0)<<21|r>>>11)+o|0,r=((r+=((i=((i+=(r^((n=((n+=(o^(r|~i))+e[12]+1700485571|0)<<6|n>>>26)+r|0)|~o))+e[3]-1894986606|0)<<10|i>>>22)+n|0)^((o=((o+=(n^(i|~r))+e[10]-1051523|0)<<15|o>>>17)+i|0)|~n))+e[1]-2054922799|0)<<21|r>>>11)+o|0,r=((r+=((i=((i+=(r^((n=((n+=(o^(r|~i))+e[8]+1873313359|0)<<6|n>>>26)+r|0)|~o))+e[15]-30611744|0)<<10|i>>>22)+n|0)^((o=((o+=(n^(i|~r))+e[6]-1560198380|0)<<15|o>>>17)+i|0)|~n))+e[13]+1309151649|0)<<21|r>>>11)+o|0,r=((r+=((i=((i+=(r^((n=((n+=(o^(r|~i))+e[4]-145523070|0)<<6|n>>>26)+r|0)|~o))+e[11]-1120210379|0)<<10|i>>>22)+n|0)^((o=((o+=(n^(i|~r))+e[2]+718787259|0)<<15|o>>>17)+i|0)|~n))+e[9]-343485551|0)<<21|r>>>11)+o|0,t[0]=n+t[0]|0,t[1]=r+t[1]|0,t[2]=o+t[2]|0,t[3]=i+t[3]|0}function r(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}function o(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return n}function i(t){var e,o,i,u,c,a,s=t.length,f=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=s;e+=64)n(f,r(t.substring(e-64,e)));for(o=(t=t.substring(e-64)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<o;e+=1)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(n(f,i),e=0;e<16;e+=1)i[e]=0;return u=(u=8*s).toString(16).match(/(.*?)(.{0,8})$/),c=parseInt(u[2],16),a=parseInt(u[1],16)||0,i[14]=c,i[15]=a,n(f,i),f}function u(t){var n,r="";for(n=0;n<4;n+=1)r+=e[t>>8*n+4&15]+e[t>>8*n&15];return r}function c(t){var e;for(e=0;e<t.length;e+=1)t[e]=u(t[e]);return t.join("")}function a(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function s(t){var e,n=[],r=t.length;for(e=0;e<r-1;e+=2)n.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,n)}function f(){this.reset()}return c(i("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function e(t,e){return(t=0|t||0)<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(n,r){var o,i,u,c,a=this.byteLength,s=e(n,a),f=a;return r!==t&&(f=e(r,a)),s>f?new ArrayBuffer(0):(o=f-s,i=new ArrayBuffer(o),u=new Uint8Array(i),c=new Uint8Array(this,s,o),u.set(c),i)}}(),f.prototype.append=function(t){return this.appendBinary(a(t)),this},f.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var e,o=this._buff.length;for(e=64;e<=o;e+=64)n(this._hash,r(this._buff.substring(e-64,e)));return this._buff=this._buff.substring(e-64),this},f.prototype.end=function(t){var e,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<o;e+=1)i[e>>2]|=r.charCodeAt(e)<<(e%4<<3);return this._finish(i,o),n=c(this._hash),t&&(n=s(n)),this.reset(),n},f.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},f.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},f.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},f.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},f.prototype._finish=function(t,e){var r,o,i,u=e;if(t[u>>2]|=128<<(u%4<<3),u>55)for(n(this._hash,t),u=0;u<16;u+=1)t[u]=0;r=(r=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(r[2],16),i=parseInt(r[1],16)||0,t[14]=o,t[15]=i,n(this._hash,t)},f.hash=function(t,e){return f.hashBinary(a(t),e)},f.hashBinary=function(t,e){var n=c(i(t));return e?s(n):n},f.ArrayBuffer=function(){this.reset()},f.ArrayBuffer.prototype.append=function(t){var e,r,i,u,c,a=(r=this._buff.buffer,i=t,u=!0,(c=new Uint8Array(r.byteLength+i.byteLength)).set(new Uint8Array(r)),c.set(new Uint8Array(i),r.byteLength),u?c:c.buffer),s=a.length;for(this._length+=t.byteLength,e=64;e<=s;e+=64)n(this._hash,o(a.subarray(e-64,e)));return this._buff=e-64<s?new Uint8Array(a.buffer.slice(e-64)):new Uint8Array(0),this},f.ArrayBuffer.prototype.end=function(t){var e,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<o;e+=1)i[e>>2]|=r[e]<<(e%4<<3);return this._finish(i,o),n=c(this._hash),t&&(n=s(n)),this.reset(),n},f.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},f.ArrayBuffer.prototype.getState=function(){var t,e=f.prototype.getState.call(this);return e.buff=(t=e.buff,String.fromCharCode.apply(null,new Uint8Array(t))),e},f.ArrayBuffer.prototype.setState=function(t){return t.buff=function(t,e){var n,r=t.length,o=new ArrayBuffer(r),i=new Uint8Array(o);for(n=0;n<r;n+=1)i[n]=t.charCodeAt(n);return e?i:o}(t.buff,!0),f.prototype.setState.call(this,t)},f.ArrayBuffer.prototype.destroy=f.prototype.destroy,f.ArrayBuffer.prototype._finish=f.prototype._finish,f.ArrayBuffer.hash=function(t,e){var r=c(function(t){var e,r,i,u,c,a,s=t.length,f=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=s;e+=64)n(f,o(t.subarray(e-64,e)));for(t=e-64<s?t.subarray(e-64):new Uint8Array(0),r=t.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<r;e+=1)i[e>>2]|=t[e]<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(n(f,i),e=0;e<16;e+=1)i[e]=0;return u=(u=8*s).toString(16).match(/(.*?)(.{0,8})$/),c=parseInt(u[2],16),a=parseInt(u[1],16)||0,i[14]=c,i[15]=a,n(f,i),f}(new Uint8Array(t)));return e?s(r):r},f}()},,function(t,e){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(t.exports=n=function(t){return typeof t},t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.default=t.exports,t.exports.__esModule=!0),n(e)}t.exports=n,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";var r=n(23);Object.defineProperty(e,"__esModule",{value:!0}),e.getDiff=e.getInsertedItems=e.getDeletedItems=e.uniqOmittingDocProps=e.equalsOmittingDocProps=e.omitDocProps=void 0;var o=r(n(3)),i=n(138);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var c=(0,i.omit)(["_id","_rev","_deleted","madeBy"]);e.omitDocProps=c;var a=function(t,e){return(0,i.equals)(c(t),c(e))};e.equalsOmittingDocProps=a;var s=(0,i.uniqWith)(a);e.uniqOmittingDocProps=s;var f=function(t,e){return(0,i.differenceWith)(a,e,t)};e.getDeletedItems=f;var l=(0,i.differenceWith)(a);e.getInsertedItems=l;e.getDiff=function(t,e){return(0,i.concat)(l(t,e),f(t,e).map((function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){(0,o.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t,{_deleted:!0})})))}},function(t,e,n){"use strict";var r=n(23);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(n(4)),i=r(n(113)),u=function(t){var e=0;return function n(){var r;return o.default.async((function(u){for(;;)switch(u.prev=u.next){case 0:return e++,u.next=3,o.default.awrap((0,i.default)(100));case 3:return r=t(),u.abrupt("return",r||(e>1e3?null:n()));case 5:case"end":return u.stop()}}))}()};e.default=u},,,,,function(t,e,n){"use strict";(function(t,r){var o,i=n(76);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:r;var u=Object(i.a)(o);e.a=u}).call(this,n(36),n(103)(t))},function(t,e,n){"use strict";function r(t,e,n){var r=n[n.length-1];t===r.element&&(n.pop(),r=n[n.length-1]);var o=r.element,i=r.index;if(Array.isArray(o))o.push(t);else if(i===e.length-2){o[e.pop()]=t}else e.push(t)}e.stringify=function(t){var e=[];e.push({obj:t});for(var n,r,o,i,u,c,a,s,f,l,d="";n=e.pop();)if(r=n.obj,d+=n.prefix||"",o=n.val||"")d+=o;else if("object"!=typeof r)d+=void 0===r?null:JSON.stringify(r);else if(null===r)d+="null";else if(Array.isArray(r)){for(e.push({val:"]"}),i=r.length-1;i>=0;i--)u=0===i?"":",",e.push({obj:r[i],prefix:u});e.push({val:"["})}else{for(a in c=[],r)r.hasOwnProperty(a)&&c.push(a);for(e.push({val:"}"}),i=c.length-1;i>=0;i--)f=r[s=c[i]],l=i>0?",":"",l+=JSON.stringify(s)+":",e.push({obj:f,prefix:l});e.push({val:"{"})}return d},e.parse=function(t){for(var e,n,o,i,u,c,a,s,f,l=[],d=[],p=0;;)if("}"!==(e=t[p++])&&"]"!==e&&void 0!==e)switch(e){case" ":case"\t":case"\n":case":":case",":break;case"n":p+=3,r(null,l,d);break;case"t":p+=3,r(!0,l,d);break;case"f":p+=4,r(!1,l,d);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(n="",p--;;){if(o=t[p++],!/[\d\.\-e\+]/.test(o)){p--;break}n+=o}r(parseFloat(n),l,d);break;case'"':for(i="",u=void 0,c=0;'"'!==(a=t[p++])||"\\"===u&&c%2==1;)i+=a,"\\"===(u=a)?c++:c=0;r(JSON.parse('"'+i+'"'),l,d);break;case"[":s={element:[],index:l.length},l.push(s.element),d.push(s);break;case"{":f={element:{},index:l.length},l.push(f.element),d.push(f);break;default:throw new Error("unexpectedly reached end of input: "+e)}else{if(1===l.length)return l.pop();r(l.pop(),l,d)}}},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.default=t.exports,t.exports.__esModule=!0,n(e)}t.exports=n,t.exports.default=t.exports,t.exports.__esModule=!0},,,,function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function c(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(t){r=u}}();var a,s=[],f=!1,l=-1;function d(){f&&a&&(f=!1,a.length?s=a.concat(s):l=-1,s.length&&p())}function p(){if(!f){var t=c(d);f=!0;for(var e=s.length;e;){for(a=s,s=[];++l<e;)a&&a[l].run();l=-1,e=s.length}a=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new h(t,e)),1!==s.length||f||c(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},,,,,,function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e,n){"use strict";var r=n(14);function o(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var i;if(n)i=n(e);else if(r.isURLSearchParams(e))i=e.toString();else{var u=[];r.forEach(e,(function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),u.push(o(e)+"="+o(t))})))})),i=u.join("&")}if(i){var c=t.indexOf("#");-1!==c&&(t=t.slice(0,c)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";(function(e){var r=n(14),o=n(126),i={"Content-Type":"application/x-www-form-urlencoded"};function u(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var c,a={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==e&&"[object process]"===Object.prototype.toString.call(e))&&(c=n(72)),c),transformRequest:[function(t,e){return o(e,"Accept"),o(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(u(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(u(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};a.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(t){a.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){a.headers[t]=r.merge(i)})),t.exports=a}).call(this,n(62))},function(t,e,n){"use strict";var r=n(14),o=n(127),i=n(69),u=n(129),c=n(132),a=n(133),s=n(73);t.exports=function(t){return new Promise((function(e,f){var l=t.data,d=t.headers;r.isFormData(l)&&delete d["Content-Type"];var p=new XMLHttpRequest;if(t.auth){var h=t.auth.username||"",v=t.auth.password||"";d.Authorization="Basic "+btoa(h+":"+v)}var y=u(t.baseURL,t.url);if(p.open(t.method.toUpperCase(),i(y,t.params,t.paramsSerializer),!0),p.timeout=t.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?c(p.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:t,request:p};o(e,f,r),p=null}},p.onabort=function(){p&&(f(s("Request aborted",t,"ECONNABORTED",p)),p=null)},p.onerror=function(){f(s("Network Error",t,null,p)),p=null},p.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),f(s(e,t,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var g=n(134),m=(t.withCredentials||a(y))&&t.xsrfCookieName?g.read(t.xsrfCookieName):void 0;m&&(d[t.xsrfHeaderName]=m)}if("setRequestHeader"in p&&r.forEach(d,(function(t,e){void 0===l&&"content-type"===e.toLowerCase()?delete d[e]:p.setRequestHeader(e,t)})),r.isUndefined(t.withCredentials)||(p.withCredentials=!!t.withCredentials),t.responseType)try{p.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&p.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){p&&(p.abort(),f(t),p=null)})),void 0===l&&(l=null),p.send(l)}))}},function(t,e,n){"use strict";var r=n(128);t.exports=function(t,e,n,o,i){var u=new Error(t);return r(u,e,n,o,i)}},function(t,e,n){"use strict";var r=n(14);t.exports=function(t,e){e=e||{};var n={},o=["url","method","params","data"],i=["headers","auth","proxy"],u=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];r.forEach(o,(function(t){void 0!==e[t]&&(n[t]=e[t])})),r.forEach(i,(function(o){r.isObject(e[o])?n[o]=r.deepMerge(t[o],e[o]):void 0!==e[o]?n[o]=e[o]:r.isObject(t[o])?n[o]=r.deepMerge(t[o]):void 0!==t[o]&&(n[o]=t[o])})),r.forEach(u,(function(r){void 0!==e[r]?n[r]=e[r]:void 0!==t[r]&&(n[r]=t[r])}));var c=o.concat(i).concat(u),a=Object.keys(e).filter((function(t){return-1===c.indexOf(t)}));return r.forEach(a,(function(r){void 0!==e[r]?n[r]=e[r]:void 0!==t[r]&&(n[r]=t[r])})),n}},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";(function(t){var r,o,i=n(21),u=n.n(i),c=n(85),a=n(47),s=n.n(a),f=n(57),l=n.n(f),d=n(32),p=n.n(d),h=n(18),v=n.n(h),y=n(12),g=n.n(y);function m(t){return"$"+t}function b(t){return t.substring(1)}function _(){this._store={}}function w(t){if(this._store=new _,t&&Array.isArray(t))for(var e=0,n=t.length;e<n;e++)this.add(t[e])}function O(t){if(t instanceof ArrayBuffer)return function(t){if("function"==typeof t.slice)return t.slice(0);var e=new ArrayBuffer(t.byteLength),n=new Uint8Array(e),r=new Uint8Array(t);return n.set(r),e}(t);var e=t.size,n=t.type;return"function"==typeof t.slice?t.slice(0,e,n):t.webkitSlice(0,e,n)}_.prototype.get=function(t){var e=m(t);return this._store[e]},_.prototype.set=function(t,e){var n=m(t);return this._store[n]=e,!0},_.prototype.has=function(t){return m(t)in this._store},_.prototype.delete=function(t){var e=m(t),n=e in this._store;return delete this._store[e],n},_.prototype.forEach=function(t){for(var e=Object.keys(this._store),n=0,r=e.length;n<r;n++){var o=e[n];t(this._store[o],o=b(o))}},Object.defineProperty(_.prototype,"size",{get:function(){return Object.keys(this._store).length}}),w.prototype.add=function(t){return this._store.set(t,!0)},w.prototype.has=function(t){return this._store.has(t)},w.prototype.forEach=function(t){this._store.forEach((function(e,n){t(n)}))},Object.defineProperty(w.prototype,"size",{get:function(){return this._store.size}}),!function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var t=Object.getOwnPropertyDescriptor(Map,Symbol.species);return t&&"get"in t&&Map[Symbol.species]===Map}()?(r=w,o=_):(r=Set,o=Map);var x=Function.prototype.toString,j=x.call(Object);function E(t){var e,n,r;if(!t||"object"!=typeof t)return t;if(Array.isArray(t)){for(e=[],n=0,r=t.length;n<r;n++)e[n]=E(t[n]);return e}if(t instanceof Date)return t.toISOString();if(function(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer||"undefined"!=typeof Blob&&t instanceof Blob}(t))return O(t);if(!function(t){var e=Object.getPrototypeOf(t);if(null===e)return!0;var n=e.constructor;return"function"==typeof n&&n instanceof n&&x.call(n)==j}(t))return t;for(n in e={},t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=E(t[n]);void 0!==o&&(e[n]=o)}return e}function k(t){var e=!1;return p()((function(n){if(e)throw new Error("once called more than once");e=!0,t.apply(this,n)}))}function S(t){return p()((function(e){e=E(e);var n=this,r="function"==typeof e[e.length-1]&&e.pop(),o=new Promise((function(r,o){var i;try{var u=k((function(t,e){t?o(t):r(e)}));e.push(u),(i=t.apply(n,e))&&"function"==typeof i.then&&r(i)}catch(t){o(t)}}));return r&&o.then((function(t){r(null,t)}),r),o}))}function P(t,e){return S(p()((function(n){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var r=this;return function(t,e,n){if(t.constructor.listeners("debug").length){for(var r=["api",t.name,e],o=0;o<n.length-1;o++)r.push(n[o]);t.constructor.emit("debug",r);var i=n[n.length-1];n[n.length-1]=function(n,r){var o=["api",t.name,e];o=o.concat(n?["error",n]:["success",r]),t.constructor.emit("debug",o),i(n,r)}}}(r,t,n),this.taskqueue.isReady?e.apply(this,n):new Promise((function(e,o){r.taskqueue.addTask((function(i){i?o(i):e(r[t].apply(r,n))}))}))})))}function A(t,e){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];i in t&&(n[i]=t[i])}return n}var C;function T(t){return t}function I(t){return[{ok:t}]}function D(t,e,n){var r=e.docs,i=new o;r.forEach((function(t){i.has(t.id)?i.get(t.id).push(t):i.set(t.id,[t])}));var u=i.size,c=0,a=new Array(u);function s(){var t;++c===u&&(t=[],a.forEach((function(e){e.docs.forEach((function(n){t.push({id:e.id,docs:[n]})}))})),n(null,{results:t}))}var f=[];i.forEach((function(t,e){f.push(e)}));var l=0;function d(){if(!(l>=f.length)){var n=Math.min(l+6,f.length),r=f.slice(l,n);!function(n,r){n.forEach((function(n,o){var u=r+o,c=i.get(n),f=A(c[0],["atts_since","attachments"]);f.open_revs=c.map((function(t){return t.rev})),f.open_revs=f.open_revs.filter(T);var l=T;0===f.open_revs.length&&(delete f.open_revs,l=I),["revs","attachments","binary","ajax","latest"].forEach((function(t){t in e&&(f[t]=e[t])})),t.get(n,f,(function(t,e){var r,o,i;r=t?[{error:t}]:l(e),o=n,i=r,a[u]={id:o,docs:i},s(),d()}))}))}(r,l),l+=r.length}}d()}try{localStorage.setItem("_pouch_check_localstorage",1),C=!!localStorage.getItem("_pouch_check_localstorage")}catch(t){C=!1}function R(){return C}function q(){g.a.call(this),this._listeners={},function(t){R()&&addEventListener("storage",(function(e){t.emit(e.key)}))}(this)}function N(t){if("undefined"!=typeof console&&"function"==typeof console[t]){var e=Array.prototype.slice.call(arguments,1);console[t].apply(console,e)}}function L(t){var e=0;return t||(e=2e3),function(t,e){return t=parseInt(t,10)||0,(e=parseInt(e,10))!=e||e<=t?e=(t||1)<<1:e+=1,e>6e5&&(t=3e5,e=6e5),~~((e-t)*Math.random()+t)}(t,e)}function M(t,e){N("info","The above "+t+" is totally normal. "+e)}v()(q,g.a),q.prototype.addListener=function(t,e,n,r){if(!this._listeners[e]){var o=this,i=!1;this._listeners[e]=c,this.on(t,c)}function c(){if(o._listeners[e])if(i)i="waiting";else{i=!0;var t=A(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);n.changes(t).on("change",(function(t){t.seq>r.since&&!r.cancelled&&(r.since=t.seq,r.onChange(t))})).on("complete",(function(){"waiting"===i&&u()(c),i=!1})).on("error",(function(){i=!1}))}}},q.prototype.removeListener=function(t,e){e in this._listeners&&(g.a.prototype.removeListener.call(this,t,this._listeners[e]),delete this._listeners[e])},q.prototype.notifyLocalWindows=function(t){R()&&(localStorage[t]="a"===localStorage[t]?"b":"a")},q.prototype.notify=function(t){this.emit(t),this.notifyLocalWindows(t)};var B="function"==typeof Object.assign?Object.assign:function(t){for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e};function U(t,e,n){Error.call(this,n),this.status=t,this.name=e,this.message=n,this.error=!0}v()(U,Error),U.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};new U(401,"unauthorized","Name or password is incorrect.");var $=new U(400,"bad_request","Missing JSON list of 'docs'"),F=new U(404,"not_found","missing"),z=new U(409,"conflict","Document update conflict"),K=new U(400,"bad_request","_id field must contain a string"),V=new U(412,"missing_id","_id is required for puts"),W=new U(400,"bad_request","Only reserved document ids may start with underscore."),J=(new U(412,"precondition_failed","Database not open"),new U(500,"unknown_error","Database encountered an unknown error")),G=new U(500,"badarg","Some query argument is invalid"),Y=(new U(400,"invalid_request","Request was invalid"),new U(400,"query_parse_error","Some query parameter is invalid")),H=new U(500,"doc_validation","Bad special document member"),Q=new U(400,"bad_request","Something wrong with the request"),X=new U(400,"bad_request","Document must be a JSON object"),Z=(new U(404,"not_found","Database not found"),new U(500,"indexed_db_went_bad","unknown")),tt=(new U(500,"web_sql_went_bad","unknown"),new U(500,"levelDB_went_went_bad","unknown"),new U(403,"forbidden","Forbidden by design doc validate_doc_update function"),new U(400,"bad_request","Invalid rev format")),et=(new U(412,"file_exists","The database could not be created, the file already exists."),new U(412,"missing_stub","A pre-existing attachment stub wasn't found"));new U(413,"invalid_url","Provided URL is invalid");function nt(t,e){function n(e){for(var n=Object.getOwnPropertyNames(t),r=0,o=n.length;r<o;r++)"function"!=typeof t[n[r]]&&(this[n[r]]=t[n[r]]);void 0!==e&&(this.reason=e)}return n.prototype=U.prototype,new n(e)}function rt(t){if("object"!=typeof t){var e=t;(t=J).data=e}return"error"in t&&"conflict"===t.error&&(t.name="conflict",t.status=409),"name"in t||(t.name=t.error||"unknown"),"status"in t||(t.status=500),"message"in t||(t.message=t.message||t.reason),t}function ot(t){var e={},n=t.filter&&"function"==typeof t.filter;return e.query=t.query_params,function(r){r.doc||(r.doc={});var o=n&&function(t,e,n){try{return!t(e,n)}catch(t){var r="Filter function threw: "+t.toString();return nt(Q,r)}}(t.filter,r.doc,e);if("object"==typeof o)return o;if(o)return!1;if(t.include_docs){if(!t.attachments)for(var i in r.doc._attachments)r.doc._attachments.hasOwnProperty(i)&&(r.doc._attachments[i].stub=!0)}else delete r.doc;return!0}}function it(t){for(var e=[],n=0,r=t.length;n<r;n++)e=e.concat(t[n]);return e}function ut(t){var e;if(t?"string"!=typeof t?e=nt(K):/^_/.test(t)&&!/^_(design|local)/.test(t)&&(e=nt(W)):e=nt(V),e)throw e}function ct(t){return"boolean"==typeof t._remote?t._remote:"function"==typeof t.type&&(N("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===t.type())}function at(t){if(!t)return null;var e=t.split("/");return 2===e.length?e:1===e.length?[t,t]:null}function st(t){var e=at(t);return e?e.join("/"):null}var ft=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],lt=/(?:^|&)([^&=]*)=?([^&]*)/g,dt=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function pt(t){for(var e=dt.exec(t),n={},r=14;r--;){var o=ft[r],i=e[r]||"",u=-1!==["user","password"].indexOf(o);n[o]=u?decodeURIComponent(i):i}return n.queryKey={},n[ft[12]].replace(lt,(function(t,e,r){e&&(n.queryKey[e]=r)})),n}function ht(t,e){var n=[],r=[];for(var o in e)e.hasOwnProperty(o)&&(n.push(o),r.push(e[o]));return n.push(t),Function.apply(null,n).apply(null,r)}function vt(t,e,n){return new Promise((function(r,o){t.get(e,(function(i,u){if(i){if(404!==i.status)return o(i);u={}}var c=u._rev,a=n(u);if(!a)return r({updated:!1,rev:c});a._id=e,a._rev=c,r(function(t,e,n){return t.put(e).then((function(t){return{updated:!0,rev:t.rev}}),(function(r){if(409!==r.status)throw r;return vt(t,e._id,n)}))}(t,a,n))}))}))}var yt=function(t){return atob(t)},gt=function(t){return btoa(t)};function mt(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(o){if("TypeError"!==o.name)throw o;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<t.length;r+=1)n.append(t[r]);return n.getBlob(e.type)}}function bt(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n),o=0;o<e;o++)r[o]=t.charCodeAt(o);return n}function _t(t,e){return mt([bt(t)],{type:e})}function wt(t,e){return _t(yt(t),e)}function Ot(t,e){var n=new FileReader,r="function"==typeof n.readAsBinaryString;n.onloadend=function(t){var n=t.target.result||"";if(r)return e(n);e(function(t){for(var e="",n=new Uint8Array(t),r=n.byteLength,o=0;o<r;o++)e+=String.fromCharCode(n[o]);return e}(n))},r?n.readAsBinaryString(t):n.readAsArrayBuffer(t)}function xt(t,e){Ot(t,(function(t){e(t)}))}function jt(t,e){xt(t,(function(t){e(gt(t))}))}var Et=self.setImmediate||self.setTimeout;function kt(t,e,n,r,o){(n>0||r<e.size)&&(e=function(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.slice(e,n)}(e,n,r)),function(t,e){var n=new FileReader;n.onloadend=function(t){var n=t.target.result||new ArrayBuffer(0);e(n)},n.readAsArrayBuffer(t)}(e,(function(e){t.append(e),o()}))}function St(t,e,n,r,o){(n>0||r<e.length)&&(e=e.substring(n,r)),t.appendBinary(e),o()}function Pt(t,e){var n="string"==typeof t,r=n?t.length:t.size,o=Math.min(32768,r),i=Math.ceil(r/o),u=0,c=n?new s.a:new s.a.ArrayBuffer,a=n?St:kt;function f(){Et(d)}function l(){var t=function(t){return gt(t)}(c.end(!0));e(t),c.destroy()}function d(){var e=u*o,n=e+o;u++,a(c,t,e,n,u<i?f:l)}d()}function At(t){return s.a.hash(t)}function Ct(t,e){var n=E(t);return e?(delete n._rev_tree,At(JSON.stringify(n))):Object(c.a)().replace(/-/g,"").toLowerCase()}var Tt=c.a;function It(t){for(var e,n,r,o,i=t.rev_tree.slice();o=i.pop();){var u=o.ids,c=u[2],a=o.pos;if(c.length)for(var s=0,f=c.length;s<f;s++)i.push({pos:a+1,ids:c[s]});else{var l=!!u[1].deleted,d=u[0];e&&!(r!==l?r:n!==a?n<a:e<d)||(e=d,n=a,r=l)}}return n+"-"+e}function Dt(t,e){for(var n,r=t.slice();n=r.pop();)for(var o=n.pos,i=n.ids,u=i[2],c=e(0===u.length,o,i[0],n.ctx,i[1]),a=0,s=u.length;a<s;a++)r.push({pos:o+1,ids:u[a],ctx:c})}function Rt(t,e){return t.pos-e.pos}function qt(t){var e=[];Dt(t,(function(t,n,r,o,i){t&&e.push({rev:n+"-"+r,pos:n,opts:i})})),e.sort(Rt).reverse();for(var n=0,r=e.length;n<r;n++)delete e[n].pos;return e}function Nt(t){for(var e=It(t),n=qt(t.rev_tree),r=[],o=0,i=n.length;o<i;o++){var u=n[o];u.rev===e||u.opts.deleted||r.push(u.rev)}return r}function Lt(t){for(var e,n=[],r=t.slice();e=r.pop();){var o=e.pos,i=e.ids,u=i[0],c=i[1],a=i[2],s=0===a.length,f=e.history?e.history.slice():[];f.push({id:u,opts:c}),s&&n.push({pos:o+1-f.length,ids:f});for(var l=0,d=a.length;l<d;l++)r.push({pos:o+1,ids:a[l],history:f})}return n.reverse()}function Mt(t,e){return t.pos-e.pos}function Bt(t,e,n){var r=function(t,e,n){for(var r,o=0,i=t.length;o<i;)n(t[r=o+i>>>1],e)<0?o=r+1:i=r;return o}(t,e,n);t.splice(r,0,e)}function Ut(t,e){for(var n,r,o=e,i=t.length;o<i;o++){var u=t[o],c=[u.id,u.opts,[]];r?(r[2].push(c),r=c):n=r=c}return n}function $t(t,e){return t[0]<e[0]?-1:1}function Ft(t,e){for(var n=[{tree1:t,tree2:e}],r=!1;n.length>0;){var o=n.pop(),i=o.tree1,u=o.tree2;(i[1].status||u[1].status)&&(i[1].status="available"===i[1].status||"available"===u[1].status?"available":"missing");for(var c=0;c<u[2].length;c++)if(i[2][0]){for(var a=!1,s=0;s<i[2].length;s++)i[2][s][0]===u[2][c][0]&&(n.push({tree1:i[2][s],tree2:u[2][c]}),a=!0);a||(r="new_branch",Bt(i[2],u[2][c],$t))}else r="new_leaf",i[2][0]=u[2][c]}return{conflicts:r,tree:t}}function zt(t,e,n){var r,o=[],i=!1,u=!1;if(!t.length)return{tree:[e],conflicts:"new_leaf"};for(var c=0,a=t.length;c<a;c++){var s=t[c];if(s.pos===e.pos&&s.ids[0]===e.ids[0])r=Ft(s.ids,e.ids),o.push({pos:s.pos,ids:r.tree}),i=i||r.conflicts,u=!0;else if(!0!==n){var f=s.pos<e.pos?s:e,l=s.pos<e.pos?e:s,d=l.pos-f.pos,p=[],h=[];for(h.push({ids:f.ids,diff:d,parent:null,parentIdx:null});h.length>0;){var v=h.pop();if(0!==v.diff)for(var y=v.ids[2],g=0,m=y.length;g<m;g++)h.push({ids:y[g],diff:v.diff-1,parent:v.ids,parentIdx:g});else v.ids[0]===l.ids[0]&&p.push(v)}var b=p[0];b?(r=Ft(b.ids,l.ids),b.parent[2][b.parentIdx]=r.tree,o.push({pos:f.pos,ids:f.ids}),i=i||r.conflicts,u=!0):o.push(s)}else o.push(s)}return u||o.push(e),o.sort(Mt),{tree:o,conflicts:i||"internal_node"}}function Kt(t,e,n){var r=zt(t,e),o=function(t,e){for(var n,r,o=Lt(t),i=0,u=o.length;i<u;i++){var c,a=o[i],s=a.ids;if(s.length>e){n||(n={});var f=s.length-e;c={pos:a.pos+f,ids:Ut(s,f)};for(var l=0;l<f;l++){var d=a.pos+l+"-"+s[l].id;n[d]=!0}}else c={pos:a.pos,ids:Ut(s,0)};r=r?zt(r,c,!0).tree:[c]}return n&&Dt(r,(function(t,e,r){delete n[e+"-"+r]})),{tree:r,revs:n?Object.keys(n):[]}}(r.tree,n);return{tree:o.tree,stemmedRevs:o.revs,conflicts:r.conflicts}}function Vt(t){return t.ids}function Wt(t,e){e||(e=It(t));for(var n,r=e.substring(e.indexOf("-")+1),o=t.rev_tree.map(Vt);n=o.pop();){if(n[0]===r)return!!n[1].deleted;o=o.concat(n[2])}}function Jt(t){return/^_local/.test(t)}function Gt(t,e,n){g.a.call(this);var r=this;this.db=t;var o=(e=e?E(e):{}).complete=k((function(e,n){var o,u;e?(u="error",("listenerCount"in(o=r)?o.listenerCount(u):g.a.listenerCount(o,u))>0&&r.emit("error",e)):r.emit("complete",n),r.removeAllListeners(),t.removeListener("destroyed",i)}));function i(){r.cancel()}n&&(r.on("complete",(function(t){n(null,t)})),r.on("error",n)),t.once("destroyed",i),e.onChange=function(t,e,n){r.isCancelled||function(t,e,n,r){try{t.emit("change",e,n,r)}catch(t){N("error",'Error in .on("change", function):',t)}}(r,t,e,n)};var u=new Promise((function(t,n){e.complete=function(e,r){e?n(e):t(r)}}));r.once("cancel",(function(){t.removeListener("destroyed",i),e.complete(null,{status:"cancelled"})})),this.then=u.then.bind(u),this.catch=u.catch.bind(u),this.then((function(t){o(null,t)}),o),t.taskqueue.isReady?r.validateChanges(e):t.taskqueue.addTask((function(t){t?e.complete(t):r.isCancelled?r.emit("cancel"):r.validateChanges(e)}))}function Yt(t,e,n){var r=[{rev:t._rev}];"all_docs"===n.style&&(r=qt(e.rev_tree).map((function(t){return{rev:t.rev}})));var o={id:e.id,changes:r,doc:t};return Wt(e,t._rev)&&(o.deleted=!0),n.conflicts&&(o.doc._conflicts=Nt(e),o.doc._conflicts.length||delete o.doc._conflicts),o}function Ht(t,e){return t<e?-1:t>e?1:0}function Qt(t,e){return function(n,r){n||r[0]&&r[0].error?((n=n||r[0]).docId=e,t(n)):t(null,r.length?r[0]:r)}}function Xt(t,e){var n=Ht(t._id,e._id);return 0!==n?n:Ht(t._revisions?t._revisions.start:0,e._revisions?e._revisions.start:0)}function Zt(){for(var t in g.a.call(this),Zt.prototype)"function"==typeof this[t]&&(this[t]=this[t].bind(this))}function te(){this.isReady=!1,this.failed=!1,this.queue=[]}function ee(t,e){if(!(this instanceof ee))return new ee(t,e);var n=this;if(e=e||{},t&&"object"==typeof t&&(t=(e=t).name,delete e.name),void 0===e.deterministic_revs&&(e.deterministic_revs=!0),this.__opts=e=E(e),n.auto_compaction=e.auto_compaction,n.prefix=ee.prefix,"string"!=typeof t)throw new Error("Missing/invalid DB name");var r=function(t,e){var n=t.match(/([a-z-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var r=ee.adapters,o=ee.preferredAdapters,i=ee.prefix,u=e.adapter;if(!u)for(var c=0;c<o.length&&("idb"===(u=o[c])&&"websql"in r&&R()&&localStorage["_pouch__websqldb_"+i+t]);++c)N("log",'PouchDB is downgrading "'+t+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');var a=r[u];return{name:!a||!("use_prefix"in a)||a.use_prefix?i+t:t,adapter:u}}((e.prefix||"")+t,e);if(e.name=r.name,e.adapter=e.adapter||r.adapter,n.name=t,n._adapter=e.adapter,ee.emit("debug",["adapter","Picked adapter: ",e.adapter]),!ee.adapters[e.adapter]||!ee.adapters[e.adapter].valid())throw new Error("Invalid Adapter: "+e.adapter);Zt.call(n),n.taskqueue=new te,n.adapter=e.adapter,ee.adapters[e.adapter].call(n,e,(function(t){if(t)return n.taskqueue.fail(t);!function(t){function e(e){t.removeListener("closed",n),e||t.constructor.emit("destroyed",t.name)}function n(){t.removeListener("destroyed",e),t.constructor.emit("unref",t)}t.once("destroyed",e),t.once("closed",n),t.constructor.emit("ref",t)}(n),n.emit("created",n),ee.emit("created",n.name),n.taskqueue.ready(n)}))}v()(Gt,g.a),Gt.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},Gt.prototype.validateChanges=function(t){var e=t.complete,n=this;ee._changesFilterPlugin?ee._changesFilterPlugin.validate(t,(function(r){if(r)return e(r);n.doChanges(t)})):n.doChanges(t)},Gt.prototype.doChanges=function(t){var e=this,n=t.complete;if("live"in(t=E(t))&&!("continuous"in t)&&(t.continuous=t.live),t.processChange=Yt,"latest"===t.since&&(t.since="now"),t.since||(t.since=0),"now"!==t.since){if(ee._changesFilterPlugin){if(ee._changesFilterPlugin.normalize(t),ee._changesFilterPlugin.shouldFilter(this,t))return ee._changesFilterPlugin.filter(this,t)}else["doc_ids","filter","selector","view"].forEach((function(e){e in t&&N("warn",'The "'+e+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')}));"descending"in t||(t.descending=!1),t.limit=0===t.limit?1:t.limit,t.complete=n;var r=this.db._changes(t);if(r&&"function"==typeof r.cancel){var o=e.cancel;e.cancel=p()((function(t){r.cancel(),o.apply(this,t)}))}}else this.db.info().then((function(r){e.isCancelled?n(null,{status:"cancelled"}):(t.since=r.update_seq,e.doChanges(t))}),n)},v()(Zt,g.a),Zt.prototype.post=P("post",(function(t,e,n){if("function"==typeof e&&(n=e,e={}),"object"!=typeof t||Array.isArray(t))return n(nt(X));this.bulkDocs({docs:[t]},e,Qt(n,t._id))})),Zt.prototype.put=P("put",(function(t,e,n){if("function"==typeof e&&(n=e,e={}),"object"!=typeof t||Array.isArray(t))return n(nt(X));if(ut(t._id),Jt(t._id)&&"function"==typeof this._putLocal)return t._deleted?this._removeLocal(t,n):this._putLocal(t,n);var r,o,i,u,c=this;function a(n){"function"==typeof c._put&&!1!==e.new_edits?c._put(t,e,n):c.bulkDocs({docs:[t]},e,Qt(n,t._id))}e.force&&t._rev?(r=t._rev.split("-"),o=r[1],i=parseInt(r[0],10)+1,u=Ct(),t._revisions={start:i,ids:[u,o]},t._rev=i+"-"+u,e.new_edits=!1,a((function(e){var r=e?null:{ok:!0,id:t._id,rev:t._rev};n(e,r)}))):a(n)})),Zt.prototype.putAttachment=P("putAttachment",(function(t,e,n,r,o){var i=this;function u(t){var n="_rev"in t?parseInt(t._rev,10):0;return t._attachments=t._attachments||{},t._attachments[e]={content_type:o,data:r,revpos:++n},i.put(t)}return"function"==typeof o&&(o=r,r=n,n=null),void 0===o&&(o=r,r=n,n=null),o||N("warn","Attachment",e,"on document",t,"is missing content_type"),i.get(t).then((function(t){if(t._rev!==n)throw nt(z);return u(t)}),(function(e){if(e.reason===F.message)return u({_id:t});throw e}))})),Zt.prototype.removeAttachment=P("removeAttachment",(function(t,e,n,r){var o=this;o.get(t,(function(t,i){if(t)r(t);else if(i._rev===n){if(!i._attachments)return r();delete i._attachments[e],0===Object.keys(i._attachments).length&&delete i._attachments,o.put(i,r)}else r(nt(z))}))})),Zt.prototype.remove=P("remove",(function(t,e,n,r){var o;"string"==typeof e?(o={_id:t,_rev:e},"function"==typeof n&&(r=n,n={})):(o=t,"function"==typeof e?(r=e,n={}):(r=n,n=e)),(n=n||{}).was_delete=!0;var i={_id:o._id,_rev:o._rev||n.rev,_deleted:!0};if(Jt(i._id)&&"function"==typeof this._removeLocal)return this._removeLocal(o,r);this.bulkDocs({docs:[i]},n,Qt(r,i._id))})),Zt.prototype.revsDiff=P("revsDiff",(function(t,e,n){"function"==typeof e&&(n=e,e={});var r=Object.keys(t);if(!r.length)return n(null,{});var i=0,u=new o;function c(t,e){u.has(t)||u.set(t,{missing:[]}),u.get(t).missing.push(e)}r.map((function(e){this._getRevisionTree(e,(function(o,a){if(o&&404===o.status&&"missing"===o.message)u.set(e,{missing:t[e]});else{if(o)return n(o);!function(e,n){var r=t[e].slice(0);Dt(n,(function(t,n,o,i,u){var a=n+"-"+o,s=r.indexOf(a);-1!==s&&(r.splice(s,1),"available"!==u.status&&c(e,a))})),r.forEach((function(t){c(e,t)}))}(e,a)}if(++i===r.length){var s={};return u.forEach((function(t,e){s[e]=t})),n(null,s)}}))}),this)})),Zt.prototype.bulkGet=P("bulkGet",(function(t,e){D(this,t,e)})),Zt.prototype.compactDocument=P("compactDocument",(function(t,e,n){var r=this;this._getRevisionTree(t,(function(o,i){if(o)return n(o);var u=function(t){var e={},n=[];return Dt(t,(function(t,r,o,i){var u=r+"-"+o;return t&&(e[u]=0),void 0!==i&&n.push({from:i,to:u}),u})),n.reverse(),n.forEach((function(t){void 0===e[t.from]?e[t.from]=1+e[t.to]:e[t.from]=Math.min(e[t.from],1+e[t.to])})),e}(i),c=[],a=[];Object.keys(u).forEach((function(t){u[t]>e&&c.push(t)})),Dt(i,(function(t,e,n,r,o){var i=e+"-"+n;"available"===o.status&&-1!==c.indexOf(i)&&a.push(i)})),r._doCompaction(t,a,n)}))})),Zt.prototype.compact=P("compact",(function(t,e){"function"==typeof t&&(e=t,t={});t=t||{},this._compactionQueue=this._compactionQueue||[],this._compactionQueue.push({opts:t,callback:e}),1===this._compactionQueue.length&&function t(e){var n=e._compactionQueue[0],r=n.opts,o=n.callback;e.get("_local/compaction").catch((function(){return!1})).then((function(n){n&&n.last_seq&&(r.last_seq=n.last_seq),e._compact(r,(function(n,r){n?o(n):o(null,r),u()((function(){e._compactionQueue.shift(),e._compactionQueue.length&&t(e)}))}))}))}(this)})),Zt.prototype._compact=function(t,e){var n=this,r={return_docs:!1,last_seq:t.last_seq||0},o=[];n.changes(r).on("change",(function(t){o.push(n.compactDocument(t.id,0))})).on("complete",(function(t){var r=t.last_seq;Promise.all(o).then((function(){return vt(n,"_local/compaction",(function(t){return(!t.last_seq||t.last_seq<r)&&(t.last_seq=r,t)}))})).then((function(){e(null,{ok:!0})})).catch(e)})).on("error",e)},Zt.prototype.get=P("get",(function(t,e,n){if("function"==typeof e&&(n=e,e={}),"string"!=typeof t)return n(nt(K));if(Jt(t)&&"function"==typeof this._getLocal)return this._getLocal(t,n);var r=[],o=this;function i(){var i=[],u=r.length;if(!u)return n(null,i);r.forEach((function(r){o.get(t,{rev:r,revs:e.revs,latest:e.latest,attachments:e.attachments,binary:e.binary},(function(t,e){if(t)i.push({missing:r});else{for(var o,c=0,a=i.length;c<a;c++)if(i[c].ok&&i[c].ok._rev===e._rev){o=!0;break}o||i.push({ok:e})}--u||n(null,i)}))}))}if(!e.open_revs)return this._get(t,e,(function(r,i){if(r)return r.docId=t,n(r);var u=i.doc,c=i.metadata,a=i.ctx;if(e.conflicts){var s=Nt(c);s.length&&(u._conflicts=s)}if(Wt(c,u._rev)&&(u._deleted=!0),e.revs||e.revs_info){for(var f=u._rev.split("-"),l=parseInt(f[0],10),d=f[1],p=Lt(c.rev_tree),h=null,v=0;v<p.length;v++){var y=p[v],g=y.ids.map((function(t){return t.id})).indexOf(d);(g===l-1||!h&&-1!==g)&&(h=y)}if(!h)return(r=new Error("invalid rev tree")).docId=t,n(r);var m=h.ids.map((function(t){return t.id})).indexOf(u._rev.split("-")[1])+1,b=h.ids.length-m;if(h.ids.splice(m,b),h.ids.reverse(),e.revs&&(u._revisions={start:h.pos+h.ids.length-1,ids:h.ids.map((function(t){return t.id}))}),e.revs_info){var _=h.pos+h.ids.length;u._revs_info=h.ids.map((function(t){return{rev:--_+"-"+t.id,status:t.opts.status}}))}}if(e.attachments&&u._attachments){var w=u._attachments,O=Object.keys(w).length;if(0===O)return n(null,u);Object.keys(w).forEach((function(t){this._getAttachment(u._id,t,w[t],{rev:u._rev,binary:e.binary,ctx:a},(function(e,r){var o=u._attachments[t];o.data=r,delete o.stub,delete o.length,--O||n(null,u)}))}),o)}else{if(u._attachments)for(var x in u._attachments)u._attachments.hasOwnProperty(x)&&(u._attachments[x].stub=!0);n(null,u)}}));if("all"===e.open_revs)this._getRevisionTree(t,(function(t,e){if(t)return n(t);r=qt(e).map((function(t){return t.rev})),i()}));else{if(!Array.isArray(e.open_revs))return n(nt(J,"function_clause"));r=e.open_revs;for(var u=0;u<r.length;u++){var c=r[u];if("string"!=typeof c||!/^\d+-/.test(c))return n(nt(tt))}i()}})),Zt.prototype.getAttachment=P("getAttachment",(function(t,e,n,r){var o=this;n instanceof Function&&(r=n,n={}),this._get(t,n,(function(i,u){return i?r(i):u.doc._attachments&&u.doc._attachments[e]?(n.ctx=u.ctx,n.binary=!0,void o._getAttachment(t,e,u.doc._attachments[e],n,r)):r(nt(F))}))})),Zt.prototype.allDocs=P("allDocs",(function(t,e){if("function"==typeof t&&(e=t,t={}),t.skip=void 0!==t.skip?t.skip:0,t.start_key&&(t.startkey=t.start_key),t.end_key&&(t.endkey=t.end_key),"keys"in t){if(!Array.isArray(t.keys))return e(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter((function(e){return e in t}))[0];if(n)return void e(nt(Y,"Query parameter `"+n+"` is not compatible with multi-get"));if(!ct(this)&&(function(t){var e="limit"in t?t.keys.slice(t.skip,t.limit+t.skip):t.skip>0?t.keys.slice(t.skip):t.keys;t.keys=e,t.skip=0,delete t.limit,t.descending&&(e.reverse(),t.descending=!1)}(t),0===t.keys.length))return this._allDocs({limit:0},e)}return this._allDocs(t,e)})),Zt.prototype.changes=function(t,e){return"function"==typeof t&&(e=t,t={}),(t=t||{}).return_docs="return_docs"in t?t.return_docs:!t.live,new Gt(this,t,e)},Zt.prototype.close=P("close",(function(t){return this._closed=!0,this.emit("closed"),this._close(t)})),Zt.prototype.info=P("info",(function(t){var e=this;this._info((function(n,r){if(n)return t(n);r.db_name=r.db_name||e.name,r.auto_compaction=!(!e.auto_compaction||ct(e)),r.adapter=e.adapter,t(null,r)}))})),Zt.prototype.id=P("id",(function(t){return this._id(t)})),Zt.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},Zt.prototype.bulkDocs=P("bulkDocs",(function(t,e,n){if("function"==typeof e&&(n=e,e={}),e=e||{},Array.isArray(t)&&(t={docs:t}),!t||!t.docs||!Array.isArray(t.docs))return n(nt($));for(var r=0;r<t.docs.length;++r)if("object"!=typeof t.docs[r]||Array.isArray(t.docs[r]))return n(nt(X));var o;if(t.docs.forEach((function(t){t._attachments&&Object.keys(t._attachments).forEach((function(e){o=o||function(t){return"_"===t.charAt(0)&&t+" is not a valid attachment name, attachment names cannot start with '_'"}(e),t._attachments[e].content_type||N("warn","Attachment",e,"on document",t._id,"is missing content_type")}))})),o)return n(nt(Q,o));"new_edits"in e||(e.new_edits=!("new_edits"in t)||t.new_edits);var i=this;e.new_edits||ct(i)||t.docs.sort(Xt),function(t){for(var e=0;e<t.length;e++){var n=t[e];if(n._deleted)delete n._attachments;else if(n._attachments)for(var r=Object.keys(n._attachments),o=0;o<r.length;o++){var i=r[o];n._attachments[i]=A(n._attachments[i],["data","digest","content_type","length","revpos","stub"])}}}(t.docs);var u=t.docs.map((function(t){return t._id}));return this._bulkDocs(t,e,(function(t,r){if(t)return n(t);if(e.new_edits||(r=r.filter((function(t){return t.error}))),!ct(i))for(var o=0,c=r.length;o<c;o++)r[o].id=r[o].id||u[o];n(null,r)}))})),Zt.prototype.registerDependentDatabase=P("registerDependentDatabase",(function(t,e){var n=new this.constructor(t,this.__opts);vt(this,"_local/_pouch_dependentDbs",(function(e){return e.dependentDbs=e.dependentDbs||{},!e.dependentDbs[t]&&(e.dependentDbs[t]=!0,e)})).then((function(){e(null,{db:n})})).catch(e)})),Zt.prototype.destroy=P("destroy",(function(t,e){"function"==typeof t&&(e=t,t={});var n=this,r=!("use_prefix"in n)||n.use_prefix;function o(){n._destroy(t,(function(t,r){if(t)return e(t);n._destroyed=!0,n.emit("destroyed"),e(null,r||{ok:!0})}))}if(ct(n))return o();n.get("_local/_pouch_dependentDbs",(function(t,i){if(t)return 404!==t.status?e(t):o();var u=i.dependentDbs,c=n.constructor,a=Object.keys(u).map((function(t){var e=r?t.replace(new RegExp("^"+c.prefix),""):t;return new c(e,n.__opts).destroy()}));Promise.all(a).then(o,e)}))})),te.prototype.execute=function(){var t;if(this.failed)for(;t=this.queue.shift();)t(this.failed);else for(;t=this.queue.shift();)t()},te.prototype.fail=function(t){this.failed=t,this.execute()},te.prototype.ready=function(t){this.isReady=!0,this.db=t,this.execute()},te.prototype.addTask=function(t){this.queue.push(t),this.failed&&this.execute()},v()(ee,Zt);var ne="undefined"!=typeof AbortController?AbortController:function(){return{abort:function(){}}},re=fetch,oe=Headers;ee.adapters={},ee.preferredAdapters=[],ee.prefix="_pouch_";var ie=new g.a;!function(t){Object.keys(g.a.prototype).forEach((function(e){"function"==typeof g.a.prototype[e]&&(t[e]=ie[e].bind(ie))}));var e=t._destructionListeners=new o;t.on("ref",(function(t){e.has(t.name)||e.set(t.name,[]),e.get(t.name).push(t)})),t.on("unref",(function(t){if(e.has(t.name)){var n=e.get(t.name),r=n.indexOf(t);r<0||(n.splice(r,1),n.length>1?e.set(t.name,n):e.delete(t.name))}})),t.on("destroyed",(function(t){if(e.has(t)){var n=e.get(t);e.delete(t),n.forEach((function(t){t.emit("destroyed",!0)}))}}))}(ee),ee.adapter=function(t,e,n){e.valid()&&(ee.adapters[t]=e,n&&ee.preferredAdapters.push(t))},ee.plugin=function(t){if("function"==typeof t)t(ee);else{if("object"!=typeof t||0===Object.keys(t).length)throw new Error('Invalid plugin: got "'+t+'", expected an object or a function');Object.keys(t).forEach((function(e){ee.prototype[e]=t[e]}))}return this.__defaults&&(ee.__defaults=B({},this.__defaults)),ee},ee.defaults=function(t){function e(t,n){if(!(this instanceof e))return new e(t,n);n=n||{},t&&"object"==typeof t&&(t=(n=t).name,delete n.name),n=B({},e.__defaults,n),ee.call(this,t,n)}return v()(e,ee),e.preferredAdapters=ee.preferredAdapters.slice(),Object.keys(ee).forEach((function(t){t in e||(e[t]=ee[t])})),e.__defaults=B({},this.__defaults,t),e},ee.fetch=function(t,e){return re(t,e)};function ue(t,e){for(var n=t,r=0,o=e.length;r<o;r++){if(!(n=n[e[r]]))break}return n}function ce(t){for(var e=[],n="",r=0,o=t.length;r<o;r++){var i=t[r];"."===i?r>0&&"\\"===t[r-1]?n=n.substring(0,n.length-1)+".":(e.push(n),n=""):n+=i}return e.push(n),e}var ae=["$or","$nor","$not"];function se(t){return ae.indexOf(t)>-1}function fe(t){return Object.keys(t)[0]}function le(t){var e={};return t.forEach((function(t){Object.keys(t).forEach((function(n){var r=t[n];if("object"!=typeof r&&(r={$eq:r}),se(n))e[n]=r instanceof Array?r.map((function(t){return le([t])})):le([r]);else{var o=e[n]=e[n]||{};Object.keys(r).forEach((function(t){var e=r[t];return"$gt"===t||"$gte"===t?function(t,e,n){if(void 0!==n.$eq)return;void 0!==n.$gte?"$gte"===t?e>n.$gte&&(n.$gte=e):e>=n.$gte&&(delete n.$gte,n.$gt=e):void 0!==n.$gt?"$gte"===t?e>n.$gt&&(delete n.$gt,n.$gte=e):e>n.$gt&&(n.$gt=e):n[t]=e}(t,e,o):"$lt"===t||"$lte"===t?function(t,e,n){if(void 0!==n.$eq)return;void 0!==n.$lte?"$lte"===t?e<n.$lte&&(n.$lte=e):e<=n.$lte&&(delete n.$lte,n.$lt=e):void 0!==n.$lt?"$lte"===t?e<n.$lt&&(delete n.$lt,n.$lte=e):e<n.$lt&&(n.$lt=e):n[t]=e}(t,e,o):"$ne"===t?function(t,e){"$ne"in e?e.$ne.push(t):e.$ne=[t]}(e,o):"$eq"===t?function(t,e){delete e.$gt,delete e.$gte,delete e.$lt,delete e.$lte,delete e.$ne,e.$eq=t}(e,o):void(o[t]=e)}))}}))})),e}function de(t){var e=E(t),n=!1;(function t(e,n){for(var r in e){"$and"===r&&(n=!0);var o=e[r];"object"==typeof o&&(n=t(o,n))}return n})(e,!1)&&("$and"in(e=function t(e){for(var n in e){if(Array.isArray(e))for(var r in e)e[r].$and&&(e[r]=le(e[r].$and));var o=e[n];"object"==typeof o&&t(o)}return e}(e))&&(e=le(e.$and)),n=!0),["$or","$nor"].forEach((function(t){t in e&&e[t].forEach((function(t){for(var e=Object.keys(t),n=0;n<e.length;n++){var r=e[n],o=t[r];"object"==typeof o&&null!==o||(t[r]={$eq:o})}}))})),"$not"in e&&(e.$not=le([e.$not]));for(var r=Object.keys(e),o=0;o<r.length;o++){var i=r[o],u=e[i];"object"!=typeof u||null===u?u={$eq:u}:"$ne"in u&&!n&&(u.$ne=[u.$ne]),e[i]=u}return e}function pe(t,e){if(t===e)return 0;t=he(t),e=he(e);var n=be(t),r=be(e);if(n-r!=0)return n-r;switch(typeof t){case"number":return t-e;case"boolean":return t<e?-1:1;case"string":return function(t,e){return t===e?0:t>e?1:-1}(t,e)}return Array.isArray(t)?function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var o=pe(t[r],e[r]);if(0!==o)return o}return t.length===e.length?0:t.length>e.length?1:-1}(t,e):function(t,e){for(var n=Object.keys(t),r=Object.keys(e),o=Math.min(n.length,r.length),i=0;i<o;i++){var u=pe(n[i],r[i]);if(0!==u)return u;if(0!==(u=pe(t[n[i]],e[r[i]])))return u}return n.length===r.length?0:n.length>r.length?1:-1}(t,e)}function he(t){switch(typeof t){case"undefined":return null;case"number":return t===1/0||t===-1/0||isNaN(t)?null:t;case"object":var e=t;if(Array.isArray(t)){var n=t.length;t=new Array(n);for(var r=0;r<n;r++)t[r]=he(e[r])}else{if(t instanceof Date)return t.toJSON();if(null!==t)for(var o in t={},e)if(e.hasOwnProperty(o)){var i=e[o];void 0!==i&&(t[o]=he(i))}}}return t}function ve(t){if(null!==t)switch(typeof t){case"boolean":return t?1:0;case"number":return function(t){if(0===t)return"1";var e=t.toExponential().split(/e\+?/),n=parseInt(e[1],10),r=t<0,o=r?"0":"2",i=(u=((r?-n:n)- -324).toString(),c="0",a=3,function(t,e,n){for(var r="",o=n-t.length;r.length<o;)r+=e;return r}(u,c,a)+u);var u,c,a;o+=""+i;var s=Math.abs(parseFloat(e[0]));r&&(s=10-s);var f=s.toFixed(20);return f=f.replace(/\.?0+$/,""),o+=""+f}(t);case"string":return t.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var e=Array.isArray(t),n=e?t:Object.keys(t),r=-1,o=n.length,i="";if(e)for(;++r<o;)i+=ye(n[r]);else for(;++r<o;){var u=n[r];i+=ye(u)+ye(t[u])}return i}return""}function ye(t){return be(t=he(t))+""+ve(t)+"\0"}function ge(t,e){var n,r=e;if("1"===t[e])n=0,e++;else{var o="0"===t[e];e++;var i="",u=t.substring(e,e+3),c=parseInt(u,10)+-324;for(o&&(c=-c),e+=3;;){var a=t[e];if("\0"===a)break;i+=a,e++}n=1===(i=i.split(".")).length?parseInt(i,10):parseFloat(i[0]+"."+i[1]),o&&(n-=10),0!==c&&(n=parseFloat(n+"e"+c))}return{num:n,length:e-r}}function me(t,e){var n=t.pop();if(e.length){var r=e[e.length-1];n===r.element&&(e.pop(),r=e[e.length-1]);var o=r.element,i=r.index;if(Array.isArray(o))o.push(n);else if(i===t.length-2){o[t.pop()]=n}else t.push(n)}}function be(t){var e=["boolean","number","string","object"].indexOf(typeof t);return~e?null===t?1:Array.isArray(t)?5:e<3?e+2:e+3:Array.isArray(t)?5:void 0}function _e(t,e,n){if(t=t.filter((function(t){return we(t.doc,e.selector,n)})),e.sort){var r=function(t){function e(e){return t.map((function(t){var n=ce(fe(t));return ue(e,n)}))}return function(t,n){var r,o,i=pe(e(t.doc),e(n.doc));return 0!==i?i:(r=t.doc._id,o=n.doc._id,r<o?-1:r>o?1:0)}}(e.sort);t=t.sort(r),"string"!=typeof e.sort[0]&&"desc"===(o=e.sort[0])[fe(o)]&&(t=t.reverse())}var o;if("limit"in e||"skip"in e){var i=e.skip||0,u=("limit"in e?e.limit:t.length)+i;t=t.slice(i,u)}return t}function we(t,e,n){return n.every((function(n){var r=e[n],o=ce(n),i=ue(t,o);return se(n)?function(t,e,n){if("$or"===t)return e.some((function(t){return we(n,t,Object.keys(t))}));if("$not"===t)return!we(n,e,Object.keys(e));return!e.find((function(t){return we(n,t,Object.keys(t))}))}(n,r,t):Oe(r,t,o,i)}))}function Oe(t,e,n,r){return!t||("object"==typeof t?Object.keys(t).every((function(o){var i=t[o];return function(t,e,n,r,o){if(!ke[t])throw new Error('unknown operator "'+t+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return ke[t](e,n,r,o)}(o,e,i,n,r)})):t===r)}function xe(t){return null!=t}function je(t){return void 0!==t}function Ee(t,e){return e.some((function(e){return t instanceof Array?t.indexOf(e)>-1:t===e}))}var ke={$elemMatch:function(t,e,n,r){return!!Array.isArray(r)&&(0!==r.length&&("object"==typeof r[0]?r.some((function(t){return we(t,e,Object.keys(e))})):r.some((function(r){return Oe(e,t,n,r)}))))},$allMatch:function(t,e,n,r){return!!Array.isArray(r)&&(0!==r.length&&("object"==typeof r[0]?r.every((function(t){return we(t,e,Object.keys(e))})):r.every((function(r){return Oe(e,t,n,r)}))))},$eq:function(t,e,n,r){return je(r)&&0===pe(r,e)},$gte:function(t,e,n,r){return je(r)&&pe(r,e)>=0},$gt:function(t,e,n,r){return je(r)&&pe(r,e)>0},$lte:function(t,e,n,r){return je(r)&&pe(r,e)<=0},$lt:function(t,e,n,r){return je(r)&&pe(r,e)<0},$exists:function(t,e,n,r){return e?je(r):!je(r)},$mod:function(t,e,n,r){return xe(r)&&function(t,e){var n=e[0],r=e[1];if(0===n)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(n,10)!==n)throw new Error("Divisor is not an integer");if(parseInt(r,10)!==r)throw new Error("Modulus is not an integer");return parseInt(t,10)===t&&t%n===r}(r,e)},$ne:function(t,e,n,r){return e.every((function(t){return 0!==pe(r,t)}))},$in:function(t,e,n,r){return xe(r)&&Ee(r,e)},$nin:function(t,e,n,r){return xe(r)&&!Ee(r,e)},$size:function(t,e,n,r){return xe(r)&&function(t,e){return t.length===e}(r,e)},$all:function(t,e,n,r){return Array.isArray(r)&&function(t,e){return e.every((function(e){return t.indexOf(e)>-1}))}(r,e)},$regex:function(t,e,n,r){return xe(r)&&function(t,e){return new RegExp(e).test(t)}(r,e)},$type:function(t,e,n,r){return function(t,e){switch(e){case"null":return null===t;case"boolean":return"boolean"==typeof t;case"number":return"number"==typeof t;case"string":return"string"==typeof t;case"array":return t instanceof Array;case"object":return"[object Object]"==={}.toString.call(t)}throw new Error(e+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}(r,e)}};function Se(t,e){if(t.selector&&t.filter&&"_selector"!==t.filter){var n="string"==typeof t.filter?t.filter:"function";return e(new Error('selector invalid for filter "'+n+'"'))}e()}function Pe(t){t.view&&!t.filter&&(t.filter="_view"),t.selector&&!t.filter&&(t.filter="_selector"),t.filter&&"string"==typeof t.filter&&("_view"===t.filter?t.view=st(t.view):t.filter=st(t.filter))}function Ae(t,e){return e.filter&&"string"==typeof e.filter&&!e.doc_ids&&!ct(t.db)}function Ce(t,e){var n=e.complete;if("_view"===e.filter){if(!e.view||"string"!=typeof e.view){var r=nt(Q,"`view` filter parameter not found or invalid.");return n(r)}var o=at(e.view);t.db.get("_design/"+o[0],(function(r,i){if(t.isCancelled)return n(null,{status:"cancelled"});if(r)return n(rt(r));var u=i&&i.views&&i.views[o[1]]&&i.views[o[1]].map;if(!u)return n(nt(F,i.views?"missing json key: "+o[1]:"missing json key: views"));e.filter=ht(["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+u+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),{}),t.doChanges(e)}))}else if(e.selector)e.filter=function(t){return function(t,e){if("object"!=typeof e)throw new Error("Selector error: expected a JSON object");var n=_e([{doc:t}],{selector:e=de(e)},Object.keys(e));return n&&1===n.length}(t,e.selector)},t.doChanges(e);else{var i=at(e.filter);t.db.get("_design/"+i[0],(function(r,o){if(t.isCancelled)return n(null,{status:"cancelled"});if(r)return n(rt(r));var u=o&&o.filters&&o.filters[i[1]];if(!u)return n(nt(F,o&&o.filters?"missing json key: "+i[1]:"missing json key: filters"));e.filter=ht('"use strict";\nreturn '+u+";",{}),t.doChanges(e)}))}}function Te(t){return t.reduce((function(t,e){return t[e]=!0,t}),{})}ee.plugin((function(t){t._changesFilterPlugin={validate:Se,normalize:Pe,shouldFilter:Ae,filter:Ce}})),ee.version="7.2.2";var Ie=Te(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),De=Te(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function Re(t){if(!/^\d+-/.test(t))return nt(tt);var e=t.indexOf("-"),n=t.substring(0,e),r=t.substring(e+1);return{prefix:parseInt(n,10),id:r}}function qe(t,e,n){var r,o,i;n||(n={deterministic_revs:!0});var u={status:"available"};if(t._deleted&&(u.deleted=!0),e)if(t._id||(t._id=Tt()),o=Ct(t,n.deterministic_revs),t._rev){if((i=Re(t._rev)).error)return i;t._rev_tree=[{pos:i.prefix,ids:[i.id,{status:"missing"},[[o,u,[]]]]}],r=i.prefix+1}else t._rev_tree=[{pos:1,ids:[o,u,[]]}],r=1;else if(t._revisions&&(t._rev_tree=function(t,e){for(var n=t.start-t.ids.length+1,r=t.ids,o=[r[0],e,[]],i=1,u=r.length;i<u;i++)o=[r[i],{status:"missing"},[o]];return[{pos:n,ids:o}]}(t._revisions,u),r=t._revisions.start,o=t._revisions.ids[0]),!t._rev_tree){if((i=Re(t._rev)).error)return i;r=i.prefix,o=i.id,t._rev_tree=[{pos:r,ids:[o,u,[]]}]}ut(t._id),t._rev=r+"-"+o;var c={metadata:{},data:{}};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var s="_"===a[0];if(s&&!Ie[a]){var f=nt(H,a);throw f.message=H.message+": "+a,f}s&&!De[a]?c.metadata[a.slice(1)]=t[a]:c.data[a]=t[a]}return c}function Ne(t,e,n){var r=function(t){try{return yt(t)}catch(t){return{error:nt(G,"Attachment is not a valid base64 string")}}}(t.data);if(r.error)return n(r.error);t.length=r.length,t.data="blob"===e?_t(r,t.content_type):"base64"===e?gt(r):r,Pt(r,(function(e){t.digest="md5-"+e,n()}))}function Le(t,e,n){if(t.stub)return n();"string"==typeof t.data?Ne(t,e,n):function(t,e,n){Pt(t.data,(function(r){t.digest="md5-"+r,t.length=t.data.size||t.data.length||0,"binary"===e?xt(t.data,(function(e){t.data=e,n()})):"base64"===e?jt(t.data,(function(e){t.data=e,n()})):n()}))}(t,e,n)}function Me(t,e,n,r,o,i,u,c){if(function(t,e){for(var n,r=t.slice(),o=e.split("-"),i=parseInt(o[0],10),u=o[1];n=r.pop();){if(n.pos===i&&n.ids[0]===u)return!0;for(var c=n.ids[2],a=0,s=c.length;a<s;a++)r.push({pos:n.pos+1,ids:c[a]})}return!1}(e.rev_tree,n.metadata.rev)&&!c)return r[o]=n,i();var a=e.winningRev||It(e),s="deleted"in e?e.deleted:Wt(e,a),f="deleted"in n.metadata?n.metadata.deleted:Wt(n.metadata),l=/^1-/.test(n.metadata.rev);if(s&&!f&&c&&l){var d=n.data;d._rev=a,d._id=n.metadata.id,n=qe(d,c)}var p=Kt(e.rev_tree,n.metadata.rev_tree[0],t);if(c&&(s&&f&&"new_leaf"!==p.conflicts||!s&&"new_leaf"!==p.conflicts||s&&!f&&"new_branch"===p.conflicts)){var h=nt(z);return r[o]=h,i()}var v=n.metadata.rev;n.metadata.rev_tree=p.tree,n.stemmedRevs=p.stemmedRevs||[],e.rev_map&&(n.metadata.rev_map=e.rev_map);var y=It(n.metadata),g=Wt(n.metadata,y),m=s===g?0:s<g?-1:1;u(n,y,g,v===y?g:Wt(n.metadata,v),!0,m,o,i)}function Be(t,e,n,r,i,u,c,a,s){t=t||1e3;var f=a.new_edits,l=new o,d=0,p=e.length;function h(){++d===p&&s&&s()}e.forEach((function(t,e){if(t._id&&Jt(t._id)){var r=t._deleted?"_removeLocal":"_putLocal";n[r](t,{ctx:i},(function(t,n){u[e]=t||n,h()}))}else{var o=t.metadata.id;l.has(o)?(p--,l.get(o).push([t,e])):l.set(o,[[t,e]])}})),l.forEach((function(e,n){var o=0;function i(){++o<e.length?s():h()}function s(){var s=e[o],l=s[0],d=s[1];if(r.has(n))Me(t,r.get(n),l,u,d,i,c,f);else{var p=Kt([],l.metadata.rev_tree[0],t);l.metadata.rev_tree=p.tree,l.stemmedRevs=p.stemmedRevs||[],function(t,e,n){var r=It(t.metadata),o=Wt(t.metadata,r);if("was_delete"in a&&o)return u[e]=nt(F,"deleted"),n();if(f&&function(t){return"missing"===t.metadata.rev_tree[0].ids[1].status}(t)){var i=nt(z);return u[e]=i,n()}c(t,r,o,o,!1,o?0:1,e,n)}(l,d,i)}}s()}))}var Ue="document-store",$e="meta-store";function Fe(t){try{return JSON.stringify(t)}catch(e){return l.a.stringify(t)}}function ze(t){return function(e){var n="unknown_error";e.target&&e.target.error&&(n=e.target.error.name||e.target.error.message),t(nt(Z,n,e.type))}}function Ke(t,e,n){return{data:Fe(t),winningRev:e,deletedOrLocal:n?"1":"0",seq:t.seq,id:t.id}}function Ve(t){if(!t)return null;var e=function(t){try{return JSON.parse(t)}catch(e){return l.a.parse(t)}}(t.data);return e.winningRev=t.winningRev,e.deleted="1"===t.deletedOrLocal,e.seq=t.seq,e}function We(t){if(!t)return t;var e=t._doc_id_rev.lastIndexOf(":");return t._id=t._doc_id_rev.substring(0,e-1),t._rev=t._doc_id_rev.substring(e+1),delete t._doc_id_rev,t}function Je(t,e,n,r){n?r(t?"string"!=typeof t?t:wt(t,e):mt([""],{type:e})):t?"string"!=typeof t?Ot(t,(function(t){r(gt(t))})):r(t):r("")}function Ge(t,e,n,r){var o=Object.keys(t._attachments||{});if(!o.length)return r&&r();var i=0;function u(){++i===o.length&&r&&r()}o.forEach((function(r){e.attachments&&e.include_docs?function(t,e){var r=t._attachments[e],o=r.digest;n.objectStore("attach-store").get(o).onsuccess=function(t){r.body=t.target.result.body,u()}}(t,r):(t._attachments[r].stub=!0,u())}))}function Ye(t,e){return Promise.all(t.map((function(t){if(t.doc&&t.doc._attachments){var n=Object.keys(t.doc._attachments);return Promise.all(n.map((function(n){var r=t.doc._attachments[n];if("body"in r){var o=r.body,i=r.content_type;return new Promise((function(u){Je(o,i,e,(function(e){t.doc._attachments[n]=B(A(r,["digest","content_type"]),{data:e}),u()}))}))}})))}})))}function He(t,e,n){var r=[],o=n.objectStore("by-sequence"),i=n.objectStore("attach-store"),u=n.objectStore("attach-seq-store"),c=t.length;function a(){--c||function(){if(!r.length)return;r.forEach((function(t){u.index("digestSeq").count(IDBKeyRange.bound(t+"::",t+"::",!1,!1)).onsuccess=function(e){e.target.result||i.delete(t)}}))}()}t.forEach((function(t){var n=o.index("_doc_id_rev"),i=e+"::"+t;n.getKey(i).onsuccess=function(t){var e=t.target.result;if("number"!=typeof e)return a();o.delete(e),u.index("seq").openCursor(IDBKeyRange.only(e)).onsuccess=function(t){var e=t.target.result;if(e){var n=e.value.digestSeq.split("::")[0];r.push(n),u.delete(e.primaryKey),e.continue()}else a()}}}))}function Qe(t,e,n){try{return{txn:t.transaction(e,n)}}catch(t){return{error:t}}}var Xe=new q;function Ze(t,e,n,r,i,u){for(var c,a,s,f,l,d,p,h,v=e.docs,y=0,g=v.length;y<g;y++){var m=v[y];m._id&&Jt(m._id)||(m=v[y]=qe(m,n.new_edits,t)).error&&!p&&(p=m)}if(p)return u(p);var b=!1,_=0,w=new Array(v.length),O=new o,x=!1,j=r._meta.blobSupport?"blob":"base64";function E(){b=!0,k()}function k(){h&&b&&(h.docCount+=_,d.put(h))}function S(){x||(Xe.notify(r._meta.name),u(null,w))}function P(t,e,n,r,o,i,u,c){t.metadata.winningRev=e,t.metadata.deleted=n;var a=t.data;if(a._id=t.metadata.id,a._rev=t.metadata.rev,r&&(a._deleted=!0),a._attachments&&Object.keys(a._attachments).length)return function(t,e,n,r,o,i){var u=t.data,c=0,a=Object.keys(u._attachments);function s(){c===a.length&&A(t,e,n,r,o,i)}function l(){c++,s()}a.forEach((function(n){var r=t.data._attachments[n];if(r.stub)c++,s();else{var o=r.data;delete r.data,r.revpos=parseInt(e,10),function(t,e,n){f.count(t).onsuccess=function(r){if(r.target.result)return n();var o={digest:t,body:e};f.put(o).onsuccess=n}}(r.digest,o,l)}}))}(t,e,n,o,u,c);_+=i,k(),A(t,e,n,o,u,c)}function A(t,e,n,o,i,u){var f=t.data,d=t.metadata;function p(i){var u=t.stemmedRevs||[];o&&r.auto_compaction&&(u=u.concat(function(t){var e=[];return Dt(t.rev_tree,(function(t,n,r,o,i){"available"!==i.status||t||(e.push(n+"-"+r),i.status="missing")})),e}(t.metadata))),u&&u.length&&He(u,t.metadata.id,c),d.seq=i.target.result;var s=Ke(d,e,n);a.put(s).onsuccess=h}function h(){w[i]={ok:!0,id:d.id,rev:d.rev},O.set(t.metadata.id,t.metadata),function(t,e,n){var r=0,o=Object.keys(t.data._attachments||{});if(!o.length)return n();function i(){++r===o.length&&n()}function u(n){var r=t.data._attachments[n].digest,o=l.put({seq:e,digestSeq:r+"::"+e});o.onsuccess=i,o.onerror=function(t){t.preventDefault(),t.stopPropagation(),i()}}for(var c=0;c<o.length;c++)u(o[c])}(t,d.seq,u)}f._doc_id_rev=d.id+"::"+d.rev,delete f._id,delete f._rev;var v=s.put(f);v.onsuccess=p,v.onerror=function(t){t.preventDefault(),t.stopPropagation(),s.index("_doc_id_rev").getKey(f._doc_id_rev).onsuccess=function(t){s.put(f,t.target.result).onsuccess=p}}}!function(t,e,n){if(!t.length)return n();var r,o=0;function i(){o++,t.length===o&&(r?n(r):n())}t.forEach((function(t){var n=t.data&&t.data._attachments?Object.keys(t.data._attachments):[],o=0;if(!n.length)return i();function u(t){r=t,++o===n.length&&i()}for(var c in t.data._attachments)t.data._attachments.hasOwnProperty(c)&&Le(t.data._attachments[c],e,u)}))}(v,j,(function(e){if(e)return u(e);!function(){var e=Qe(i,[Ue,"by-sequence","attach-store","local-store","attach-seq-store",$e],"readwrite");if(e.error)return u(e.error);(c=e.txn).onabort=ze(u),c.ontimeout=ze(u),c.oncomplete=S,a=c.objectStore(Ue),s=c.objectStore("by-sequence"),f=c.objectStore("attach-store"),l=c.objectStore("attach-seq-store"),(d=c.objectStore($e)).get($e).onsuccess=function(t){h=t.target.result,k()},function(t){var e=[];if(v.forEach((function(t){t.data&&t.data._attachments&&Object.keys(t.data._attachments).forEach((function(n){var r=t.data._attachments[n];r.stub&&e.push(r.digest)}))})),!e.length)return t();var n,r=0;e.forEach((function(o){!function(t,e){f.get(t).onsuccess=function(n){if(n.target.result)e();else{var r=nt(et,"unknown stub attachment with digest "+t);r.status=412,e(r)}}}(o,(function(o){o&&!n&&(n=o),++r===e.length&&t(n)}))}))}((function(e){if(e)return x=!0,u(e);!function(){if(!v.length)return;var e=0;function o(){++e===v.length&&Be(t.revs_limit,v,r,O,c,w,P,n,E)}function i(t){var e=Ve(t.target.result);e&&O.set(e.id,e),o()}for(var u=0,s=v.length;u<s;u++){var f=v[u];if(f._id&&Jt(f._id))o();else a.get(f.metadata.id).onsuccess=i}}()}))}()}))}function tn(t,e,n,r,o){var i,u,c;function a(t){u=t.target.result,i&&o(i,u,c)}function s(t){i=t.target.result,u&&o(i,u,c)}function f(t){var e=t.target.result;if(!e)return o();o([e.key],[e.value],e)}-1===r&&(r=1e3),"function"==typeof t.getAll&&"function"==typeof t.getAllKeys&&r>1&&!n?(c={continue:function(){if(!i.length)return o();var n,c=i[i.length-1];if(e&&e.upper)try{n=IDBKeyRange.bound(c,e.upper,!0,e.upperOpen)}catch(t){if("DataError"===t.name&&0===t.code)return o()}else n=IDBKeyRange.lowerBound(c,!0);e=n,i=null,u=null,t.getAll(e,r).onsuccess=a,t.getAllKeys(e,r).onsuccess=s}},t.getAll(e,r).onsuccess=a,t.getAllKeys(e,r).onsuccess=s):n?t.openCursor(e,"prev").onsuccess=f:t.openCursor(e).onsuccess=f}function en(t,e,n){var r,o,i="startkey"in t&&t.startkey,u="endkey"in t&&t.endkey,c="key"in t&&t.key,a="keys"in t&&t.keys,s=t.skip||0,f="number"==typeof t.limit?t.limit:-1,l=!1!==t.inclusive_end;if(!a&&(o=(r=function(t,e,n,r,o){try{if(t&&e)return o?IDBKeyRange.bound(e,t,!n,!1):IDBKeyRange.bound(t,e,!1,!n);if(t)return o?IDBKeyRange.upperBound(t):IDBKeyRange.lowerBound(t);if(e)return o?IDBKeyRange.lowerBound(e,!n):IDBKeyRange.upperBound(e,!n);if(r)return IDBKeyRange.only(r)}catch(t){return{error:t}}return null}(i,u,l,c,t.descending))&&r.error)&&("DataError"!==o.name||0!==o.code))return n(nt(Z,o.name,o.message));var d=[Ue,"by-sequence",$e];t.attachments&&d.push("attach-store");var p=Qe(e,d,"readonly");if(p.error)return n(p.error);var h=p.txn;h.oncomplete=function(){t.attachments?Ye(O,t.binary).then(k):k()},h.onabort=ze(n);var v,y,g,m=h.objectStore(Ue),b=h.objectStore("by-sequence"),_=h.objectStore($e),w=b.index("_doc_id_rev"),O=[];function x(e,n){var r={id:n.id,key:n.id,value:{rev:e}};n.deleted?a&&(O.push(r),r.value.deleted=!0,r.doc=null):s--<=0&&(O.push(r),t.include_docs&&function(e,n,r){var o=e.id+"::"+r;w.get(o).onsuccess=function(r){if(n.doc=We(r.target.result)||{},t.conflicts){var o=Nt(e);o.length&&(n.doc._conflicts=o)}Ge(n.doc,t,h)}}(n,r,e))}function j(t){for(var e=0,n=t.length;e<n&&O.length!==f;e++){var r=t[e];if(r.error&&a)O.push(r);else{var o=Ve(r);x(o.winningRev,o)}}}function E(t,e,n){n&&(j(e),O.length<f&&n.continue())}function k(){var e={total_rows:v,offset:t.skip,rows:O};t.update_seq&&void 0!==y&&(e.update_seq=y),n(null,e)}return _.get($e).onsuccess=function(t){v=t.target.result.docCount},t.update_seq&&(g=function(t){t.target.result&&t.target.result.length>0&&(y=t.target.result[0])},b.openCursor(null,"prev").onsuccess=function(t){var e=t.target.result,n=void 0;return e&&e.key&&(n=e.key),g({target:{result:[n]}})}),o||0===f?void 0:a?function(t,e,n){var r=new Array(t.length),o=0;t.forEach((function(i,u){e.get(i).onsuccess=function(e){e.target.result?r[u]=e.target.result:r[u]={key:i,error:"not_found"},++o===t.length&&n(t,r,{})}}))}(t.keys,m,E):-1===f?function(t,e,n){if("function"!=typeof t.getAll){var r=[];t.openCursor(e).onsuccess=function(t){var e=t.target.result;e?(r.push(e.value),e.continue()):n({target:{result:r}})}}else t.getAll(e).onsuccess=n}(m,r,(function(e){var n=e.target.result;t.descending&&(n=n.reverse()),j(n)})):void tn(m,r,t.descending,f+s,E)}var nn=!1,rn=[];function on(){!nn&&rn.length&&(nn=!0,rn.shift()())}function un(t,e,n,i){if((t=E(t)).continuous){var u=n+":"+Tt();return Xe.addListener(n,u,e,t),Xe.notify(n),{cancel:function(){Xe.removeListener(n,u)}}}var c=t.doc_ids&&new r(t.doc_ids);t.since=t.since||0;var a=t.since,s="limit"in t?t.limit:-1;0===s&&(s=1);var f,l,d,p,h=[],v=0,y=ot(t),g=new o;function m(t,e,n,r){if(n.seq!==e)return r();if(n.winningRev===t._rev)return r(n,t);var o=t._id+"::"+n.winningRev;p.get(o).onsuccess=function(t){r(n,We(t.target.result))}}function b(){t.complete(null,{results:h,last_seq:a})}var _=[Ue,"by-sequence"];t.attachments&&_.push("attach-store");var w=Qe(i,_,"readonly");if(w.error)return t.complete(w.error);(f=w.txn).onabort=ze(t.complete),f.oncomplete=function(){!t.continuous&&t.attachments?Ye(h).then(b):b()},l=f.objectStore("by-sequence"),d=f.objectStore(Ue),p=l.index("_doc_id_rev"),tn(l,t.since&&!t.descending?IDBKeyRange.lowerBound(t.since,!0):null,t.descending,s,(function(e,n,r){if(r&&e.length){var o=new Array(e.length),i=new Array(e.length),u=0;n.forEach((function(n,a){!function(t,e,n){if(c&&!c.has(t._id))return n();var r=g.get(t._id);if(r)return m(t,e,r,n);d.get(t._id).onsuccess=function(o){r=Ve(o.target.result),g.set(t._id,r),m(t,e,r,n)}}(We(n),e[a],(function(n,c){i[a]=n,o[a]=c,++u===e.length&&function(){for(var e=[],n=0,u=o.length;n<u&&v!==s;n++){var c=o[n];if(c){var a=i[n];e.push(l(a,c))}}Promise.all(e).then((function(e){for(var n=0,r=e.length;n<r;n++)e[n]&&t.onChange(e[n])})).catch(t.complete),v!==s&&r.continue()}()}))}))}function l(e,n){var r=t.processChange(n,e,t);a=r.seq=e.seq;var o=y(r);return"object"==typeof o?Promise.reject(o):o?(v++,t.return_docs&&h.push(r),t.attachments&&t.include_docs?new Promise((function(e){Ge(n,t,f,(function(){Ye([r],t.binary).then((function(){e(r)}))}))})):Promise.resolve(r)):Promise.resolve()}}))}var cn,an=new o,sn=new o;function fn(t,e){var n=this;!function(t,e,n){rn.push((function(){t((function(t,r){!function(t,e,n,r){try{t(e,n)}catch(e){r.emit("error",e)}}(e,t,r,n),nn=!1,u()((function(){on()}))}))})),on()}((function(e){!function(t,e,n){var r=e.name,o=null;function i(t,e){var n=t.objectStore(Ue);n.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),n.openCursor().onsuccess=function(t){var r=t.target.result;if(r){var o=r.value,i=Wt(o);o.deletedOrLocal=i?"1":"0",n.put(o),r.continue()}else e()}}function c(t,e){var n=t.objectStore("local-store"),r=t.objectStore(Ue),o=t.objectStore("by-sequence");r.openCursor().onsuccess=function(t){var i=t.target.result;if(i){var u=i.value,c=u.id,a=Jt(c),s=It(u);if(a){var f=c+"::"+s,l=c+"::",d=c+"::~",p=o.index("_doc_id_rev"),h=IDBKeyRange.bound(l,d,!1,!1),v=p.openCursor(h);v.onsuccess=function(t){if(v=t.target.result){var e=v.value;e._doc_id_rev===f&&n.put(e),o.delete(v.primaryKey),v.continue()}else r.delete(i.primaryKey),i.continue()}}else i.continue()}else e&&e()}}function a(t,e){var n=t.objectStore("by-sequence"),r=t.objectStore("attach-store"),o=t.objectStore("attach-seq-store");r.count().onsuccess=function(t){if(!t.target.result)return e();n.openCursor().onsuccess=function(t){var n=t.target.result;if(!n)return e();for(var r=n.value,i=n.primaryKey,u=Object.keys(r._attachments||{}),c={},a=0;a<u.length;a++){c[r._attachments[u[a]].digest]=!0}var s=Object.keys(c);for(a=0;a<s.length;a++){var f=s[a];o.put({seq:i,digestSeq:f+"::"+i})}n.continue()}}}function s(t){var e=t.objectStore("by-sequence"),n=t.objectStore(Ue);n.openCursor().onsuccess=function(t){var r=t.target.result;if(r){var o,i=(o=r.value).data?Ve(o):(o.deleted="1"===o.deletedOrLocal,o);if(i.winningRev=i.winningRev||It(i),i.seq)return u();!function(){var t=i.id+"::",n=i.id+"::",r=e.index("_doc_id_rev").openCursor(IDBKeyRange.bound(t,n)),o=0;r.onsuccess=function(t){var e=t.target.result;if(!e)return i.seq=o,u();var n=e.primaryKey;n>o&&(o=n),e.continue()}}()}function u(){var t=Ke(i,i.winningRev,i.deleted);n.put(t).onsuccess=function(){r.continue()}}}}t._meta=null,t._remote=!1,t.type=function(){return"idb"},t._id=S((function(e){e(null,t._meta.instanceId)})),t._bulkDocs=function(n,r,i){Ze(e,n,r,t,o,i)},t._get=function(t,e,n){var r,i,u,c=e.ctx;if(!c){var a=Qe(o,[Ue,"by-sequence","attach-store"],"readonly");if(a.error)return n(a.error);c=a.txn}function s(){n(u,{doc:r,metadata:i,ctx:c})}c.objectStore(Ue).get(t).onsuccess=function(t){if(!(i=Ve(t.target.result)))return u=nt(F,"missing"),s();var n;if(e.rev)n=e.latest?function(t,e){for(var n,r=e.rev_tree.slice();n=r.pop();){var o=n.pos,i=n.ids,u=i[0],c=i[1],a=i[2],s=0===a.length,f=n.history?n.history.slice():[];if(f.push({id:u,pos:o,opts:c}),s)for(var l=0,d=f.length;l<d;l++){var p=f[l];if(p.pos+"-"+p.id===t)return o+"-"+u}for(var h=0,v=a.length;h<v;h++)r.push({pos:o+1,ids:a[h],history:f})}throw new Error("Unable to resolve latest revision for id "+e.id+", rev "+t)}(e.rev,i):e.rev;else if(n=i.winningRev,Wt(i))return u=nt(F,"deleted"),s();var o=c.objectStore("by-sequence"),a=i.id+"::"+n;o.index("_doc_id_rev").get(a).onsuccess=function(t){if((r=t.target.result)&&(r=We(r)),!r)return u=nt(F,"missing"),s();s()}}},t._getAttachment=function(t,e,n,r,i){var u;if(r.ctx)u=r.ctx;else{var c=Qe(o,[Ue,"by-sequence","attach-store"],"readonly");if(c.error)return i(c.error);u=c.txn}var a=n.digest,s=n.content_type;u.objectStore("attach-store").get(a).onsuccess=function(t){Je(t.target.result.body,s,r.binary,(function(t){i(null,t)}))}},t._info=function(e){var n,r,i=Qe(o,[$e,"by-sequence"],"readonly");if(i.error)return e(i.error);var u=i.txn;u.objectStore($e).get($e).onsuccess=function(t){r=t.target.result.docCount},u.objectStore("by-sequence").openCursor(null,"prev").onsuccess=function(t){var e=t.target.result;n=e?e.key:0},u.oncomplete=function(){e(null,{doc_count:r,update_seq:n,idb_attachment_format:t._meta.blobSupport?"binary":"base64"})}},t._allDocs=function(t,e){en(t,o,e)},t._changes=function(e){return un(e,t,r,o)},t._close=function(t){o.close(),an.delete(r),t()},t._getRevisionTree=function(t,e){var n=Qe(o,[Ue],"readonly");if(n.error)return e(n.error);n.txn.objectStore(Ue).get(t).onsuccess=function(t){var n=Ve(t.target.result);n?e(null,n.rev_tree):e(nt(F))}},t._doCompaction=function(t,e,n){var r=Qe(o,[Ue,"by-sequence","attach-store","attach-seq-store"],"readwrite");if(r.error)return n(r.error);var i=r.txn;i.objectStore(Ue).get(t).onsuccess=function(n){var r=Ve(n.target.result);Dt(r.rev_tree,(function(t,n,r,o,i){var u=n+"-"+r;-1!==e.indexOf(u)&&(i.status="missing")})),He(e,t,i);var o=r.winningRev,u=r.deleted;i.objectStore(Ue).put(Ke(r,o,u))},i.onabort=ze(n),i.oncomplete=function(){n()}},t._getLocal=function(t,e){var n=Qe(o,["local-store"],"readonly");if(n.error)return e(n.error);var r=n.txn.objectStore("local-store").get(t);r.onerror=ze(e),r.onsuccess=function(t){var n=t.target.result;n?(delete n._doc_id_rev,e(null,n)):e(nt(F))}},t._putLocal=function(t,e,n){"function"==typeof e&&(n=e,e={}),delete t._revisions;var r=t._rev,i=t._id;t._rev=r?"0-"+(parseInt(r.split("-")[1],10)+1):"0-1";var u,c=e.ctx;if(!c){var a=Qe(o,["local-store"],"readwrite");if(a.error)return n(a.error);(c=a.txn).onerror=ze(n),c.oncomplete=function(){u&&n(null,u)}}var s,f=c.objectStore("local-store");r?(s=f.get(i)).onsuccess=function(o){var i=o.target.result;i&&i._rev===r?f.put(t).onsuccess=function(){u={ok:!0,id:t._id,rev:t._rev},e.ctx&&n(null,u)}:n(nt(z))}:((s=f.add(t)).onerror=function(t){n(nt(z)),t.preventDefault(),t.stopPropagation()},s.onsuccess=function(){u={ok:!0,id:t._id,rev:t._rev},e.ctx&&n(null,u)})},t._removeLocal=function(t,e,n){"function"==typeof e&&(n=e,e={});var r,i=e.ctx;if(!i){var u=Qe(o,["local-store"],"readwrite");if(u.error)return n(u.error);(i=u.txn).oncomplete=function(){r&&n(null,r)}}var c=t._id,a=i.objectStore("local-store"),s=a.get(c);s.onerror=ze(n),s.onsuccess=function(o){var i=o.target.result;i&&i._rev===t._rev?(a.delete(c),r={ok:!0,id:c,rev:"0-0"},e.ctx&&n(null,r)):n(nt(F))}},t._destroy=function(t,e){Xe.removeAllListeners(r);var n=sn.get(r);n&&n.result&&(n.result.close(),an.delete(r));var o=indexedDB.deleteDatabase(r);o.onsuccess=function(){sn.delete(r),R()&&r in localStorage&&delete localStorage[r],e(null,{ok:!0})},o.onerror=ze(e)};var f=an.get(r);if(f)return o=f.idb,t._meta=f.global,u()((function(){n(null,t)}));var l=indexedDB.open(r,5);sn.set(r,l),l.onupgradeneeded=function(t){var e=t.target.result;if(t.oldVersion<1)return function(t){var e=t.createObjectStore(Ue,{keyPath:"id"});t.createObjectStore("by-sequence",{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),t.createObjectStore("attach-store",{keyPath:"digest"}),t.createObjectStore($e,{keyPath:"id",autoIncrement:!1}),t.createObjectStore("detect-blob-support"),e.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),t.createObjectStore("local-store",{keyPath:"_id"});var n=t.createObjectStore("attach-seq-store",{autoIncrement:!0});n.createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0})}(e);var n=t.currentTarget.transaction;t.oldVersion<3&&function(t){t.createObjectStore("local-store",{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}(e),t.oldVersion<4&&function(t){var e=t.createObjectStore("attach-seq-store",{autoIncrement:!0});e.createIndex("seq","seq"),e.createIndex("digestSeq","digestSeq",{unique:!0})}(e);var r=[i,c,a,s],o=t.oldVersion;!function t(){var e=r[o-1];o++,e&&e(n,t)}()},l.onsuccess=function(e){(o=e.target.result).onversionchange=function(){o.close(),an.delete(r)},o.onabort=function(t){N("error","Database has a global failure",t.target.error),o.close(),an.delete(r)};var i,u,c,a,s=o.transaction([$e,"detect-blob-support",Ue],"readwrite"),f=!1;function l(){void 0!==c&&f&&(t._meta={name:r,instanceId:a,blobSupport:c},an.set(r,{idb:o,global:t._meta}),n(null,t))}function d(){if(void 0!==u&&void 0!==i){var t=r+"_id";t in i?a=i[t]:i[t]=a=Tt(),i.docCount=u,s.objectStore($e).put(i)}}s.objectStore($e).get($e).onsuccess=function(t){i=t.target.result||{id:$e},d()},function(t,e){t.objectStore(Ue).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(t){e(t.target.result)}}(s,(function(t){u=t,d()})),cn||(cn=function(t){return new Promise((function(e){var n=mt([""]),r=t.objectStore("detect-blob-support").put(n,"key");r.onsuccess=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);e(n||!t||parseInt(t[1],10)>=43)},r.onerror=t.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)}})).catch((function(){return!1}))}(s)),cn.then((function(t){c=t,l()})),s.oncomplete=function(){f=!0,l()},s.onabort=ze(n)},l.onerror=function(t){var e=t.target.error&&t.target.error.message;e?-1!==e.indexOf("stored database is a higher version")&&(e=new Error('This DB was created with the newer "indexeddb" adapter, but you are trying to open it with the older "idb" adapter')):e="Failed to open indexedDB, are you in private browsing mode?",N("error",e),n(nt(Z,e))}}(n,t,e)}),e,n.constructor)}fn.valid=function(){try{return"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(t){return!1}};var ln={};function dn(t){var e=t.doc||t.ok,n=e&&e._attachments;n&&Object.keys(n).forEach((function(t){var e=n[t];e.data=wt(e.data,e.content_type)}))}function pn(t){return/^_design/.test(t)?"_design/"+encodeURIComponent(t.slice(8)):/^_local/.test(t)?"_local/"+encodeURIComponent(t.slice(7)):encodeURIComponent(t)}function hn(t){return t._attachments&&Object.keys(t._attachments)?Promise.all(Object.keys(t._attachments).map((function(e){var n=t._attachments[e];if(n.data&&"string"!=typeof n.data)return new Promise((function(t){jt(n.data,t)})).then((function(t){n.data=t}))}))):Promise.resolve()}function vn(t,e){if(function(t){if(!t.prefix)return!1;var e=pt(t.prefix).protocol;return"http"===e||"https"===e}(e)){var n=e.name.substr(e.prefix.length);t=e.prefix.replace(/\/?$/,"/")+encodeURIComponent(n)}var r=pt(t);(r.user||r.password)&&(r.auth={username:r.user,password:r.password});var o=r.path.replace(/(^\/|\/$)/g,"").split("/");return r.db=o.pop(),-1===r.db.indexOf("%")&&(r.db=encodeURIComponent(r.db)),r.path=o.join("/"),r}function yn(t,e){return gn(t,t.db+"/"+e)}function gn(t,e){var n=t.path?"/":"";return t.protocol+"://"+t.host+(t.port?":"+t.port:"")+"/"+t.path+n+e}function mn(t){return"?"+Object.keys(t).map((function(e){return e+"="+encodeURIComponent(t[e])})).join("&")}function bn(e,n){var r=this,o=vn(e.name,e),i=yn(o,"");e=E(e);var c,a=function(t,n){if((n=n||{}).headers=n.headers||new oe,n.credentials="include",e.auth||o.auth){var r=e.auth||o.auth,i=r.username+":"+r.password,u=gt(unescape(encodeURIComponent(i)));n.headers.set("Authorization","Basic "+u)}var c=e.headers||{};return Object.keys(c).forEach((function(t){n.headers.append(t,c[t])})),function(t){var e="undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",n=-1!==e.indexOf("msie"),r=-1!==e.indexOf("trident"),o=-1!==e.indexOf("edge"),i=!("method"in t)||"GET"===t.method;return(n||r||o)&&i}(n)&&(t+=(-1===t.indexOf("?")?"?":"&")+"_nonce="+Date.now()),(e.fetch||re)(t,n)};function s(t,e){return P(t,p()((function(t){l().then((function(){return e.apply(this,t)})).catch((function(e){t.pop()(e)}))}))).bind(r)}function f(t,e,n){var r={};return(e=e||{}).headers=e.headers||new oe,e.headers.get("Content-Type")||e.headers.set("Content-Type","application/json"),e.headers.get("Accept")||e.headers.set("Accept","application/json"),a(t,e).then((function(t){return r.ok=t.ok,r.status=t.status,t.json()})).then((function(t){if(r.data=t,!r.ok){r.data.status=r.status;var e=rt(r.data);if(n)return n(e);throw e}if(Array.isArray(r.data)&&(r.data=r.data.map((function(t){return t.error||t.missing?rt(t):t}))),!n)return r;n(null,r.data)}))}function l(){return e.skip_setup?Promise.resolve():c||((c=f(i).catch((function(t){return t&&t.status&&404===t.status?(M(404,"PouchDB is just detecting if the remote exists."),f(i,{method:"PUT"})):Promise.reject(t)})).catch((function(t){return!(!t||!t.status||412!==t.status)||Promise.reject(t)}))).catch((function(){c=null})),c)}function d(t){return t.split("/").map(encodeURIComponent).join("/")}u()((function(){n(null,r)})),r._remote=!0,r.type=function(){return"http"},r.id=s("id",(function(t){a(gn(o,"")).then((function(t){return t.json()})).catch((function(){return{}})).then((function(e){var n=e&&e.uuid?e.uuid+o.db:yn(o,"");t(null,n)}))})),r.compact=s("compact",(function(t,e){"function"==typeof t&&(e=t,t={}),t=E(t),f(yn(o,"_compact"),{method:"POST"}).then((function(){!function n(){r.info((function(r,o){o&&!o.compact_running?e(null,{ok:!0}):setTimeout(n,t.interval||200)}))}()}))})),r.bulkGet=P("bulkGet",(function(t,e){var n=this;function r(e){var n={};t.revs&&(n.revs=!0),t.attachments&&(n.attachments=!0),t.latest&&(n.latest=!0),f(yn(o,"_bulk_get"+mn(n)),{method:"POST",body:JSON.stringify({docs:t.docs})}).then((function(n){t.attachments&&t.binary&&n.data.results.forEach((function(t){t.docs.forEach(dn)})),e(null,n.data)})).catch(e)}function i(){var r=Math.ceil(t.docs.length/50),o=0,i=new Array(r);function u(t){return function(n,u){i[t]=u.results,++o===r&&e(null,{results:it(i)})}}for(var c=0;c<r;c++){var a=A(t,["revs","attachments","binary","latest"]);a.docs=t.docs.slice(50*c,Math.min(t.docs.length,50*(c+1))),D(n,a,u(c))}}var u=gn(o,""),c=ln[u];"boolean"!=typeof c?r((function(t,n){t?(ln[u]=!1,M(t.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),i()):(ln[u]=!0,e(null,n))})):c?r(e):i()})),r._info=function(t){l().then((function(){return a(yn(o,""))})).then((function(t){return t.json()})).then((function(e){e.host=yn(o,""),t(null,e)})).catch(t)},r.fetch=function(t,e){return l().then((function(){var n="/"===t.substring(0,1)?gn(o,t.substring(1)):yn(o,t);return a(n,e)}))},r.get=s("get",(function(t,e,n){"function"==typeof e&&(n=e,e={});var r={};function i(t){var n=t._attachments,r=n&&Object.keys(n);if(n&&r.length)return function(t,e){return new Promise((function(n,r){var o,i=0,u=0,c=0,a=t.length;function s(){++c===a?o?r(o):n():d()}function f(){i--,s()}function l(t){i--,o=o||t,s()}function d(){for(;i<e&&u<a;)i++,t[u++]().then(f,l)}d()}))}(r.map((function(r){return function(){return function(r){var i=n[r],u=pn(t._id)+"/"+d(r)+"?rev="+t._rev;return a(yn(o,u)).then((function(t){return"buffer"in t?t.buffer():t.blob()})).then((function(t){if(e.binary){var n=Object.getOwnPropertyDescriptor(t.__proto__,"type");return n&&!n.set||(t.type=i.content_type),t}return new Promise((function(e){jt(t,e)}))})).then((function(t){delete i.stub,delete i.length,i.data=t}))}(r)}})),5)}(e=E(e)).revs&&(r.revs=!0),e.revs_info&&(r.revs_info=!0),e.latest&&(r.latest=!0),e.open_revs&&("all"!==e.open_revs&&(e.open_revs=JSON.stringify(e.open_revs)),r.open_revs=e.open_revs),e.rev&&(r.rev=e.rev),e.conflicts&&(r.conflicts=e.conflicts),e.update_seq&&(r.update_seq=e.update_seq),t=pn(t),f(yn(o,t+mn(r))).then((function(t){return Promise.resolve().then((function(){if(e.attachments)return n=t.data,Array.isArray(n)?Promise.all(n.map((function(t){if(t.ok)return i(t.ok)}))):i(n);var n})).then((function(){n(null,t.data)}))})).catch((function(e){e.docId=t,n(e)}))})),r.remove=s("remove",(function(t,e,n,r){var i;"string"==typeof e?(i={_id:t,_rev:e},"function"==typeof n&&(r=n,n={})):(i=t,"function"==typeof e?(r=e,n={}):(r=n,n=e));var u=i._rev||n.rev;f(yn(o,pn(i._id))+"?rev="+u,{method:"DELETE"},r).catch(r)})),r.getAttachment=s("getAttachment",(function(e,n,r,i){"function"==typeof r&&(i=r,r={});var u,c=r.rev?"?rev="+r.rev:"",s=yn(o,pn(e))+"/"+d(n)+c;a(s,{method:"GET"}).then((function(e){if(u=e.headers.get("content-type"),e.ok)return void 0===t||t.browser||"function"!=typeof e.buffer?e.blob():e.buffer();throw e})).then((function(e){void 0===t||t.browser||(e.type=u),i(null,e)})).catch((function(t){i(t)}))})),r.removeAttachment=s("removeAttachment",(function(t,e,n,r){f(yn(o,pn(t)+"/"+d(e))+"?rev="+n,{method:"DELETE"},r).catch(r)})),r.putAttachment=s("putAttachment",(function(t,e,n,r,i,u){"function"==typeof i&&(u=i,i=r,r=n,n=null);var c=pn(t)+"/"+d(e),a=yn(o,c);if(n&&(a+="?rev="+n),"string"==typeof r){var s;try{s=yt(r)}catch(t){return u(nt(G,"Attachment is not a valid base64 string"))}r=s?_t(s,i):""}f(a,{headers:new oe({"Content-Type":i}),method:"PUT",body:r},u).catch(u)})),r._bulkDocs=function(t,e,n){t.new_edits=e.new_edits,l().then((function(){return Promise.all(t.docs.map(hn))})).then((function(){return f(yn(o,"_bulk_docs"),{method:"POST",body:JSON.stringify(t)},n)})).catch(n)},r._put=function(t,e,n){l().then((function(){return hn(t)})).then((function(){return f(yn(o,pn(t._id)),{method:"PUT",body:JSON.stringify(t)})})).then((function(t){n(null,t.data)})).catch((function(e){e.docId=t&&t._id,n(e)}))},r.allDocs=s("allDocs",(function(t,e){"function"==typeof t&&(e=t,t={});var n,r={},i="GET";(t=E(t)).conflicts&&(r.conflicts=!0),t.update_seq&&(r.update_seq=!0),t.descending&&(r.descending=!0),t.include_docs&&(r.include_docs=!0),t.attachments&&(r.attachments=!0),t.key&&(r.key=JSON.stringify(t.key)),t.start_key&&(t.startkey=t.start_key),t.startkey&&(r.startkey=JSON.stringify(t.startkey)),t.end_key&&(t.endkey=t.end_key),t.endkey&&(r.endkey=JSON.stringify(t.endkey)),void 0!==t.inclusive_end&&(r.inclusive_end=!!t.inclusive_end),void 0!==t.limit&&(r.limit=t.limit),void 0!==t.skip&&(r.skip=t.skip);var u=mn(r);void 0!==t.keys&&(i="POST",n={keys:t.keys}),f(yn(o,"_all_docs"+u),{method:i,body:JSON.stringify(n)}).then((function(n){t.include_docs&&t.attachments&&t.binary&&n.data.rows.forEach(dn),e(null,n.data)})).catch(e)})),r._changes=function(t){var e="batch_size"in t?t.batch_size:25;(t=E(t)).continuous&&!("heartbeat"in t)&&(t.heartbeat=1e4);var n="timeout"in t?t.timeout:3e4;"timeout"in t&&t.timeout&&n-t.timeout<5e3&&(n=t.timeout+5e3),"heartbeat"in t&&t.heartbeat&&n-t.heartbeat<5e3&&(n=t.heartbeat+5e3);var r={};"timeout"in t&&t.timeout&&(r.timeout=t.timeout);var i=void 0!==t.limit&&t.limit,c=i;if(t.style&&(r.style=t.style),(t.include_docs||t.filter&&"function"==typeof t.filter)&&(r.include_docs=!0),t.attachments&&(r.attachments=!0),t.continuous&&(r.feed="longpoll"),t.seq_interval&&(r.seq_interval=t.seq_interval),t.conflicts&&(r.conflicts=!0),t.descending&&(r.descending=!0),t.update_seq&&(r.update_seq=!0),"heartbeat"in t&&t.heartbeat&&(r.heartbeat=t.heartbeat),t.filter&&"string"==typeof t.filter&&(r.filter=t.filter),t.view&&"string"==typeof t.view&&(r.filter="_view",r.view=t.view),t.query_params&&"object"==typeof t.query_params)for(var a in t.query_params)t.query_params.hasOwnProperty(a)&&(r[a]=t.query_params[a]);var s,d="GET";t.doc_ids?(r.filter="_doc_ids",d="POST",s={doc_ids:t.doc_ids}):t.selector&&(r.filter="_selector",d="POST",s={selector:t.selector});var p,h=new ne,v=function(n,u){if(!t.aborted){r.since=n,"object"==typeof r.since&&(r.since=JSON.stringify(r.since)),t.descending?i&&(r.limit=c):r.limit=!i||c>e?e:c;var a=yn(o,"_changes"+mn(r)),v={signal:h.signal,method:d,body:JSON.stringify(s)};p=n,t.aborted||l().then((function(){return f(a,v,u)})).catch(u)}},y={results:[]},g=function(n,r){if(!t.aborted){var o=0;if(r&&r.results){o=r.results.length,y.last_seq=r.last_seq;var a=null,s=null;"number"==typeof r.pending&&(a=r.pending),"string"!=typeof y.last_seq&&"number"!=typeof y.last_seq||(s=y.last_seq);t.query_params,r.results=r.results.filter((function(e){c--;var n=ot(t)(e);return n&&(t.include_docs&&t.attachments&&t.binary&&dn(e),t.return_docs&&y.results.push(e),t.onChange(e,a,s)),n}))}else if(n)return t.aborted=!0,void t.complete(n);r&&r.last_seq&&(p=r.last_seq);var f=i&&c<=0||r&&o<e||t.descending;(!t.continuous||i&&c<=0)&&f?t.complete(null,y):u()((function(){v(p,g)}))}};return v(t.since||0,g),{cancel:function(){t.aborted=!0,h.abort()}}},r.revsDiff=s("revsDiff",(function(t,e,n){"function"==typeof e&&(n=e,e={}),f(yn(o,"_revs_diff"),{method:"POST",body:JSON.stringify(t)},n).catch(n)})),r._close=function(t){t()},r._destroy=function(t,e){f(yn(o,""),{method:"DELETE"}).then((function(t){e(null,t)})).catch((function(t){404===t.status?e(null,{ok:!0}):e(t)}))}}function _n(t){this.status=400,this.name="query_parse_error",this.message=t,this.error=!0;try{Error.captureStackTrace(this,_n)}catch(t){}}function wn(t){this.status=404,this.name="not_found",this.message=t,this.error=!0;try{Error.captureStackTrace(this,wn)}catch(t){}}function On(t){this.status=500,this.name="invalid_value",this.message=t,this.error=!0;try{Error.captureStackTrace(this,On)}catch(t){}}function xn(t,e){return e&&t.then((function(t){u()((function(){e(null,t)}))}),(function(t){u()((function(){e(t)}))})),t}function jn(t,e){return function(){var n=arguments,r=this;return t.add((function(){return e.apply(r,n)}))}}function En(t){var e=new r(t),n=new Array(e.size),o=-1;return e.forEach((function(t){n[++o]=t})),n}function kn(t){var e=new Array(t.size),n=-1;return t.forEach((function(t,r){e[++n]=r})),e}function Sn(t){return new On("builtin "+t+" function requires map values to be numbers or number arrays")}function Pn(t){for(var e=0,n=0,r=t.length;n<r;n++){var o=t[n];if("number"!=typeof o){if(!Array.isArray(o))throw Sn("_sum");e="number"==typeof e?[e]:e;for(var i=0,u=o.length;i<u;i++){var c=o[i];if("number"!=typeof c)throw Sn("_sum");void 0===e[i]?e.push(c):e[i]+=c}}else"number"==typeof e?e+=o:e[0]+=o}return e}bn.valid=function(){return!0},v()(_n,Error),v()(wn,Error),v()(On,Error);var An=N.bind(null,"log"),Cn=Array.isArray,Tn=JSON.parse;function In(t,e){return ht("return ("+t.replace(/;\s*$/,"")+");",{emit:e,sum:Pn,log:An,isArray:Cn,toJSON:Tn})}function Dn(){this.promise=new Promise((function(t){t()}))}function Rn(t){if(!t)return"undefined";switch(typeof t){case"function":case"string":return t.toString();default:return JSON.stringify(t)}}function qn(t,e,n,r,o,i){var u,c=function(t,e){return Rn(t)+Rn(e)+"undefined"}(n,r);if(!o&&(u=t._cachedViews=t._cachedViews||{})[c])return u[c];var a=t.info().then((function(a){var s=a.db_name+"-mrview-"+(o?"temp":At(c));return vt(t,"_local/"+i,(function(t){t.views=t.views||{};var n=e;-1===n.indexOf("/")&&(n=e+"/"+e);var r=t.views[n]=t.views[n]||{};if(!r[s])return r[s]=!0,t})).then((function(){return t.registerDependentDatabase(s).then((function(e){var o=e.db;o.auto_compaction=!0;var i={name:s,db:o,sourceDB:t,adapter:t.adapter,mapFun:n,reduceFun:r};return i.db.get("_local/lastSeq").catch((function(t){if(404!==t.status)throw t})).then((function(t){return i.seq=t?t.seq:0,u&&i.db.once("destroyed",(function(){delete u[c]})),i}))}))}))}));return u&&(u[c]=a),a}Dn.prototype.add=function(t){return this.promise=this.promise.catch((function(){})).then((function(){return t()})),this.promise},Dn.prototype.finish=function(){return this.promise};var Nn={},Ln=new Dn;function Mn(t){return-1===t.indexOf("/")?[t,t]:t.split("/")}function Bn(t,e){try{t.emit("error",e)}catch(t){N("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),N("error",e)}}var Un=function(t,e){return Pn(e)},$n=function(t,e){return e.length},Fn=function(t,e){return{sum:Pn(e),min:Math.min.apply(null,e),max:Math.max.apply(null,e),count:e.length,sumsqr:function(t){for(var e=0,n=0,r=t.length;n<r;n++){var o=t[n];e+=o*o}return e}(e)}};var zn=function(t,e,n,i){function c(t,e,n){try{e(n)}catch(e){Bn(t,e)}}function a(t,e,n,r,o){try{return{output:e(n,r,o)}}catch(e){return Bn(t,e),{error:e}}}function s(t,e){var n=pe(t.key,e.key);return 0!==n?n:pe(t.value,e.value)}function f(t,e,n){return n=n||0,"number"==typeof e?t.slice(n,e+n):n>0?t.slice(n):t}function l(t){var e=t.value;return e&&"object"==typeof e&&e._id||t.id}function d(t){return function(e){return t.include_docs&&t.attachments&&t.binary&&function(t){t.rows.forEach((function(t){var e=t.doc&&t.doc._attachments;e&&Object.keys(e).forEach((function(t){var n=e[t];e[t].data=wt(n.data,n.content_type)}))}))}(e),e}}function h(t,e,n,r){var o=e[t];void 0!==o&&(r&&(o=encodeURIComponent(JSON.stringify(o))),n.push(t+"="+o))}function v(t){if(void 0!==t){var e=Number(t);return isNaN(e)||e!==parseInt(t,10)?t:e}}function y(t,e){var n=t.descending?"endkey":"startkey",r=t.descending?"startkey":"endkey";if(void 0!==t[n]&&void 0!==t[r]&&pe(t[n],t[r])>0)throw new _n("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(e.reduce&&!1!==t.reduce){if(t.include_docs)throw new _n("{include_docs:true} is invalid for reduce");if(t.keys&&t.keys.length>1&&!t.group&&!t.group_level)throw new _n("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach((function(e){var n=function(t){if(t){if("number"!=typeof t)return new _n('Invalid value for integer: "'+t+'"');if(t<0)return new _n('Invalid value for positive integer: "'+t+'"')}}(t[e]);if(n)throw n}))}function g(t){return function(e){if(404===e.status)return t;throw e}}function m(t,e,n){var o="_local/doc_"+t,i={_id:o,keys:[]},u=n.get(t),c=u[0];return(function(t){return 1===t.length&&/^1-/.test(t[0].rev)}(u[1])?Promise.resolve(i):e.db.get(o).catch(g(i))).then((function(t){return function(t){return t.keys.length?e.db.allDocs({keys:t.keys,include_docs:!0}):Promise.resolve({rows:[]})}(t).then((function(e){return function(t,e){for(var n=[],o=new r,i=0,u=e.rows.length;i<u;i++){var a=e.rows[i].doc;if(a&&(n.push(a),o.add(a._id),a._deleted=!c.has(a._id),!a._deleted)){var s=c.get(a._id);"value"in s&&(a.value=s.value)}}var f=kn(c);return f.forEach((function(t){if(!o.has(t)){var e={_id:t},r=c.get(t);"value"in r&&(e.value=r.value),n.push(e)}})),t.keys=En(f.concat(t.keys)),n.push(t),n}(t,e)}))}))}function b(t){var e="string"==typeof t?t:t.name,n=Nn[e];return n||(n=Nn[e]=new Dn),n}function _(t){return jn(b(t),(function(){return function(t){var n,r;var i=e(t.mapFun,(function(t,e){var o={id:r._id,key:he(t)};null!=e&&(o.value=he(e)),n.push(o)})),u=t.seq||0;function a(e,n){return function(){return function(t,e,n){return t.db.get("_local/lastSeq").catch(g({_id:"_local/lastSeq",seq:0})).then((function(r){var o=kn(e);return Promise.all(o.map((function(n){return m(n,t,e)}))).then((function(e){var o=it(e);return r.seq=n,o.push(r),t.db.bulkDocs({docs:o})}))}))}(t,e,n)}}var f=new Dn;function l(){return t.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:u,limit:50}).then(d)}function d(e){var d=e.results;if(d.length){var h=function(e){for(var a=new o,f=0,l=e.length;f<l;f++){var d=e[f];if("_"!==d.doc._id[0]){n=[],(r=d.doc)._deleted||c(t.sourceDB,i,r),n.sort(s);var h=p(n);a.set(d.doc._id,[h,d.changes])}u=d.seq}return a}(d);if(f.add(a(h,u)),!(d.length<50))return l()}}function p(t){for(var e,n=new o,r=0,i=t.length;r<i;r++){var u=t[r],c=[u.key,u.id];r>0&&0===pe(u.key,e)&&c.push(r),n.set(ye(c),u),e=u.key}return n}return l().then((function(){return f.finish()})).then((function(){t.seq=u}))}(t)}))()}function w(t,e){return jn(b(t),(function(){return function(t,e){var r,i=t.reduceFun&&!1!==e.reduce,u=e.skip||0;void 0===e.keys||e.keys.length||(e.limit=0,delete e.keys);function c(e){return e.include_docs=!0,t.db.allDocs(e).then((function(t){return r=t.total_rows,t.rows.map((function(t){if("value"in t.doc&&"object"==typeof t.doc.value&&null!==t.doc.value){var e=Object.keys(t.doc.value).sort(),n=["id","key","value"];if(!(e<n||e>n))return t.doc.value}var r=function(t){for(var e=[],n=[],r=0;;){var o=t[r++];if("\0"!==o)switch(o){case"1":e.push(null);break;case"2":e.push("1"===t[r]),r++;break;case"3":var i=ge(t,r);e.push(i.num),r+=i.length;break;case"4":for(var u="";;){var c=t[r];if("\0"===c)break;u+=c,r++}u=u.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),e.push(u);break;case"5":var a={element:[],index:e.length};e.push(a.element),n.push(a);break;case"6":var s={element:{},index:e.length};e.push(s.element),n.push(s);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+o)}else{if(1===e.length)return e.pop();me(e,n)}}}(t.doc._id);return{key:r[0],id:r[1],value:"value"in t.doc?t.doc.value:null}}))}))}function s(c){var s;if(s=i?function(t,e,r){0===r.group_level&&delete r.group_level;var o=r.group||r.group_level,i=n(t.reduceFun),u=[],c=isNaN(r.group_level)?Number.POSITIVE_INFINITY:r.group_level;e.forEach((function(t){var e=u[u.length-1],n=o?t.key:null;if(o&&Array.isArray(n)&&(n=n.slice(0,c)),e&&0===pe(e.groupKey,n))return e.keys.push([t.key,t.id]),void e.values.push(t.value);u.push({keys:[[t.key,t.id]],values:[t.value],groupKey:n})})),e=[];for(var s=0,l=u.length;s<l;s++){var d=u[s],p=a(t.sourceDB,i,d.keys,d.values,!1);if(p.error&&p.error instanceof On)throw p.error;e.push({value:p.error?null:p.output,key:d.groupKey})}return{rows:f(e,r.limit,r.skip)}}(t,c,e):{total_rows:r,offset:u,rows:c},e.update_seq&&(s.update_seq=t.seq),e.include_docs){var d=En(c.map(l));return t.sourceDB.allDocs({keys:d,include_docs:!0,conflicts:e.conflicts,attachments:e.attachments,binary:e.binary}).then((function(t){var e=new o;return t.rows.forEach((function(t){e.set(t.id,t.doc)})),c.forEach((function(t){var n=l(t),r=e.get(n);r&&(t.doc=r)})),s}))}return s}if(void 0!==e.keys){var d=e.keys.map((function(t){var n={startkey:ye([t]),endkey:ye([t,{}])};return e.update_seq&&(n.update_seq=!0),c(n)}));return Promise.all(d).then(it).then(s)}var p,h,v={descending:e.descending};if(e.update_seq&&(v.update_seq=!0),"start_key"in e&&(p=e.start_key),"startkey"in e&&(p=e.startkey),"end_key"in e&&(h=e.end_key),"endkey"in e&&(h=e.endkey),void 0!==p&&(v.startkey=e.descending?ye([p,{}]):ye([p])),void 0!==h){var y=!1!==e.inclusive_end;e.descending&&(y=!y),v.endkey=ye(y?[h,{}]:[h])}if(void 0!==e.key){var g=ye([e.key]),m=ye([e.key,{}]);v.descending?(v.endkey=g,v.startkey=m):(v.startkey=g,v.endkey=m)}return i||("number"==typeof e.limit&&(v.limit=e.limit),v.skip=u),c(v).then(s)}(t,e)}))()}function O(e,n,r){if("function"==typeof e._query)return function(t,e,n){return new Promise((function(r,o){t._query(e,n,(function(t,e){if(t)return o(t);r(e)}))}))}(e,n,r);if(ct(e))return function(t,e,n){var r,o,i,u=[],c="GET";if(h("reduce",n,u),h("include_docs",n,u),h("attachments",n,u),h("limit",n,u),h("descending",n,u),h("group",n,u),h("group_level",n,u),h("skip",n,u),h("stale",n,u),h("conflicts",n,u),h("startkey",n,u,!0),h("start_key",n,u,!0),h("endkey",n,u,!0),h("end_key",n,u,!0),h("inclusive_end",n,u),h("key",n,u,!0),h("update_seq",n,u),u=""===(u=u.join("&"))?"":"?"+u,void 0!==n.keys){var a="keys="+encodeURIComponent(JSON.stringify(n.keys));a.length+u.length+1<=2e3?u+=("?"===u[0]?"&":"?")+a:(c="POST","string"==typeof e?r={keys:n.keys}:e.keys=n.keys)}if("string"==typeof e){var s=Mn(e);return t.fetch("_design/"+s[0]+"/_view/"+s[1]+u,{headers:new oe({"Content-Type":"application/json"}),method:c,body:JSON.stringify(r)}).then((function(t){return o=t.ok,i=t.status,t.json()})).then((function(t){if(!o)throw t.status=i,rt(t);return t.rows.forEach((function(t){if(t.value&&t.value.error&&"builtin_reduce_error"===t.value.error)throw new Error(t.reason)})),t})).then(d(n))}return r=r||{},Object.keys(e).forEach((function(t){Array.isArray(e[t])?r[t]=e[t]:r[t]=e[t].toString()})),t.fetch("_temp_view"+u,{headers:new oe({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(r)}).then((function(t){return o=t.ok,i=t.status,t.json()})).then((function(t){if(!o)throw t.status=i,rt(t);return t})).then(d(n))}(e,n,r);if("string"!=typeof n)return y(r,n),Ln.add((function(){return qn(e,"temp_view/temp_view",n.map,n.reduce,!0,t).then((function(t){return e=_(t).then((function(){return w(t,r)})),n=function(){return t.db.destroy()},e.then((function(t){return n().then((function(){return t}))}),(function(t){return n().then((function(){throw t}))}));var e,n}))})),Ln.finish();var o=n,c=Mn(o),a=c[0],s=c[1];return e.get("_design/"+a).then((function(n){var c=n.views&&n.views[s];if(!c)throw new wn("ddoc "+n._id+" has no view named "+s);return i(n,s),y(r,c),qn(e,o,c.map,c.reduce,!1,t).then((function(t){return"ok"===r.stale||"update_after"===r.stale?("update_after"===r.stale&&u()((function(){_(t)})),w(t,r)):_(t).then((function(){return w(t,r)}))}))}))}var x;return{query:function(t,e,n){var r=this;"function"==typeof e&&(n=e,e={}),e=e?function(t){return t.group_level=v(t.group_level),t.limit=v(t.limit),t.skip=v(t.skip),t}(e):{},"function"==typeof t&&(t={map:t});var o=Promise.resolve().then((function(){return O(r,t,e)}));return xn(o,n),o},viewCleanup:(x=function(){var e=this;return"function"==typeof e._viewCleanup?function(t){return new Promise((function(e,n){t._viewCleanup((function(t,r){if(t)return n(t);e(r)}))}))}(e):ct(e)?function(t){return t.fetch("_view_cleanup",{headers:new oe({"Content-Type":"application/json"}),method:"POST"}).then((function(t){return t.json()}))}(e):function(e){return e.get("_local/"+t).then((function(t){var n=new o;Object.keys(t.views).forEach((function(t){var e=Mn(t),o="_design/"+e[0],i=e[1],u=n.get(o);u||(u=new r,n.set(o,u)),u.add(i)}));var i={keys:kn(n),include_docs:!0};return e.allDocs(i).then((function(r){var o={};r.rows.forEach((function(e){var r=e.key.substring(8);n.get(e.key).forEach((function(n){var i=r+"/"+n;t.views[i]||(i=n);var u=Object.keys(t.views[i]),c=e.doc&&e.doc.views&&e.doc.views[n];u.forEach((function(t){o[t]=o[t]||c}))}))}));var i=Object.keys(o).filter((function(t){return!o[t]})).map((function(t){return jn(b(t),(function(){return new e.constructor(t,e.__opts).destroy()}))()}));return Promise.all(i).then((function(){return{ok:!0}}))}))}),g({ok:!0}))}(e)},p()((function(t){var e=t.pop(),n=x.apply(this,t);return"function"==typeof e&&xn(n,e),n})))}}("mrviews",(function(t,e){if("function"==typeof t&&2===t.length){var n=t;return function(t){return n(t,e)}}return In(t.toString(),e)}),(function(t){var e=t.toString(),n=function(t){if(/^_sum/.test(t))return Un;if(/^_count/.test(t))return $n;if(/^_stats/.test(t))return Fn;if(/^_/.test(t))throw new Error(t+" is not a supported reduce function.")}(e);return n||In(e)}),(function(t,e){var n=t.views&&t.views[e];if("string"!=typeof n.map)throw new wn("ddoc "+t._id+" has no string view named "+e+", instead found object of type: "+typeof n.map)}));var Kn={query:function(t,e,n){return zn.query.call(this,t,e,n)},viewCleanup:function(t){return zn.viewCleanup.call(this,t)}};function Vn(t){return/^1-/.test(t)}function Wn(t,e){var n=Object.keys(e._attachments);return Promise.all(n.map((function(n){return t.getAttachment(e._id,n,{rev:e._rev})})))}function Jn(t,e,n,r){n=E(n);var o=[],i=!0;function u(e){return t.allDocs({keys:e,include_docs:!0,conflicts:!0}).then((function(t){if(r.cancelled)throw new Error("cancelled");t.rows.forEach((function(t){var e;t.deleted||!t.doc||!Vn(t.value.rev)||(e=t.doc,e._attachments&&Object.keys(e._attachments).length>0)||function(t){return t._conflicts&&t._conflicts.length>0}(t.doc)||(t.doc._conflicts&&delete t.doc._conflicts,o.push(t.doc),delete n[t.id])}))}))}return Promise.resolve().then((function(){var t=Object.keys(n).filter((function(t){var e=n[t].missing;return 1===e.length&&Vn(e[0])}));if(t.length>0)return u(t)})).then((function(){var u=function(t){var e=[];return Object.keys(t).forEach((function(n){t[n].missing.forEach((function(t){e.push({id:n,rev:t})}))})),{docs:e,revs:!0,latest:!0}}(n);if(u.docs.length)return t.bulkGet(u).then((function(n){if(r.cancelled)throw new Error("cancelled");return Promise.all(n.results.map((function(n){return Promise.all(n.docs.map((function(n){var r=n.ok;return n.error&&(i=!1),r&&r._attachments?function(t,e,n){var r=ct(e)&&!ct(t),o=Object.keys(n._attachments);return r?t.get(n._id).then((function(r){return Promise.all(o.map((function(o){return function(t,e,n){return!t._attachments||!t._attachments[n]||t._attachments[n].digest!==e._attachments[n].digest}(r,n,o)?e.getAttachment(n._id,o):t.getAttachment(r._id,o)})))})).catch((function(t){if(404!==t.status)throw t;return Wn(e,n)})):Wn(e,n)}(e,t,r).then((function(t){var e=Object.keys(r._attachments);return t.forEach((function(t,n){var o=r._attachments[e[n]];delete o.stub,delete o.length,o.data=t})),r})):r})))}))).then((function(t){o=o.concat(it(t).filter(Boolean))}))}))})).then((function(){return{ok:i,docs:o}}))}function Gn(t,e,n,r,o){return t.get(e).catch((function(n){if(404===n.status)return"http"!==t.adapter&&"https"!==t.adapter||M(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:r,_id:e,history:[],replicator:"pouchdb",version:1};throw n})).then((function(i){if(!o.cancelled&&i.last_seq!==n)return i.history=(i.history||[]).filter((function(t){return t.session_id!==r})),i.history.unshift({last_seq:n,session_id:r}),i.history=i.history.slice(0,5),i.version=1,i.replicator="pouchdb",i.session_id=r,i.last_seq=n,t.put(i).catch((function(i){if(409===i.status)return Gn(t,e,n,r,o);throw i}))}))}function Yn(t,e,n,r,o){this.src=t,this.target=e,this.id=n,this.returnValue=r,this.opts=o||{}}Yn.prototype.writeCheckpoint=function(t,e){var n=this;return this.updateTarget(t,e).then((function(){return n.updateSource(t,e)}))},Yn.prototype.updateTarget=function(t,e){return this.opts.writeTargetCheckpoint?Gn(this.target,this.id,t,e,this.returnValue):Promise.resolve(!0)},Yn.prototype.updateSource=function(t,e){if(this.opts.writeSourceCheckpoint){var n=this;return Gn(this.src,this.id,t,e,this.returnValue).catch((function(t){if(Xn(t))return n.opts.writeSourceCheckpoint=!1,!0;throw t}))}return Promise.resolve(!0)};var Hn={undefined:function(t,e){return 0===pe(t.last_seq,e.last_seq)?e.last_seq:0},1:function(t,e){return function(t,e){if(t.session_id===e.session_id)return{last_seq:t.last_seq,history:t.history};return function t(e,n){var r=e[0],o=e.slice(1),i=n[0],u=n.slice(1);if(!r||0===n.length)return{last_seq:0,history:[]};if(Qn(r.session_id,n))return{last_seq:r.last_seq,history:e};if(Qn(i.session_id,o))return{last_seq:i.last_seq,history:u};return t(o,u)}(t.history,e.history)}(e,t).last_seq}};function Qn(t,e){var n=e[0],r=e.slice(1);return!(!t||0===e.length)&&(t===n.session_id||Qn(t,r))}function Xn(t){return"number"==typeof t.status&&4===Math.floor(t.status/100)}Yn.prototype.getCheckpoint=function(){var t=this;return t.opts&&t.opts.writeSourceCheckpoint&&!t.opts.writeTargetCheckpoint?t.src.get(t.id).then((function(t){return t.last_seq||0})).catch((function(t){if(404!==t.status)throw t;return 0})):t.target.get(t.id).then((function(e){return t.opts&&t.opts.writeTargetCheckpoint&&!t.opts.writeSourceCheckpoint?e.last_seq||0:t.src.get(t.id).then((function(t){return e.version!==t.version?0:(n=e.version?e.version.toString():"undefined")in Hn?Hn[n](e,t):0;var n}),(function(n){if(404===n.status&&e.last_seq)return t.src.put({_id:t.id,last_seq:0}).then((function(){return 0}),(function(n){return Xn(n)?(t.opts.writeSourceCheckpoint=!1,e.last_seq):0}));throw n}))})).catch((function(t){if(404!==t.status)throw t;return 0}))};function Zn(t,e,n){var r=n.doc_ids?n.doc_ids.sort(pe):"",o=n.filter?n.filter.toString():"",i="",u="",c="";return n.selector&&(c=JSON.stringify(n.selector)),n.filter&&n.query_params&&(i=JSON.stringify(function(t){return Object.keys(t).sort(pe).reduce((function(e,n){return e[n]=t[n],e}),{})}(n.query_params))),n.filter&&"_view"===n.filter&&(u=n.view.toString()),Promise.all([t.id(),e.id()]).then((function(t){var e=t[0]+t[1]+o+u+i+r+c;return new Promise((function(t){Pt(e,t)}))})).then((function(t){return"_local/"+(t=t.replace(/\//g,".").replace(/\+/g,"_"))}))}function tr(t,e,n,r,o){var i,c,a,s=[],f={seq:0,changes:[],docs:[]},l=!1,d=!1,p=!1,h=0,v=n.continuous||n.live||!1,y=n.batch_size||100,g=n.batches_limit||10,m=!1,b=n.doc_ids,_=n.selector,w=[],O=Tt();o=o||{ok:!0,start_time:(new Date).toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var x={};function j(){return a?Promise.resolve():Zn(t,e,n).then((function(o){c=o;var i={};i=!1===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:"source"===n.checkpoint?{writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:"target"===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},a=new Yn(t,e,c,r,i)}))}function k(){if(w=[],0!==i.docs.length){var t=i.docs,u={timeout:n.timeout};return e.bulkDocs({docs:t,new_edits:!1},u).then((function(e){if(r.cancelled)throw I(),new Error("cancelled");var n=Object.create(null);e.forEach((function(t){t.error&&(n[t.id]=t)}));var i=Object.keys(n).length;o.doc_write_failures+=i,o.docs_written+=t.length-i,t.forEach((function(t){var e=n[t._id];if(e){o.errors.push(e);var i=(e.name||"").toLowerCase();if("unauthorized"!==i&&"forbidden"!==i)throw e;r.emit("denied",E(e))}else w.push(t)}))}),(function(e){throw o.doc_write_failures+=t.length,e}))}}function S(){if(i.error)throw new Error("There was a problem getting docs.");o.last_seq=h=i.seq;var t=E(o);return w.length&&(t.docs=w,"number"==typeof i.pending&&(t.pending=i.pending,delete i.pending),r.emit("change",t)),l=!0,a.writeCheckpoint(i.seq,O).then((function(){if(l=!1,r.cancelled)throw I(),new Error("cancelled");i=void 0,N()})).catch((function(t){throw B(t),t}))}function P(){return Jn(t,e,i.diffs,r).then((function(t){i.error=!t.ok,t.docs.forEach((function(t){delete i.diffs[t._id],o.docs_read++,i.docs.push(t)}))}))}function A(){var t;r.cancelled||i||(0!==s.length?(i=s.shift(),(t={},i.changes.forEach((function(e){"_user/"!==e.id&&(t[e.id]=e.changes.map((function(t){return t.rev})))})),e.revsDiff(t).then((function(t){if(r.cancelled)throw I(),new Error("cancelled");i.diffs=t}))).then(P).then(k).then(S).then(A).catch((function(t){T("batch processing terminated with error",t)}))):C(!0))}function C(t){0!==f.changes.length?(t||d||f.changes.length>=y)&&(s.push(f),f={seq:0,changes:[],docs:[]},"pending"!==r.state&&"stopped"!==r.state||(r.state="active",r.emit("active")),A()):0!==s.length||i||((v&&x.live||d)&&(r.state="pending",r.emit("paused")),d&&I())}function T(t,e){p||(e.message||(e.message=t),o.ok=!1,o.status="aborting",s=[],f={seq:0,changes:[],docs:[]},I(e))}function I(i){if(!(p||r.cancelled&&(o.status="cancelled",l)))if(o.status=o.status||"complete",o.end_time=(new Date).toISOString(),o.last_seq=h,p=!0,i){(i=nt(i)).result=o;var u=(i.name||"").toLowerCase();"unauthorized"===u||"forbidden"===u?(r.emit("error",i),r.removeAllListeners()):function(t,e,n,r){if(!1===t.retry)return e.emit("error",n),void e.removeAllListeners();if("function"!=typeof t.back_off_function&&(t.back_off_function=L),e.emit("requestError",n),"active"===e.state||"pending"===e.state){e.emit("paused",n),e.state="stopped";var o=function(){t.current_back_off=0};e.once("paused",(function(){e.removeListener("active",o)})),e.once("active",o)}t.current_back_off=t.current_back_off||0,t.current_back_off=t.back_off_function(t.current_back_off),setTimeout(r,t.current_back_off)}(n,r,i,(function(){tr(t,e,n,r)}))}else r.emit("complete",o),r.removeAllListeners()}function D(t,e,o){if(r.cancelled)return I();"number"==typeof e&&(f.pending=e),ot(n)(t)&&(f.seq=t.seq||o,f.changes.push(t),u()((function(){C(0===s.length&&x.live)})))}function R(t){if(m=!1,r.cancelled)return I();if(t.results.length>0)x.since=t.results[t.results.length-1].seq,N(),C(!0);else{var e=function(){v?(x.live=!0,N()):d=!0,C(!0)};i||0!==t.results.length?e():(l=!0,a.writeCheckpoint(t.last_seq,O).then((function(){l=!1,o.last_seq=h=t.last_seq,e()})).catch(B))}}function q(t){if(m=!1,r.cancelled)return I();T("changes rejected",t)}function N(){if(!m&&!d&&s.length<g){m=!0,r._changes&&(r.removeListener("cancel",r._abortChanges),r._changes.cancel()),r.once("cancel",o);var e=t.changes(x).on("change",D);e.then(i,i),e.then(R).catch(q),n.retry&&(r._changes=e,r._abortChanges=o)}function o(){e.cancel()}function i(){r.removeListener("cancel",o)}}function M(){j().then((function(){if(!r.cancelled)return a.getCheckpoint().then((function(t){x={since:h=t,limit:y,batch_size:y,style:"all_docs",doc_ids:b,selector:_,return_docs:!0},n.filter&&("string"!=typeof n.filter?x.include_docs=!0:x.filter=n.filter),"heartbeat"in n&&(x.heartbeat=n.heartbeat),"timeout"in n&&(x.timeout=n.timeout),n.query_params&&(x.query_params=n.query_params),n.view&&(x.view=n.view),N()}));I()})).catch((function(t){T("getCheckpoint rejected with ",t)}))}function B(t){l=!1,T("writeCheckpoint completed with error",t)}r.ready(t,e),r.cancelled?I():(r._addedListeners||(r.once("cancel",I),"function"==typeof n.complete&&(r.once("error",n.complete),r.once("complete",(function(t){n.complete(null,t)}))),r._addedListeners=!0),void 0===n.since?M():j().then((function(){return l=!0,a.writeCheckpoint(n.since,O)})).then((function(){l=!1,r.cancelled?I():(h=n.since,M())})).catch(B))}function er(){g.a.call(this),this.cancelled=!1,this.state="pending";var t=this,e=new Promise((function(e,n){t.once("complete",e),t.once("error",n)}));t.then=function(t,n){return e.then(t,n)},t.catch=function(t){return e.catch(t)},t.catch((function(){}))}function nr(t,e){var n=e.PouchConstructor;return"string"==typeof t?new n(t,e):t}function rr(t,e,n,r){if("function"==typeof n&&(r=n,n={}),void 0===n&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw nt(Q,"`doc_ids` filter parameter is not a list.");n.complete=r,(n=E(n)).continuous=n.continuous||n.live,n.retry="retry"in n&&n.retry,n.PouchConstructor=n.PouchConstructor||this;var o=new er(n);return tr(nr(t,n),nr(e,n),n,o),o}function or(t,e,n,r){return"function"==typeof n&&(r=n,n={}),void 0===n&&(n={}),(n=E(n)).PouchConstructor=n.PouchConstructor||this,new ir(t=nr(t,n),e=nr(e,n),n,r)}function ir(t,e,n,r){var o=this;this.canceled=!1;var i=n.push?B({},n,n.push):n,u=n.pull?B({},n,n.pull):n;function c(t){o.emit("change",{direction:"pull",change:t})}function a(t){o.emit("change",{direction:"push",change:t})}function s(t){o.emit("denied",{direction:"push",doc:t})}function f(t){o.emit("denied",{direction:"pull",doc:t})}function l(){o.pushPaused=!0,o.pullPaused&&o.emit("paused")}function d(){o.pullPaused=!0,o.pushPaused&&o.emit("paused")}function p(){o.pushPaused=!1,o.pullPaused&&o.emit("active",{direction:"push"})}function h(){o.pullPaused=!1,o.pushPaused&&o.emit("active",{direction:"pull"})}this.push=rr(t,e,i),this.pull=rr(e,t,u),this.pushPaused=!0,this.pullPaused=!0;var v={};function y(t){return function(e,n){("change"===e&&(n===c||n===a)||"denied"===e&&(n===f||n===s)||"paused"===e&&(n===d||n===l)||"active"===e&&(n===h||n===p))&&(e in v||(v[e]={}),v[e][t]=!0,2===Object.keys(v[e]).length&&o.removeAllListeners(e))}}function g(t,e,n){-1==t.listeners(e).indexOf(n)&&t.on(e,n)}n.live&&(this.push.on("complete",o.pull.cancel.bind(o.pull)),this.pull.on("complete",o.push.cancel.bind(o.push))),this.on("newListener",(function(t){"change"===t?(g(o.pull,"change",c),g(o.push,"change",a)):"denied"===t?(g(o.pull,"denied",f),g(o.push,"denied",s)):"active"===t?(g(o.pull,"active",h),g(o.push,"active",p)):"paused"===t&&(g(o.pull,"paused",d),g(o.push,"paused",l))})),this.on("removeListener",(function(t){"change"===t?(o.pull.removeListener("change",c),o.push.removeListener("change",a)):"denied"===t?(o.pull.removeListener("denied",f),o.push.removeListener("denied",s)):"active"===t?(o.pull.removeListener("active",h),o.push.removeListener("active",p)):"paused"===t&&(o.pull.removeListener("paused",d),o.push.removeListener("paused",l))})),this.pull.on("removeListener",y("pull")),this.push.on("removeListener",y("push"));var m=Promise.all([this.push,this.pull]).then((function(t){var e={push:t[0],pull:t[1]};return o.emit("complete",e),r&&r(null,e),o.removeAllListeners(),e}),(function(t){if(o.cancel(),r?r(t):o.emit("error",t),o.removeAllListeners(),r)throw t}));this.then=function(t,e){return m.then(t,e)},this.catch=function(t){return m.catch(t)}}v()(er,g.a),er.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},er.prototype.ready=function(t,e){var n=this;function r(){n.cancel()}n._readyCalled||(n._readyCalled=!0,t.once("destroyed",r),e.once("destroyed",r),n.once("complete",(function(){t.removeListener("destroyed",r),e.removeListener("destroyed",r)})))},v()(ir,g.a),ir.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},ee.plugin((function(t){t.adapter("idb",fn,!0)})).plugin((function(t){t.adapter("http",bn,!1),t.adapter("https",bn,!1)})).plugin(Kn).plugin((function(t){t.replicate=rr,t.sync=or,Object.defineProperty(t.prototype,"replicate",{get:function(){var t=this;return void 0===this.replicateMethods&&(this.replicateMethods={from:function(e,n,r){return t.constructor.replicate(e,t,n,r)},to:function(e,n,r){return t.constructor.replicate(t,e,n,r)}}),this.replicateMethods}}),t.prototype.sync=function(t,e,n){return this.constructor.sync(this,t,e,n)}})),e.a=ee}).call(this,n(62))},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){var r=n(120);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){var r=n(49).default,o=n(9);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?o(t):e},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){t.exports=n(121)},,,,function(t,e,n){"use strict";var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),o=new Uint8Array(16);function i(){if(!r)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(o)}for(var u=[],c=0;c<256;++c)u.push((c+256).toString(16).substr(1));var a=function(t,e){var n=e||0,r=u;return(r[t[n+0]]+r[t[n+1]]+r[t[n+2]]+r[t[n+3]]+"-"+r[t[n+4]]+r[t[n+5]]+"-"+r[t[n+6]]+r[t[n+7]]+"-"+r[t[n+8]]+r[t[n+9]]+"-"+r[t[n+10]]+r[t[n+11]]+r[t[n+12]]+r[t[n+13]]+r[t[n+14]]+r[t[n+15]]).toLowerCase()};e.a=function(t,e,n){"string"==typeof t&&(e="binary"===t?new Uint8Array(16):null,t=null);var r=(t=t||{}).random||(t.rng||i)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){for(var o=n||0,u=0;u<16;++u)e[o+u]=r[u];return e}return a(r)}},,,,,function(t,e,n){"use strict";n.r(e),n.d(e,"startNotificationDaemon",(function(){return b}));var r,o,i=n(8),u=n.n(i),c=n(4),a=n.n(c),s=n(28),f=n(19),l=n(35),d=n(25),p=n(34),h=!1,v=!1,y=5;function g(){return console.log("get notification state"),s.a.getState().notification}function m(){if(r)return r;var t=s.a.getState().auth;if(t&&t.token)return r=new f.a(Object(f.c)(t.domain,t.token)),o=t.user_id,r;console.warn("Pyramid Client not logged in.")}function b(){return _.apply(this,arguments)}function _(){return(_=u()(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!v){t.next=3;break}return console.warn("daemon already running... skipping new run"),t.abrupt("return");case 3:v=!0,console.info("starting daemon"),function(){var t=u()(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:setTimeout(u()(a.a.mark((function t(){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("New Loop"),n=void 0;try{n=m()}catch(t){console.log(t)}if(void 0===n||h||(console.log("registering client to callback notification => ".concat(n.url)),x()),t.prev=4,r=g(),y=1e3*r.daemonPollSec,!r.daemonEnabled||void 0===n){t.next=12;break}return t.next=10,w();case 10:t.next=13;break;case 12:r.daemonEnabled&&console.warn("Pyramid Client not signed in");case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(4),console.warn("No current notification State");case 18:e();case 19:case"end":return t.stop()}}),t,null,[[4,15]])}))),y);case 1:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()();case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(){return O.apply(this,arguments)}function O(){return(O=u()(a.a.mark((function t(){var e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("Do task start"),t.prev=1,r){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,Object(l.b)(r,o,s.a);case 6:e=t.sent,t.next=14;break;case 9:return t.prev=9,t.t0=t.catch(1),console.error(t.t0),r=void 0,t.abrupt("return");case 14:void 0!==e?(console.log("dispatching.."),s.a.dispatch(Object(d.f)(Object(l.a)(e)))):console.debug("No new updates found");case 15:case"end":return t.stop()}}),t,null,[[1,9]])})))).apply(this,arguments)}function x(){return j.apply(this,arguments)}function j(){return(j=u()(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fin.Application.getCurrent();case 3:t.next=9;break;case 5:return t.prev=5,t.t0=t.catch(0),console.warn("OpenFin not accessible"),t.abrupt("return");case 9:Object(p.addEventListener)("notification-action",function(){var t=u()(a.a.mark((function t(e){var n,r,o,i,u,c,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.result,e.notification,"open-pyramid"!==n.task){t.next=20;break}return console.log("Caught callback from open-pyramid"),r="pyramid_notification_callback",t.next=6,fin.Application.getCurrent();case 6:return t.next=8,t.sent.getInfo();case 8:if(o=t.sent,i=o.initialOptions.uuid,null!=(u=m())&&u.url){t.next=17;break}return console.log("Could not launch window. No valid pyramid target in client"),c="/settings",t.abrupt("return");case 17:c="".concat(u.url,"/?bulletin");case 18:s={name:r,url:c,defaultWidth:900,defaultHeight:640,autoShow:!0},fin.Window.create(s).then((function(){})).catch((function(t){console.log(t),fin.Window.wrap({uuid:i,name:r}).then((function(t){t.focus()})).catch((function(t){return console.log(t)}))}));case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),h=!0;case 11:case"end":return t.stop()}}),t,null,[[0,5]])})))).apply(this,arguments)}},,,,,,,function(t,e){t.exports=function(t){if(Array.isArray(t))return t},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var u,c=t[Symbol.iterator]();!(r=(u=c.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){var r=n(100);t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){var r=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",u=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function a(t,e,n,r){var o=e&&e.prototype instanceof l?e:l,i=Object.create(o.prototype),u=new x(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return E()}for(n.method=o,n.arg=i;;){var u=n.delegate;if(u){var c=_(u,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var a=s(t,e,n);if("normal"===a.type){if(r=n.done?"completed":"suspendedYield",a.arg===f)continue;return{value:a.arg,done:n.done}}"throw"===a.type&&(r="completed",n.method="throw",n.arg=a.arg)}}}(t,n,u),i}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=a;var f={};function l(){}function d(){}function p(){}var h={};h[o]=function(){return this};var v=Object.getPrototypeOf,y=v&&v(v(j([])));y&&y!==e&&n.call(y,o)&&(h=y);var g=p.prototype=l.prototype=Object.create(h);function m(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var r;this._invoke=function(o,i){function u(){return new e((function(r,u){!function r(o,i,u,c){var a=s(t[o],t,i);if("throw"!==a.type){var f=a.arg,l=f.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,u,c)}),(function(t){r("throw",t,u,c)})):e.resolve(l).then((function(t){f.value=t,u(f)}),(function(t){return r("throw",t,u,c)}))}c(a.arg)}(o,i,r,u)}))}return r=r?r.then(u,u):u()}}function _(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,f;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:E}}function E(){return{value:void 0,done:!0}}return d.prototype=g.constructor=p,p.constructor=d,d.displayName=c(p,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},m(b.prototype),b.prototype[i]=function(){return this},t.AsyncIterator=b,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var u=new b(a(e,n,r,o),i);return t.isGeneratorFunction(n)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},m(g),c(g,u,"Generator"),g[o]=function(){return this},g.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return u.type="throw",u.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],u=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),a=n.call(i,"finallyLoc");if(c&&a){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var u=i?i.completion:{};return u.type=t,u.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e){},function(t,e,n){"use strict";(function(t){e.test=function(){return"function"==typeof t.queueMicrotask},e.install=function(e){return function(){t.queueMicrotask(e)}}}).call(this,n(36))},function(t,e,n){"use strict";(function(t){var n=t.MutationObserver||t.WebKitMutationObserver;e.test=function(){return n},e.install=function(e){var r=0,o=new n(e),i=t.document.createTextNode("");return o.observe(i,{characterData:!0}),function(){i.data=r=++r%2}}}).call(this,n(36))},function(t,e,n){"use strict";(function(t){e.test=function(){return!t.setImmediate&&void 0!==t.MessageChannel},e.install=function(e){var n=new t.MessageChannel;return n.port1.onmessage=e,function(){n.port2.postMessage(0)}}}).call(this,n(36))},function(t,e,n){"use strict";(function(t){e.test=function(){return"document"in t&&"onreadystatechange"in t.document.createElement("script")},e.install=function(e){return function(){var n=t.document.createElement("script");return n.onreadystatechange=function(){e(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},t.document.documentElement.appendChild(n),e}}}).call(this,n(36))},function(t,e,n){"use strict";e.test=function(){return!0},e.install=function(t){return function(){setTimeout(t,0)}}},function(t,e,n){"use strict";var r=n(44),o=n(23);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.isArrayUpToDate=e.REMOVE_ARRAY_REDUCER=e.UPDATE_ARRAY_REDUCER=void 0;var i=o(n(4)),u=r(n(111)),c=n(50),a=o(n(51));o(n(40));e.UPDATE_ARRAY_REDUCER="@@redux-pouchdb/UPDATE_ARRAY_REDUCER";e.REMOVE_ARRAY_REDUCER="@@redux-pouchdb/REMOVE_ARRAY_REDUCER";var s={},f={},l=function(t){return!1!==s[t]};e.isArrayUpToDate=function(t){return l(t)&&(0,u.isUpToDate)(t)&&!function(t){return void 0!==f[t]&&f[t]>0}(t)};var d=function(t,e,n){return t.dispatch({type:"@@redux-pouchdb/UPDATE_ARRAY_REDUCER",reducerName:n,doc:e})},p=function(t,e,n){return t.dispatch({type:"@@redux-pouchdb/REMOVE_ARRAY_REDUCER",reducerName:n,doc:e})},h=function(t,e,n){return function(r){var o;s[n]=!1;var h=(0,u.default)(e,n);return function(t,e,n,r){var o,u;i.default.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,i.default.awrap((0,a.default)(t));case 3:return o=c.sent,c.next=6,i.default.awrap(e.allDocs({include_docs:!0}));case 6:return u=c.sent,c.next=9,i.default.awrap(Promise.all(u.rows.map((function(t){return d(o,t.doc,n)}))));case 9:e.changes({include_docs:!0,live:!0,since:"now"}).on("change",(function(t){t.doc?t.doc._deleted?p(o,t.doc,n):d(o,t.doc,n):r(o.getState())})),c.next=15;break;case 12:c.prev=12,c.t0=c.catch(0),console.error(c.t0);case 15:s[n]=!0;case 16:case"end":return c.stop()}}),null,null,[[0,12]])}(t,e,n,h),function(t,e){if("@@redux-pouchdb/UPDATE_ARRAY_REDUCER"===e.type&&e.reducerName===n&&e.doc){var u=!1;return o=t.map((function(t){return(0,c.equalsOmittingDocProps)(t,e.doc)||t._id===e.doc._id?(u=!0,e.doc):t})),u||o.push(e.doc),r(o,e)}if("@@redux-pouchdb/REMOVE_ARRAY_REDUCER"===e.type&&e.reducerName===n&&e.doc)return o=t.filter((function(t){return!(0,c.equalsOmittingDocProps)(t,e.doc)&&t._id!==e.doc._id})),r(o,e);var a=r(t,e);return i.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(f[n]||(f[n]=0),f[n]+=1,!l(n)||(0,c.equalsOmittingDocProps)(a,o)){t.next=6;break}return o=a,t.next=6,i.default.awrap(h(a));case 6:f[n]-=1;case 7:case"end":return t.stop()}})),a}}};e.default=h},function(t,e,n){"use strict";var r=n(23);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.isUpToDate=void 0;var o=r(n(4)),i=r(n(112)),u=n(50),c=(r(n(40)),{}),a={},s={};e.isUpToDate=function(t){return!(void 0!==a[t]&&a[t]||void 0!==c[t]&&c[t]||s[t])};e.default=function(t,e){var n=(0,i.default)(t);return function r(i){var f,l,d,p,h;return o.default.async((function(v){for(;;)switch(v.prev=v.next){case 0:if(!a[e]){v.next=7;break}return v.next=3,o.default.awrap(n(e));case 3:return f=v.sent,(l=(0,u.getDiff)(i,f)).length&&(c[e]=(0,u.uniqOmittingDocProps)(l.concat(c[e]))),v.abrupt("return");case 7:if(a[e]=!0,v.prev=8,Array.isArray(i)){v.next=11;break}throw new Error("State of ".concat(e," must be an array"));case 11:return v.next=13,o.default.awrap(n(e));case 13:if(d=v.sent,!(p=(0,u.getDiff)(i,d)).length){v.next=21;break}return s[e]||(s[e]=0),s[e]+=1,v.next=20,o.default.awrap(t.bulkDocs(p));case 20:s[e]-=1;case 21:if(a[e]=!1,!c[e]){v.next=28;break}return h=c[e],c[e]=null,v.next=27,o.default.awrap(r(h));case 27:return v.abrupt("return",v.sent);case 28:v.next=33;break;case 30:v.prev=30,v.t0=v.catch(8),console.error(v.t0);case 33:case"end":return v.stop()}}),null,null,[[8,30]])}}},function(t,e,n){"use strict";var r=n(23);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(n(4));e.default=function(t){return function(e){var n;return o.default.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.default.awrap(t.allDocs({include_docs:!0}));case 3:return n=e.sent,e.abrupt("return",n.rows.map((function(t){return t.doc})));case 7:if(e.prev=7,e.t0=e.catch(0),404!==e.t0.status){e.next=13;break}return e.abrupt("return",[]);case 13:console.error(e.t0);case 14:case"end":return e.stop()}}),null,null,[[0,7]])}}},function(t,e,n){var r=n(114);t.exports=function(t){var e,n=new r((function(n){e=setTimeout(n,t||0)}));return n.clear=function(){return clearTimeout(e)},n}},function(t,e,n){t.exports=n(115)().Promise},function(t,e,n){"use strict";t.exports=n(116)(window,(function(){if(void 0===window.Promise)throw new Error("any-promise browser requires a polyfill or explicit registration e.g: require('any-promise/register/bluebird')");return{Promise:window.Promise,implementation:"window.Promise"}}))},function(t,e,n){"use strict";var r=null;t.exports=function(t,e){return function(n,o){n=n||null;var i=!1!==(o=o||{}).global;if(null===r&&i&&(r=t["@@any-promise/REGISTRATION"]||null),null!==r&&null!==n&&r.implementation!==n)throw new Error('any-promise already defined as "'+r.implementation+'".  You can only register an implementation before the first  call to require("any-promise") and an implementation cannot be changed');return null===r&&(r=null!==n&&void 0!==o.Promise?{Promise:o.Promise,implementation:n}:e(n),i&&(t["@@any-promise/REGISTRATION"]=r)),r}}},function(t,e,n){"use strict";var r=n(44),o=n(23);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.isObjectUpToDate=e.INIT_OBJECT_REDUCER=e.SET_OBJECT_REDUCER=void 0;var i=o(n(4)),u=n(50),c=r(n(118)),a=o(n(51)),s=o(n(40)),f="@@redux-pouchdb/SET_OBJECT_REDUCER";e.SET_OBJECT_REDUCER=f;e.INIT_OBJECT_REDUCER="@@redux-pouchdb/INIT_OBJECT_REDUCER";var l=Array(12).fill(0).map((function(t){return String.fromCharCode((e=Math.floor(52*Math.random()))>25?e+71:e+65);var e})).join(""),d={},p={},h=function(t){return!1!==d[t]};e.isObjectUpToDate=function(t){return h(t)&&(0,c.isUpToDate)(t)&&!function(t){return void 0!==p[t]&&p[t]>0}(t)};var v=function(t,e,n){e._id;var r=e._rev,o=e.state;t.dispatch({type:f,reducerName:n,state:o,_rev:r})},y=function(t,e,n){return function(r){var o;d[n]=!1;var y=(0,c.default)(e,n,l);return function(t,e,n,r){var o,c;i.default.async((function(f){for(;;)switch(f.prev=f.next){case 0:return f.prev=0,f.next=3,i.default.awrap((0,a.default)(t));case 3:return o=f.sent,f.next=6,i.default.awrap(e.allDocs({include_docs:!0}));case 6:return c=f.sent,f.next=9,i.default.awrap(Promise.all(c.rows.map((function(t){return v(o,t.doc,n)}))));case 9:e.changes({include_docs:!0,live:!0,since:"now"}).on("change",(function(t){var e=o.getState();t.doc.state?(0,u.equalsOmittingDocProps)(t.doc.state,e)||t.doc.madeBy===l||v(o,t.doc,n):((0,s.default)(0),r(o.getState()))})),d[n]=!0,o.dispatch({type:"@@redux-pouchdb/INIT_OBJECT_REDUCER"}),f.next=17;break;case 14:f.prev=14,f.t0=f.catch(0),console.error(f.t0);case 17:case"end":return f.stop()}}),null,null,[[0,14]])}(t,e,n,y),function(t,e){if(e.type===f&&e.reducerName===n&&e.state)return o=e.state,r(e.state,e);if(e.type===f)return t;var c=r(t,e);return i.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(p[n]||(p[n]=0),p[n]+=1,(0,s.default)("save?",h(n),!(0,u.equalsOmittingDocProps)(c,o),c),(0,u.equalsOmittingDocProps)(c,o)){t.next=11;break}if(!h(n)){t.next=11;break}return o=c,(0,s.default)("init save"),t.next=9,i.default.awrap(y(c));case 9:t.next=11;break;case 11:p[n]-=1;case 12:case"end":return t.stop()}})),c}}};e.default=y},function(t,e,n){"use strict";var r=n(23);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.isUpToDate=void 0;var o=r(n(4)),i=r(n(49)),u=r(n(3)),c=r(n(119)),a=r(n(40));function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){(0,u.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var l={},d={};e.isUpToDate=function(t){return!(d[t]||l[t]&&l[t].length)};e.default=function(t,e,n){var r=(0,c.default)(t);return function u(c){var s,p,h;return o.default.async((function(v){for(;;)switch(v.prev=v.next){case 0:if(!d[e]){v.next=3;break}return l[e]=(l[e]||[]).concat(c),v.abrupt("return");case 3:return d[e]=!0,v.prev=4,v.next=7,o.default.awrap(r(e));case 7:return s=v.sent,p=f({},s,{madeBy:n,state:c}),(0,a.default)("put",p,d[e],l[e],(0,i.default)(l[e])),v.next=12,o.default.awrap(t.put(p));case 12:if(d[e]=!1,!l[e]){v.next=19;break}return h=l[e].shift(),(0,a.default)("next",h),v.next=18,o.default.awrap(u(h));case 18:return v.abrupt("return",v.sent);case 19:v.next=24;break;case 21:v.prev=21,v.t0=v.catch(4),console.error(v.t0);case 24:case"end":return v.stop()}}),null,null,[[4,21]])}}},function(t,e,n){"use strict";var r=n(23);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(n(4));e.default=function(t){return function(e){return o.default.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.default.awrap(t.get(e));case 3:return n.abrupt("return",n.sent);case 6:if(n.prev=6,n.t0=n.catch(0),404!==n.t0.status){n.next=12;break}return n.abrupt("return",{_id:e,state:{}});case 12:console.error(n.t0);case 13:case"end":return n.stop()}}),null,null,[[0,6]])}}},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},t.exports.default=t.exports,t.exports.__esModule=!0,n(e,r)}t.exports=n,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";var r=n(14),o=n(68),i=n(122),u=n(74);function c(t){var e=new i(t),n=o(i.prototype.request,e);return r.extend(n,i.prototype,e),r.extend(n,e),n}var a=c(n(71));a.Axios=i,a.create=function(t){return c(u(a.defaults,t))},a.Cancel=n(75),a.CancelToken=n(135),a.isCancel=n(70),a.all=function(t){return Promise.all(t)},a.spread=n(136),t.exports=a,t.exports.default=a},function(t,e,n){"use strict";var r=n(14),o=n(69),i=n(123),u=n(124),c=n(74);function a(t){this.defaults=t,this.interceptors={request:new i,response:new i}}a.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=c(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[u,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},a.prototype.getUri=function(t){return t=c(this.defaults,t),o(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(t){a.prototype[t]=function(e,n){return this.request(r.merge(n||{},{method:t,url:e}))}})),r.forEach(["post","put","patch"],(function(t){a.prototype[t]=function(e,n,o){return this.request(r.merge(o||{},{method:t,url:e,data:n}))}})),t.exports=a},function(t,e,n){"use strict";var r=n(14);function o(){this.handlers=[]}o.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},o.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},o.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=o},function(t,e,n){"use strict";var r=n(14),o=n(125),i=n(70),u=n(71);function c(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return c(t),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||u.adapter)(t).then((function(e){return c(t),e.data=o(e.data,e.headers,t.transformResponse),e}),(function(e){return i(e)||(c(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},function(t,e,n){"use strict";var r=n(14);t.exports=function(t,e,n){return r.forEach(n,(function(n){t=n(t,e)})),t}},function(t,e,n){"use strict";var r=n(14);t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},function(t,e,n){"use strict";var r=n(73);t.exports=function(t,e,n){var o=n.config.validateStatus;!o||o(n.status)?t(n):e(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,o){return t.config=e,n&&(t.code=n),t.request=r,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,n){"use strict";var r=n(130),o=n(131);t.exports=function(t,e){return t&&!r(e)?o(t,e):e}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var r=n(14),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,i,u={};return t?(r.forEach(t.split("\n"),(function(t){if(i=t.indexOf(":"),e=r.trim(t.substr(0,i)).toLowerCase(),n=r.trim(t.substr(i+1)),e){if(u[e]&&o.indexOf(e)>=0)return;u[e]="set-cookie"===e?(u[e]?u[e]:[]).concat([n]):u[e]?u[e]+", "+n:n}})),u):u}},function(t,e,n){"use strict";var r=n(14);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=o(window.location.href),function(e){var n=r.isString(e)?o(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var r=n(14);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,o,i,u){var c=[];c.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),r.isString(o)&&c.push("path="+o),r.isString(i)&&c.push("domain="+i),!0===u&&c.push("secure"),document.cookie=c.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var r=n(75);function o(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var t;return{token:new o((function(e){t=e})),cancel:t}},t.exports=o},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},,function(t,e,n){"use strict";function r(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}function o(t){return function e(n){return 0===arguments.length||r(n)?e:t.apply(this,arguments)}}n.r(e),n.d(e,"F",(function(){return u})),n.d(e,"T",(function(){return c})),n.d(e,"__",(function(){return a})),n.d(e,"add",(function(){return f})),n.d(e,"addIndex",(function(){return v})),n.d(e,"adjust",(function(){return g})),n.d(e,"all",(function(){return j})),n.d(e,"allPass",(function(){return Q})),n.d(e,"always",(function(){return i})),n.d(e,"and",(function(){return X})),n.d(e,"any",(function(){return et})),n.d(e,"anyPass",(function(){return nt})),n.d(e,"ap",(function(){return rt})),n.d(e,"aperture",(function(){return ut})),n.d(e,"append",(function(){return ct})),n.d(e,"apply",(function(){return at})),n.d(e,"applySpec",(function(){return ft})),n.d(e,"applyTo",(function(){return lt})),n.d(e,"ascend",(function(){return dt})),n.d(e,"assoc",(function(){return pt})),n.d(e,"assocPath",(function(){return yt})),n.d(e,"binary",(function(){return mt})),n.d(e,"bind",(function(){return T})),n.d(e,"both",(function(){return Ot})),n.d(e,"call",(function(){return jt})),n.d(e,"chain",(function(){return St})),n.d(e,"clamp",(function(){return Pt})),n.d(e,"clone",(function(){return It})),n.d(e,"comparator",(function(){return Dt})),n.d(e,"complement",(function(){return qt})),n.d(e,"compose",(function(){return Ft})),n.d(e,"composeK",(function(){return zt})),n.d(e,"composeP",(function(){return Wt})),n.d(e,"concat",(function(){return le})),n.d(e,"cond",(function(){return de})),n.d(e,"construct",(function(){return he})),n.d(e,"constructN",(function(){return pe})),n.d(e,"contains",(function(){return ve})),n.d(e,"converge",(function(){return ye})),n.d(e,"countBy",(function(){return be})),n.d(e,"curry",(function(){return xt})),n.d(e,"curryN",(function(){return h})),n.d(e,"dec",(function(){return _e})),n.d(e,"defaultTo",(function(){return we})),n.d(e,"descend",(function(){return Oe})),n.d(e,"difference",(function(){return xe})),n.d(e,"differenceWith",(function(){return je})),n.d(e,"dissoc",(function(){return Ee})),n.d(e,"dissocPath",(function(){return Pe})),n.d(e,"divide",(function(){return Ae})),n.d(e,"drop",(function(){return Te})),n.d(e,"dropLast",(function(){return Ne})),n.d(e,"dropLastWhile",(function(){return Be})),n.d(e,"dropRepeats",(function(){return Ve})),n.d(e,"dropRepeatsWith",(function(){return Ke})),n.d(e,"dropWhile",(function(){return Je})),n.d(e,"either",(function(){return Ye})),n.d(e,"empty",(function(){return He})),n.d(e,"endsWith",(function(){return Xe})),n.d(e,"eqBy",(function(){return Ze})),n.d(e,"eqProps",(function(){return tn})),n.d(e,"equals",(function(){return Xt})),n.d(e,"evolve",(function(){return en})),n.d(e,"filter",(function(){return ae})),n.d(e,"find",(function(){return rn})),n.d(e,"findIndex",(function(){return un})),n.d(e,"findLast",(function(){return an})),n.d(e,"findLastIndex",(function(){return fn})),n.d(e,"flatten",(function(){return ln})),n.d(e,"flip",(function(){return dn})),n.d(e,"forEach",(function(){return pn})),n.d(e,"forEachObjIndexed",(function(){return hn})),n.d(e,"fromPairs",(function(){return vn})),n.d(e,"groupBy",(function(){return yn})),n.d(e,"groupWith",(function(){return gn})),n.d(e,"gt",(function(){return mn})),n.d(e,"gte",(function(){return bn})),n.d(e,"has",(function(){return _n})),n.d(e,"hasIn",(function(){return wn})),n.d(e,"head",(function(){return On})),n.d(e,"identical",(function(){return Yt})),n.d(e,"identity",(function(){return jn})),n.d(e,"ifElse",(function(){return En})),n.d(e,"inc",(function(){return kn})),n.d(e,"indexBy",(function(){return Sn})),n.d(e,"indexOf",(function(){return Pn})),n.d(e,"init",(function(){return An})),n.d(e,"innerJoin",(function(){return Cn})),n.d(e,"insert",(function(){return Tn})),n.d(e,"insertAll",(function(){return In})),n.d(e,"intersection",(function(){return Ln})),n.d(e,"intersperse",(function(){return Mn})),n.d(e,"into",(function(){return Kn})),n.d(e,"invert",(function(){return Vn})),n.d(e,"invertObj",(function(){return Wn})),n.d(e,"invoker",(function(){return Jn})),n.d(e,"is",(function(){return Gn})),n.d(e,"isEmpty",(function(){return Yn})),n.d(e,"isNil",(function(){return vt})),n.d(e,"join",(function(){return Hn})),n.d(e,"juxt",(function(){return Qn})),n.d(e,"keys",(function(){return V})),n.d(e,"keysIn",(function(){return Xn})),n.d(e,"last",(function(){return ze})),n.d(e,"lastIndexOf",(function(){return Zn})),n.d(e,"length",(function(){return er})),n.d(e,"lens",(function(){return nr})),n.d(e,"lensIndex",(function(){return rr})),n.d(e,"lensPath",(function(){return or})),n.d(e,"lensProp",(function(){return ir})),n.d(e,"lift",(function(){return wt})),n.d(e,"liftN",(function(){return _t})),n.d(e,"lt",(function(){return ur})),n.d(e,"lte",(function(){return cr})),n.d(e,"map",(function(){return W})),n.d(e,"mapAccum",(function(){return ar})),n.d(e,"mapAccumRight",(function(){return sr})),n.d(e,"mapObjIndexed",(function(){return fr})),n.d(e,"match",(function(){return lr})),n.d(e,"mathMod",(function(){return dr})),n.d(e,"max",(function(){return E})),n.d(e,"maxBy",(function(){return pr})),n.d(e,"mean",(function(){return vr})),n.d(e,"median",(function(){return yr})),n.d(e,"memoize",(function(){return mr})),n.d(e,"memoizeWith",(function(){return gr})),n.d(e,"merge",(function(){return br})),n.d(e,"mergeAll",(function(){return _r})),n.d(e,"mergeDeepLeft",(function(){return xr})),n.d(e,"mergeDeepRight",(function(){return jr})),n.d(e,"mergeDeepWith",(function(){return Er})),n.d(e,"mergeDeepWithKey",(function(){return Or})),n.d(e,"mergeWith",(function(){return kr})),n.d(e,"mergeWithKey",(function(){return wr})),n.d(e,"min",(function(){return Sr})),n.d(e,"minBy",(function(){return Pr})),n.d(e,"modulo",(function(){return Ar})),n.d(e,"multiply",(function(){return Cr})),n.d(e,"nAry",(function(){return gt})),n.d(e,"negate",(function(){return Tr})),n.d(e,"none",(function(){return Ir})),n.d(e,"not",(function(){return Rt})),n.d(e,"nth",(function(){return Fe})),n.d(e,"nthArg",(function(){return Dr})),n.d(e,"o",(function(){return Rr})),n.d(e,"objOf",(function(){return Un})),n.d(e,"of",(function(){return Nr})),n.d(e,"omit",(function(){return Lr})),n.d(e,"once",(function(){return Mr})),n.d(e,"or",(function(){return Ge})),n.d(e,"over",(function(){return Ur})),n.d(e,"pair",(function(){return $r})),n.d(e,"partial",(function(){return zr})),n.d(e,"partialRight",(function(){return Kr})),n.d(e,"partition",(function(){return Vr})),n.d(e,"path",(function(){return J})),n.d(e,"pathEq",(function(){return Wr})),n.d(e,"pathOr",(function(){return Jr})),n.d(e,"pathSatisfies",(function(){return Gr})),n.d(e,"pick",(function(){return Yr})),n.d(e,"pickAll",(function(){return Hr})),n.d(e,"pickBy",(function(){return Qr})),n.d(e,"pipe",(function(){return Ut})),n.d(e,"pipeK",(function(){return Xr})),n.d(e,"pipeP",(function(){return Vt})),n.d(e,"pluck",(function(){return Y})),n.d(e,"prepend",(function(){return Zr})),n.d(e,"product",(function(){return to})),n.d(e,"project",(function(){return no})),n.d(e,"prop",(function(){return G})),n.d(e,"propEq",(function(){return ro})),n.d(e,"propIs",(function(){return oo})),n.d(e,"propOr",(function(){return io})),n.d(e,"propSatisfies",(function(){return uo})),n.d(e,"props",(function(){return co})),n.d(e,"range",(function(){return ao})),n.d(e,"reduce",(function(){return H})),n.d(e,"reduceBy",(function(){return me})),n.d(e,"reduceRight",(function(){return so})),n.d(e,"reduceWhile",(function(){return fo})),n.d(e,"reduced",(function(){return lo})),n.d(e,"reject",(function(){return se})),n.d(e,"remove",(function(){return ke})),n.d(e,"repeat",(function(){return ho})),n.d(e,"replace",(function(){return vo})),n.d(e,"reverse",(function(){return $t})),n.d(e,"scan",(function(){return yo})),n.d(e,"sequence",(function(){return go})),n.d(e,"set",(function(){return mo})),n.d(e,"slice",(function(){return Mt})),n.d(e,"sort",(function(){return bo})),n.d(e,"sortBy",(function(){return _o})),n.d(e,"sortWith",(function(){return wo})),n.d(e,"split",(function(){return Oo})),n.d(e,"splitAt",(function(){return xo})),n.d(e,"splitEvery",(function(){return jo})),n.d(e,"splitWhen",(function(){return Eo})),n.d(e,"startsWith",(function(){return ko})),n.d(e,"subtract",(function(){return So})),n.d(e,"sum",(function(){return hr})),n.d(e,"symmetricDifference",(function(){return Po})),n.d(e,"symmetricDifferenceWith",(function(){return Ao})),n.d(e,"tail",(function(){return Bt})),n.d(e,"take",(function(){return De})),n.d(e,"takeLast",(function(){return Qe})),n.d(e,"takeLastWhile",(function(){return Co})),n.d(e,"takeWhile",(function(){return Io})),n.d(e,"tap",(function(){return Ro})),n.d(e,"test",(function(){return qo})),n.d(e,"times",(function(){return po})),n.d(e,"toLower",(function(){return No})),n.d(e,"toPairs",(function(){return Lo})),n.d(e,"toPairsIn",(function(){return Mo})),n.d(e,"toString",(function(){return fe})),n.d(e,"toUpper",(function(){return Bo})),n.d(e,"transduce",(function(){return Uo})),n.d(e,"transpose",(function(){return $o})),n.d(e,"traverse",(function(){return Fo})),n.d(e,"trim",(function(){return Ko})),n.d(e,"tryCatch",(function(){return Vo})),n.d(e,"type",(function(){return Ct})),n.d(e,"unapply",(function(){return Wo})),n.d(e,"unary",(function(){return Jo})),n.d(e,"uncurryN",(function(){return Go})),n.d(e,"unfold",(function(){return Yo})),n.d(e,"union",(function(){return Ho})),n.d(e,"unionWith",(function(){return Xo})),n.d(e,"uniq",(function(){return Nn})),n.d(e,"uniqBy",(function(){return qn})),n.d(e,"uniqWith",(function(){return Qo})),n.d(e,"unless",(function(){return Zo})),n.d(e,"unnest",(function(){return ti})),n.d(e,"until",(function(){return ei})),n.d(e,"update",(function(){return Se})),n.d(e,"useWith",(function(){return eo})),n.d(e,"values",(function(){return st})),n.d(e,"valuesIn",(function(){return ni})),n.d(e,"view",(function(){return oi})),n.d(e,"when",(function(){return ii})),n.d(e,"where",(function(){return ui})),n.d(e,"whereEq",(function(){return ci})),n.d(e,"without",(function(){return ai})),n.d(e,"xprod",(function(){return si})),n.d(e,"zip",(function(){return fi})),n.d(e,"zipObj",(function(){return li})),n.d(e,"zipWith",(function(){return di}));var i=o((function(t){return function(){return t}})),u=i(!1),c=i(!0),a={"@@functional/placeholder":!0};function s(t){return function e(n,i){switch(arguments.length){case 0:return e;case 1:return r(n)?e:o((function(e){return t(n,e)}));default:return r(n)&&r(i)?e:r(n)?o((function(e){return t(e,i)})):r(i)?o((function(e){return t(n,e)})):t(n,i)}}}var f=s((function(t,e){return Number(t)+Number(e)}));function l(t,e){var n;e=e||[];var r=(t=t||[]).length,o=e.length,i=[];for(n=0;n<r;)i[i.length]=t[n],n+=1;for(n=0;n<o;)i[i.length]=e[n],n+=1;return i}function d(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,n){return e.apply(this,arguments)};case 3:return function(t,n,r){return e.apply(this,arguments)};case 4:return function(t,n,r,o){return e.apply(this,arguments)};case 5:return function(t,n,r,o,i){return e.apply(this,arguments)};case 6:return function(t,n,r,o,i,u){return e.apply(this,arguments)};case 7:return function(t,n,r,o,i,u,c){return e.apply(this,arguments)};case 8:return function(t,n,r,o,i,u,c,a){return e.apply(this,arguments)};case 9:return function(t,n,r,o,i,u,c,a,s){return e.apply(this,arguments)};case 10:return function(t,n,r,o,i,u,c,a,s,f){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function p(t,e,n){return function(){for(var o=[],i=0,u=t,c=0;c<e.length||i<arguments.length;){var a;c<e.length&&(!r(e[c])||i>=arguments.length)?a=e[c]:(a=arguments[i],i+=1),o[c]=a,r(a)||(u-=1),c+=1}return u<=0?n.apply(this,o):d(u,p(t,o,n))}}var h=s((function(t,e){return 1===t?o(e):d(t,p(t,[],e))})),v=o((function(t){return h(t.length,(function(){var e=0,n=arguments[0],r=arguments[arguments.length-1],o=Array.prototype.slice.call(arguments,0);return o[0]=function(){var t=n.apply(this,l(arguments,[e,r]));return e+=1,t},t.apply(this,o)}))}));function y(t){return function e(n,i,u){switch(arguments.length){case 0:return e;case 1:return r(n)?e:s((function(e,r){return t(n,e,r)}));case 2:return r(n)&&r(i)?e:r(n)?s((function(e,n){return t(e,i,n)})):r(i)?s((function(e,r){return t(n,e,r)})):o((function(e){return t(n,i,e)}));default:return r(n)&&r(i)&&r(u)?e:r(n)&&r(i)?s((function(e,n){return t(e,n,u)})):r(n)&&r(u)?s((function(e,n){return t(e,i,n)})):r(i)&&r(u)?s((function(e,r){return t(n,e,r)})):r(n)?o((function(e){return t(e,i,u)})):r(i)?o((function(e){return t(n,e,u)})):r(u)?o((function(e){return t(n,i,e)})):t(n,i,u)}}}var g=y((function(t,e,n){if(e>=n.length||e<-n.length)return n;var r=(e<0?n.length:0)+e,o=l(n);return o[r]=t(n[r]),o})),m=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)};function b(t){return"function"==typeof t["@@transducer/step"]}function _(t,e,n){return function(){if(0===arguments.length)return n();var r=Array.prototype.slice.call(arguments,0),o=r.pop();if(!m(o)){for(var i=0;i<t.length;){if("function"==typeof o[t[i]])return o[t[i]].apply(o,r);i+=1}if(b(o)){var u=e.apply(null,r);return u(o)}}return n.apply(this,arguments)}}function w(t){return t&&t["@@transducer/reduced"]?t:{"@@transducer/value":t,"@@transducer/reduced":!0}}var O={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}},x=function(){function t(t,e){this.xf=e,this.f=t,this.all=!0}return t.prototype["@@transducer/init"]=O.init,t.prototype["@@transducer/result"]=function(t){return this.all&&(t=this.xf["@@transducer/step"](t,!0)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)||(this.all=!1,t=w(this.xf["@@transducer/step"](t,!1))),t},t}(),j=s(_(["all"],s((function(t,e){return new x(t,e)})),(function(t,e){for(var n=0;n<e.length;){if(!t(e[n]))return!1;n+=1}return!0}))),E=s((function(t,e){return e>t?e:t}));function k(t,e){for(var n=0,r=e.length,o=Array(r);n<r;)o[n]=t(e[n]),n+=1;return o}function S(t){return"[object String]"===Object.prototype.toString.call(t)}var P=o((function(t){return!!m(t)||!!t&&("object"==typeof t&&(!S(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))})),A=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,e){return this.f(t,e)},t}();function C(t){return new A(t)}var T=s((function(t,e){return d(t.length,(function(){return t.apply(e,arguments)}))}));function I(t,e,n){for(var r=n.next();!r.done;){if((e=t["@@transducer/step"](e,r.value))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r=n.next()}return t["@@transducer/result"](e)}function D(t,e,n,r){return t["@@transducer/result"](n[r](T(t["@@transducer/step"],t),e))}var R="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function q(t,e,n){if("function"==typeof t&&(t=C(t)),P(n))return function(t,e,n){for(var r=0,o=n.length;r<o;){if((e=t["@@transducer/step"](e,n[r]))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r+=1}return t["@@transducer/result"](e)}(t,e,n);if("function"==typeof n["fantasy-land/reduce"])return D(t,e,n,"fantasy-land/reduce");if(null!=n[R])return I(t,e,n[R]());if("function"==typeof n.next)return I(t,e,n);if("function"==typeof n.reduce)return D(t,e,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}var N=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=O.init,t.prototype["@@transducer/result"]=O.result,t.prototype["@@transducer/step"]=function(t,e){return this.xf["@@transducer/step"](t,this.f(e))},t}(),L=s((function(t,e){return new N(t,e)}));function M(t,e){return Object.prototype.hasOwnProperty.call(e,t)}var B=Object.prototype.toString,U=function(){return"[object Arguments]"===B.call(arguments)?function(t){return"[object Arguments]"===B.call(t)}:function(t){return M("callee",t)}},$=!{toString:null}.propertyIsEnumerable("toString"),F=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],z=function(){return arguments.propertyIsEnumerable("length")}(),K=function(t,e){for(var n=0;n<t.length;){if(t[n]===e)return!0;n+=1}return!1},V=o("function"!=typeof Object.keys||z?function(t){if(Object(t)!==t)return[];var e,n,r=[],o=z&&U(t);for(e in t)!M(e,t)||o&&"length"===e||(r[r.length]=e);if($)for(n=F.length-1;n>=0;)M(e=F[n],t)&&!K(r,e)&&(r[r.length]=e),n-=1;return r}:function(t){return Object(t)!==t?[]:Object.keys(t)}),W=s(_(["fantasy-land/map","map"],L,(function(t,e){switch(Object.prototype.toString.call(e)){case"[object Function]":return h(e.length,(function(){return t.call(this,e.apply(this,arguments))}));case"[object Object]":return q((function(n,r){return n[r]=t(e[r]),n}),{},V(e));default:return k(t,e)}}))),J=s((function(t,e){for(var n=e,r=0;r<t.length;){if(null==n)return;n=n[t[r]],r+=1}return n})),G=s((function(t,e){return J([t],e)})),Y=s((function(t,e){return W(G(t),e)})),H=y(q),Q=o((function(t){return h(H(E,0,Y("length",t)),(function(){for(var e=0,n=t.length;e<n;){if(!t[e].apply(this,arguments))return!1;e+=1}return!0}))})),X=s((function(t,e){return t&&e})),Z=function(){function t(t,e){this.xf=e,this.f=t,this.any=!1}return t.prototype["@@transducer/init"]=O.init,t.prototype["@@transducer/result"]=function(t){return this.any||(t=this.xf["@@transducer/step"](t,!1)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)&&(this.any=!0,t=w(this.xf["@@transducer/step"](t,!0))),t},t}(),tt=s((function(t,e){return new Z(t,e)})),et=s(_(["any"],tt,(function(t,e){for(var n=0;n<e.length;){if(t(e[n]))return!0;n+=1}return!1}))),nt=o((function(t){return h(H(E,0,Y("length",t)),(function(){for(var e=0,n=t.length;e<n;){if(t[e].apply(this,arguments))return!0;e+=1}return!1}))})),rt=s((function(t,e){return"function"==typeof e["fantasy-land/ap"]?e["fantasy-land/ap"](t):"function"==typeof t.ap?t.ap(e):"function"==typeof t?function(n){return t(n)(e(n))}:q((function(t,n){return l(t,W(n,e))}),[],t)}));function ot(t,e){for(var n=0,r=e.length-(t-1),o=new Array(r>=0?r:0);n<r;)o[n]=Array.prototype.slice.call(e,n,n+t),n+=1;return o}var it=function(){function t(t,e){this.xf=e,this.pos=0,this.full=!1,this.acc=new Array(t)}return t.prototype["@@transducer/init"]=O.init,t.prototype["@@transducer/result"]=function(t){return this.acc=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.store(e),this.full?this.xf["@@transducer/step"](t,this.getCopy()):t},t.prototype.store=function(t){this.acc[this.pos]=t,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},t.prototype.getCopy=function(){return l(Array.prototype.slice.call(this.acc,this.pos),Array.prototype.slice.call(this.acc,0,this.pos))},t}(),ut=s(_([],s((function(t,e){return new it(t,e)})),ot)),ct=s((function(t,e){return l(e,[t])})),at=s((function(t,e){return t.apply(this,e)})),st=o((function(t){for(var e=V(t),n=e.length,r=[],o=0;o<n;)r[o]=t[e[o]],o+=1;return r})),ft=o((function t(e){return e=W((function(e){return"function"==typeof e?e:t(e)}),e),h(H(E,0,Y("length",st(e))),(function(){var t=arguments;return W((function(e){return at(e,t)}),e)}))})),lt=s((function(t,e){return e(t)})),dt=y((function(t,e,n){var r=t(e),o=t(n);return r<o?-1:r>o?1:0})),pt=y((function(t,e,n){var r={};for(var o in n)r[o]=n[o];return r[t]=e,r})),ht=Number.isInteger||function(t){return t<<0===t},vt=o((function(t){return null==t})),yt=y((function t(e,n,r){if(0===e.length)return n;var o=e[0];if(e.length>1){var i=!vt(r)&&M(o,r)?r[o]:ht(e[1])?[]:{};n=t(Array.prototype.slice.call(e,1),n,i)}if(ht(o)&&m(r)){var u=[].concat(r);return u[o]=n,u}return pt(o,n,r)})),gt=s((function(t,e){switch(t){case 0:return function(){return e.call(this)};case 1:return function(t){return e.call(this,t)};case 2:return function(t,n){return e.call(this,t,n)};case 3:return function(t,n,r){return e.call(this,t,n,r)};case 4:return function(t,n,r,o){return e.call(this,t,n,r,o)};case 5:return function(t,n,r,o,i){return e.call(this,t,n,r,o,i)};case 6:return function(t,n,r,o,i,u){return e.call(this,t,n,r,o,i,u)};case 7:return function(t,n,r,o,i,u,c){return e.call(this,t,n,r,o,i,u,c)};case 8:return function(t,n,r,o,i,u,c,a){return e.call(this,t,n,r,o,i,u,c,a)};case 9:return function(t,n,r,o,i,u,c,a,s){return e.call(this,t,n,r,o,i,u,c,a,s)};case 10:return function(t,n,r,o,i,u,c,a,s,f){return e.call(this,t,n,r,o,i,u,c,a,s,f)};default:throw new Error("First argument to nAry must be a non-negative integer no greater than ten")}})),mt=o((function(t){return gt(2,t)}));function bt(t){return"[object Function]"===Object.prototype.toString.call(t)}var _t=s((function(t,e){var n=h(t,e);return h(t,(function(){return q(rt,W(n,arguments[0]),Array.prototype.slice.call(arguments,1))}))})),wt=o((function(t){return _t(t.length,t)})),Ot=s((function(t,e){return bt(t)?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:wt(X)(t,e)})),xt=o((function(t){return h(t.length,t)})),jt=xt((function(t){return t.apply(this,Array.prototype.slice.call(arguments,1))}));function Et(t){return function e(n){for(var r,o,i,u=[],c=0,a=n.length;c<a;){if(P(n[c]))for(i=0,o=(r=t?e(n[c]):n[c]).length;i<o;)u[u.length]=r[i],i+=1;else u[u.length]=n[c];c+=1}return u}}var kt=function(t){var e=function(t){return{"@@transducer/init":O.init,"@@transducer/result":function(e){return t["@@transducer/result"](e)},"@@transducer/step":function(e,n){var r=t["@@transducer/step"](e,n);return r["@@transducer/reduced"]?{"@@transducer/value":r,"@@transducer/reduced":!0}:r}}}(t);return{"@@transducer/init":O.init,"@@transducer/result":function(t){return e["@@transducer/result"](t)},"@@transducer/step":function(t,n){return P(n)?q(e,t,n):q(e,t,[n])}}},St=s(_(["fantasy-land/chain","chain"],s((function(t,e){return W(t,kt(e))})),(function(t,e){return"function"==typeof e?function(n){return t(e(n))(n)}:Et(!1)(W(t,e))}))),Pt=y((function(t,e,n){if(t>e)throw new Error("min must not be greater than max in clamp(min, max, value)");return n<t?t:n>e?e:n}));function At(t){return new RegExp(t.source,(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.sticky?"y":"")+(t.unicode?"u":""))}var Ct=o((function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}));function Tt(t,e,n,r){var o=function(o){for(var i=e.length,u=0;u<i;){if(t===e[u])return n[u];u+=1}for(var c in e[u+1]=t,n[u+1]=o,t)o[c]=r?Tt(t[c],e,n,!0):t[c];return o};switch(Ct(t)){case"Object":return o({});case"Array":return o([]);case"Date":return new Date(t.valueOf());case"RegExp":return At(t);default:return t}}var It=o((function(t){return null!=t&&"function"==typeof t.clone?t.clone():Tt(t,[],[],!0)})),Dt=o((function(t){return function(e,n){return t(e,n)?-1:t(n,e)?1:0}})),Rt=o((function(t){return!t})),qt=wt(Rt);function Nt(t,e){return function(){return e.call(this,t.apply(this,arguments))}}function Lt(t,e){return function(){var n=arguments.length;if(0===n)return e();var r=arguments[n-1];return m(r)||"function"!=typeof r[t]?e.apply(this,arguments):r[t].apply(r,Array.prototype.slice.call(arguments,0,n-1))}}var Mt=y(Lt("slice",(function(t,e,n){return Array.prototype.slice.call(n,t,e)}))),Bt=o(Lt("tail",Mt(1,1/0)));function Ut(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return d(arguments[0].length,H(Nt,arguments[0],Bt(arguments)))}var $t=o((function(t){return S(t)?t.split("").reverse().join(""):Array.prototype.slice.call(t,0).reverse()}));function Ft(){if(0===arguments.length)throw new Error("compose requires at least one argument");return Ut.apply(this,$t(arguments))}function zt(){if(0===arguments.length)throw new Error("composeK requires at least one argument");var t=Array.prototype.slice.call(arguments),e=t.pop();return Ft(Ft.apply(this,W(St,t)),e)}function Kt(t,e){return function(){var n=this;return t.apply(n,arguments).then((function(t){return e.call(n,t)}))}}function Vt(){if(0===arguments.length)throw new Error("pipeP requires at least one argument");return d(arguments[0].length,H(Kt,arguments[0],Bt(arguments)))}function Wt(){if(0===arguments.length)throw new Error("composeP requires at least one argument");return Vt.apply(this,$t(arguments))}function Jt(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function Gt(t,e,n){for(var r=0,o=n.length;r<o;){if(t(e,n[r]))return!0;r+=1}return!1}var Yt=s((function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}));function Ht(t,e,n,r){var o=Jt(t);function i(t,e){return Qt(t,e,n.slice(),r.slice())}return!Gt((function(t,e){return!Gt(i,e,t)}),Jt(e),o)}function Qt(t,e,n,r){if(Yt(t,e))return!0;var o=Ct(t);if(o!==Ct(e))return!1;if(null==t||null==e)return!1;if("function"==typeof t["fantasy-land/equals"]||"function"==typeof e["fantasy-land/equals"])return"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e)&&"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t);if("function"==typeof t.equals||"function"==typeof e.equals)return"function"==typeof t.equals&&t.equals(e)&&"function"==typeof e.equals&&e.equals(t);switch(o){case"Arguments":case"Array":case"Object":if("function"==typeof t.constructor&&"Promise"===function(t){var e=String(t).match(/^function (\w*)/);return null==e?"":e[1]}(t.constructor))return t===e;break;case"Boolean":case"Number":case"String":if(typeof t!=typeof e||!Yt(t.valueOf(),e.valueOf()))return!1;break;case"Date":if(!Yt(t.valueOf(),e.valueOf()))return!1;break;case"Error":return t.name===e.name&&t.message===e.message;case"RegExp":if(t.source!==e.source||t.global!==e.global||t.ignoreCase!==e.ignoreCase||t.multiline!==e.multiline||t.sticky!==e.sticky||t.unicode!==e.unicode)return!1}for(var i=n.length-1;i>=0;){if(n[i]===t)return r[i]===e;i-=1}switch(o){case"Map":return t.size===e.size&&Ht(t.entries(),e.entries(),n.concat([t]),r.concat([e]));case"Set":return t.size===e.size&&Ht(t.values(),e.values(),n.concat([t]),r.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var u=V(t);if(u.length!==V(e).length)return!1;var c=n.concat([t]),a=r.concat([e]);for(i=u.length-1;i>=0;){var s=u[i];if(!M(s,e)||!Qt(e[s],t[s],c,a))return!1;i-=1}return!0}var Xt=s((function(t,e){return Qt(t,e,[],[])}));function Zt(t,e,n){var r,o;if("function"==typeof t.indexOf)switch(typeof e){case"number":if(0===e){for(r=1/e;n<t.length;){if(0===(o=t[n])&&1/o===r)return n;n+=1}return-1}if(e!=e){for(;n<t.length;){if("number"==typeof(o=t[n])&&o!=o)return n;n+=1}return-1}return t.indexOf(e,n);case"string":case"boolean":case"function":case"undefined":return t.indexOf(e,n);case"object":if(null===e)return t.indexOf(e,n)}for(;n<t.length;){if(Xt(t[n],e))return n;n+=1}return-1}function te(t,e){return Zt(e,t,0)>=0}function ee(t){return'"'+t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'}var ne=function(t){return(t<10?"0":"")+t},re="function"==typeof Date.prototype.toISOString?function(t){return t.toISOString()}:function(t){return t.getUTCFullYear()+"-"+ne(t.getUTCMonth()+1)+"-"+ne(t.getUTCDate())+"T"+ne(t.getUTCHours())+":"+ne(t.getUTCMinutes())+":"+ne(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};function oe(t){return function(){return!t.apply(this,arguments)}}function ie(t,e){for(var n=0,r=e.length,o=[];n<r;)t(e[n])&&(o[o.length]=e[n]),n+=1;return o}function ue(t){return"[object Object]"===Object.prototype.toString.call(t)}var ce=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=O.init,t.prototype["@@transducer/result"]=O.result,t.prototype["@@transducer/step"]=function(t,e){return this.f(e)?this.xf["@@transducer/step"](t,e):t},t}(),ae=s(_(["filter"],s((function(t,e){return new ce(t,e)})),(function(t,e){return ue(e)?q((function(n,r){return t(e[r])&&(n[r]=e[r]),n}),{},V(e)):ie(t,e)}))),se=s((function(t,e){return ae(oe(t),e)}));var fe=o((function(t){return function t(e,n){var r=function(r){var o=n.concat([e]);return te(r,o)?"<Circular>":t(r,o)},o=function(t,e){return k((function(e){return ee(e)+": "+r(t[e])}),e.slice().sort())};switch(Object.prototype.toString.call(e)){case"[object Arguments]":return"(function() { return arguments; }("+k(r,e).join(", ")+"))";case"[object Array]":return"["+k(r,e).concat(o(e,se((function(t){return/^\d+$/.test(t)}),V(e)))).join(", ")+"]";case"[object Boolean]":return"object"==typeof e?"new Boolean("+r(e.valueOf())+")":e.toString();case"[object Date]":return"new Date("+(isNaN(e.valueOf())?r(NaN):ee(re(e)))+")";case"[object Null]":return"null";case"[object Number]":return"object"==typeof e?"new Number("+r(e.valueOf())+")":1/e==-1/0?"-0":e.toString(10);case"[object String]":return"object"==typeof e?"new String("+r(e.valueOf())+")":ee(e);case"[object Undefined]":return"undefined";default:if("function"==typeof e.toString){var i=e.toString();if("[object Object]"!==i)return i}return"{"+o(e,V(e)).join(", ")+"}"}}(t,[])})),le=s((function(t,e){if(m(t)){if(m(e))return t.concat(e);throw new TypeError(fe(e)+" is not an array")}if(S(t)){if(S(e))return t+e;throw new TypeError(fe(e)+" is not a string")}if(null!=t&&bt(t["fantasy-land/concat"]))return t["fantasy-land/concat"](e);if(null!=t&&bt(t.concat))return t.concat(e);throw new TypeError(fe(t)+' does not have a method named "concat" or "fantasy-land/concat"')})),de=o((function(t){return d(H(E,0,W((function(t){return t[0].length}),t)),(function(){for(var e=0;e<t.length;){if(t[e][0].apply(this,arguments))return t[e][1].apply(this,arguments);e+=1}}))})),pe=s((function(t,e){if(t>10)throw new Error("Constructor with greater than ten arguments");return 0===t?function(){return new e}:xt(gt(t,(function(t,n,r,o,i,u,c,a,s,f){switch(arguments.length){case 1:return new e(t);case 2:return new e(t,n);case 3:return new e(t,n,r);case 4:return new e(t,n,r,o);case 5:return new e(t,n,r,o,i);case 6:return new e(t,n,r,o,i,u);case 7:return new e(t,n,r,o,i,u,c);case 8:return new e(t,n,r,o,i,u,c,a);case 9:return new e(t,n,r,o,i,u,c,a,s);case 10:return new e(t,n,r,o,i,u,c,a,s,f)}})))})),he=o((function(t){return pe(t.length,t)})),ve=s(te),ye=s((function(t,e){return h(H(E,0,Y("length",e)),(function(){var n=arguments,r=this;return t.apply(r,k((function(t){return t.apply(r,n)}),e))}))})),ge=function(){function t(t,e,n,r){this.valueFn=t,this.valueAcc=e,this.keyFn=n,this.xf=r,this.inputs={}}return t.prototype["@@transducer/init"]=O.init,t.prototype["@@transducer/result"]=function(t){var e;for(e in this.inputs)if(M(e,this.inputs)&&(t=this.xf["@@transducer/step"](t,this.inputs[e]))["@@transducer/reduced"]){t=t["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){var n=this.keyFn(e);return this.inputs[n]=this.inputs[n]||[n,this.valueAcc],this.inputs[n][1]=this.valueFn(this.inputs[n][1],e),t},t}(),me=p(4,[],_([],p(4,[],(function(t,e,n,r){return new ge(t,e,n,r)})),(function(t,e,n,r){return q((function(r,o){var i=n(o);return r[i]=t(M(i,r)?r[i]:e,o),r}),{},r)}))),be=me((function(t,e){return t+1}),0),_e=f(-1),we=s((function(t,e){return null==e||e!=e?t:e})),Oe=y((function(t,e,n){var r=t(e),o=t(n);return r>o?-1:r<o?1:0})),xe=s((function(t,e){for(var n=[],r=0,o=t.length;r<o;)te(t[r],e)||te(t[r],n)||(n[n.length]=t[r]),r+=1;return n})),je=y((function(t,e,n){for(var r=[],o=0,i=e.length;o<i;)Gt(t,e[o],n)||Gt(t,e[o],r)||r.push(e[o]),o+=1;return r})),Ee=s((function(t,e){var n={};for(var r in e)n[r]=e[r];return delete n[t],n})),ke=y((function(t,e,n){var r=Array.prototype.slice.call(n,0);return r.splice(t,e),r})),Se=y((function(t,e,n){return g(i(e),t,n)})),Pe=s((function t(e,n){switch(e.length){case 0:return n;case 1:return ht(e[0])?ke(e[0],1,n):Ee(e[0],n);default:var r=e[0],o=Array.prototype.slice.call(e,1);return null==n[r]?n:ht(e[0])?Se(r,t(o,n[r]),n):pt(r,t(o,n[r]),n)}})),Ae=s((function(t,e){return t/e})),Ce=function(){function t(t,e){this.xf=e,this.n=t}return t.prototype["@@transducer/init"]=O.init,t.prototype["@@transducer/result"]=O.result,t.prototype["@@transducer/step"]=function(t,e){return this.n>0?(this.n-=1,t):this.xf["@@transducer/step"](t,e)},t}(),Te=s(_(["drop"],s((function(t,e){return new Ce(t,e)})),(function(t,e){return Mt(Math.max(0,t),1/0,e)}))),Ie=function(){function t(t,e){this.xf=e,this.n=t,this.i=0}return t.prototype["@@transducer/init"]=O.init,t.prototype["@@transducer/result"]=O.result,t.prototype["@@transducer/step"]=function(t,e){this.i+=1;var n=0===this.n?t:this.xf["@@transducer/step"](t,e);return this.n>=0&&this.i>=this.n?w(n):n},t}(),De=s(_(["take"],s((function(t,e){return new Ie(t,e)})),(function(t,e){return Mt(0,t<0?1/0:t,e)})));function Re(t,e){return De(t<e.length?e.length-t:0,e)}var qe=function(){function t(t,e){this.xf=e,this.pos=0,this.full=!1,this.acc=new Array(t)}return t.prototype["@@transducer/init"]=O.init,t.prototype["@@transducer/result"]=function(t){return this.acc=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.full&&(t=this.xf["@@transducer/step"](t,this.acc[this.pos])),this.store(e),t},t.prototype.store=function(t){this.acc[this.pos]=t,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},t}(),Ne=s(_([],s((function(t,e){return new qe(t,e)})),Re));function Le(t,e){for(var n=e.length-1;n>=0&&t(e[n]);)n-=1;return Mt(0,n+1,e)}var Me=function(){function t(t,e){this.f=t,this.retained=[],this.xf=e}return t.prototype["@@transducer/init"]=O.init,t.prototype["@@transducer/result"]=function(t){return this.retained=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)?this.retain(t,e):this.flush(t,e)},t.prototype.flush=function(t,e){return t=q(this.xf["@@transducer/step"],t,this.retained),this.retained=[],this.xf["@@transducer/step"](t,e)},t.prototype.retain=function(t,e){return this.retained.push(e),t},t}(),Be=s(_([],s((function(t,e){return new Me(t,e)})),Le)),Ue=function(){function t(t,e){this.xf=e,this.pred=t,this.lastValue=void 0,this.seenFirstValue=!1}return t.prototype["@@transducer/init"]=O.init,t.prototype["@@transducer/result"]=O.result,t.prototype["@@transducer/step"]=function(t,e){var n=!1;return this.seenFirstValue?this.pred(this.lastValue,e)&&(n=!0):this.seenFirstValue=!0,this.lastValue=e,n?t:this.xf["@@transducer/step"](t,e)},t}(),$e=s((function(t,e){return new Ue(t,e)})),Fe=s((function(t,e){var n=t<0?e.length+t:t;return S(e)?e.charAt(n):e[n]})),ze=Fe(-1),Ke=s(_([],$e,(function(t,e){var n=[],r=1,o=e.length;if(0!==o)for(n[0]=e[0];r<o;)t(ze(n),e[r])||(n[n.length]=e[r]),r+=1;return n}))),Ve=o(_([],$e(Xt),Ke(Xt))),We=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=O.init,t.prototype["@@transducer/result"]=O.result,t.prototype["@@transducer/step"]=function(t,e){if(this.f){if(this.f(e))return t;this.f=null}return this.xf["@@transducer/step"](t,e)},t}(),Je=s(_(["dropWhile"],s((function(t,e){return new We(t,e)})),(function(t,e){for(var n=0,r=e.length;n<r&&t(e[n]);)n+=1;return Mt(n,1/0,e)}))),Ge=s((function(t,e){return t||e})),Ye=s((function(t,e){return bt(t)?function(){return t.apply(this,arguments)||e.apply(this,arguments)}:wt(Ge)(t,e)})),He=o((function(t){return null!=t&&"function"==typeof t["fantasy-land/empty"]?t["fantasy-land/empty"]():null!=t&&null!=t.constructor&&"function"==typeof t.constructor["fantasy-land/empty"]?t.constructor["fantasy-land/empty"]():null!=t&&"function"==typeof t.empty?t.empty():null!=t&&null!=t.constructor&&"function"==typeof t.constructor.empty?t.constructor.empty():m(t)?[]:S(t)?"":ue(t)?{}:U(t)?function(){return arguments}():void 0})),Qe=s((function(t,e){return Te(t>=0?e.length-t:0,e)})),Xe=s((function(t,e){return Xt(Qe(t.length,e),t)})),Ze=y((function(t,e,n){return Xt(t(e),t(n))})),tn=y((function(t,e,n){return Xt(e[t],n[t])})),en=s((function t(e,n){var r,o,i,u={};for(o in n)i=typeof(r=e[o]),u[o]="function"===i?r(n[o]):r&&"object"===i?t(r,n[o]):n[o];return u})),nn=function(){function t(t,e){this.xf=e,this.f=t,this.found=!1}return t.prototype["@@transducer/init"]=O.init,t.prototype["@@transducer/result"]=function(t){return this.found||(t=this.xf["@@transducer/step"](t,void 0)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)&&(this.found=!0,t=w(this.xf["@@transducer/step"](t,e))),t},t}(),rn=s(_(["find"],s((function(t,e){return new nn(t,e)})),(function(t,e){for(var n=0,r=e.length;n<r;){if(t(e[n]))return e[n];n+=1}}))),on=function(){function t(t,e){this.xf=e,this.f=t,this.idx=-1,this.found=!1}return t.prototype["@@transducer/init"]=O.init,t.prototype["@@transducer/result"]=function(t){return this.found||(t=this.xf["@@transducer/step"](t,-1)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.idx+=1,this.f(e)&&(this.found=!0,t=w(this.xf["@@transducer/step"](t,this.idx))),t},t}(),un=s(_([],s((function(t,e){return new on(t,e)})),(function(t,e){for(var n=0,r=e.length;n<r;){if(t(e[n]))return n;n+=1}return-1}))),cn=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=O.init,t.prototype["@@transducer/result"]=function(t){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](t,this.last))},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)&&(this.last=e),t},t}(),an=s(_([],s((function(t,e){return new cn(t,e)})),(function(t,e){for(var n=e.length-1;n>=0;){if(t(e[n]))return e[n];n-=1}}))),sn=function(){function t(t,e){this.xf=e,this.f=t,this.idx=-1,this.lastIdx=-1}return t.prototype["@@transducer/init"]=O.init,t.prototype["@@transducer/result"]=function(t){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](t,this.lastIdx))},t.prototype["@@transducer/step"]=function(t,e){return this.idx+=1,this.f(e)&&(this.lastIdx=this.idx),t},t}(),fn=s(_([],s((function(t,e){return new sn(t,e)})),(function(t,e){for(var n=e.length-1;n>=0;){if(t(e[n]))return n;n-=1}return-1}))),ln=o(Et(!0)),dn=o((function(t){return h(t.length,(function(e,n){var r=Array.prototype.slice.call(arguments,0);return r[0]=n,r[1]=e,t.apply(this,r)}))})),pn=s(Lt("forEach",(function(t,e){for(var n=e.length,r=0;r<n;)t(e[r]),r+=1;return e}))),hn=s((function(t,e){for(var n=V(e),r=0;r<n.length;){var o=n[r];t(e[o],o,e),r+=1}return e})),vn=o((function(t){for(var e={},n=0;n<t.length;)e[t[n][0]]=t[n][1],n+=1;return e})),yn=s(Lt("groupBy",me((function(t,e){return null==t&&(t=[]),t.push(e),t}),null))),gn=s((function(t,e){for(var n=[],r=0,o=e.length;r<o;){for(var i=r+1;i<o&&t(e[i-1],e[i]);)i+=1;n.push(e.slice(r,i)),r=i}return n})),mn=s((function(t,e){return t>e})),bn=s((function(t,e){return t>=e})),_n=s(M),wn=s((function(t,e){return t in e})),On=Fe(0);function xn(t){return t}var jn=o(xn),En=y((function(t,e,n){return h(Math.max(t.length,e.length,n.length),(function(){return t.apply(this,arguments)?e.apply(this,arguments):n.apply(this,arguments)}))})),kn=f(1),Sn=me((function(t,e){return e}),null),Pn=s((function(t,e){return"function"!=typeof e.indexOf||m(e)?Zt(e,t,0):e.indexOf(t)})),An=Mt(0,-1),Cn=y((function(t,e,n){return ie((function(e){return Gt(t,e,n)}),e)})),Tn=y((function(t,e,n){t=t<n.length&&t>=0?t:n.length;var r=Array.prototype.slice.call(n,0);return r.splice(t,0,e),r})),In=y((function(t,e,n){return t=t<n.length&&t>=0?t:n.length,[].concat(Array.prototype.slice.call(n,0,t),e,Array.prototype.slice.call(n,t))}));function Dn(t,e,n){var r,o=typeof t;switch(o){case"string":case"number":return 0===t&&1/t==-1/0?!!n._items["-0"]||(e&&(n._items["-0"]=!0),!1):null!==n._nativeSet?e?(r=n._nativeSet.size,n._nativeSet.add(t),n._nativeSet.size===r):n._nativeSet.has(t):o in n._items?t in n._items[o]||(e&&(n._items[o][t]=!0),!1):(e&&(n._items[o]={},n._items[o][t]=!0),!1);case"boolean":if(o in n._items){var i=t?1:0;return!!n._items[o][i]||(e&&(n._items[o][i]=!0),!1)}return e&&(n._items[o]=t?[!1,!0]:[!0,!1]),!1;case"function":return null!==n._nativeSet?e?(r=n._nativeSet.size,n._nativeSet.add(t),n._nativeSet.size===r):n._nativeSet.has(t):o in n._items?!!te(t,n._items[o])||(e&&n._items[o].push(t),!1):(e&&(n._items[o]=[t]),!1);case"undefined":return!!n._items[o]||(e&&(n._items[o]=!0),!1);case"object":if(null===t)return!!n._items.null||(e&&(n._items.null=!0),!1);default:return(o=Object.prototype.toString.call(t))in n._items?!!te(t,n._items[o])||(e&&n._items[o].push(t),!1):(e&&(n._items[o]=[t]),!1)}}var Rn=function(){function t(){this._nativeSet="function"==typeof Set?new Set:null,this._items={}}return t.prototype.add=function(t){return!Dn(t,!0,this)},t.prototype.has=function(t){return Dn(t,!1,this)},t}(),qn=s((function(t,e){for(var n,r,o=new Rn,i=[],u=0;u<e.length;)n=t(r=e[u]),o.add(n)&&i.push(r),u+=1;return i})),Nn=qn(jn),Ln=s((function(t,e){var n,r;return t.length>e.length?(n=t,r=e):(n=e,r=t),Nn(ie(dn(te)(n),r))})),Mn=s(Lt("intersperse",(function(t,e){for(var n=[],r=0,o=e.length;r<o;)r===o-1?n.push(e[r]):n.push(e[r],t),r+=1;return n})));var Bn="function"==typeof Object.assign?Object.assign:function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1,r=arguments.length;n<r;){var o=arguments[n];if(null!=o)for(var i in o)M(i,o)&&(e[i]=o[i]);n+=1}return e},Un=s((function(t,e){var n={};return n[t]=e,n})),$n={"@@transducer/init":Array,"@@transducer/step":function(t,e){return t.push(e),t},"@@transducer/result":xn},Fn={"@@transducer/init":String,"@@transducer/step":function(t,e){return t+e},"@@transducer/result":xn},zn={"@@transducer/init":Object,"@@transducer/step":function(t,e){return Bn(t,P(e)?Un(e[0],e[1]):e)},"@@transducer/result":xn};var Kn=y((function(t,e,n){return b(t)?q(e(t),t["@@transducer/init"](),n):q(e(function(t){if(b(t))return t;if(P(t))return $n;if("string"==typeof t)return Fn;if("object"==typeof t)return zn;throw new Error("Cannot create transformer for "+t)}(t)),Tt(t,[],[],!1),n)})),Vn=o((function(t){for(var e=V(t),n=e.length,r=0,o={};r<n;){var i=e[r],u=t[i],c=M(u,o)?o[u]:o[u]=[];c[c.length]=i,r+=1}return o})),Wn=o((function(t){for(var e=V(t),n=e.length,r=0,o={};r<n;){var i=e[r];o[t[i]]=i,r+=1}return o})),Jn=s((function(t,e){return h(t+1,(function(){var n=arguments[t];if(null!=n&&bt(n[e]))return n[e].apply(n,Array.prototype.slice.call(arguments,0,t));throw new TypeError(fe(n)+' does not have a method named "'+e+'"')}))})),Gn=s((function(t,e){return null!=e&&e.constructor===t||e instanceof t})),Yn=o((function(t){return null!=t&&Xt(t,He(t))})),Hn=Jn(1,"join"),Qn=o((function(t){return ye((function(){return Array.prototype.slice.call(arguments,0)}),t)})),Xn=o((function(t){var e,n=[];for(e in t)n[n.length]=e;return n})),Zn=s((function(t,e){if("function"!=typeof e.lastIndexOf||m(e)){for(var n=e.length-1;n>=0;){if(Xt(e[n],t))return n;n-=1}return-1}return e.lastIndexOf(t)}));function tr(t){return"[object Number]"===Object.prototype.toString.call(t)}var er=o((function(t){return null!=t&&tr(t.length)?t.length:NaN})),nr=s((function(t,e){return function(n){return function(r){return W((function(t){return e(t,r)}),n(t(r)))}}})),rr=o((function(t){return nr(Fe(t),Se(t))})),or=o((function(t){return nr(J(t),yt(t))})),ir=o((function(t){return nr(G(t),pt(t))})),ur=s((function(t,e){return t<e})),cr=s((function(t,e){return t<=e})),ar=y((function(t,e,n){for(var r=0,o=n.length,i=[],u=[e];r<o;)u=t(u[0],n[r]),i[r]=u[1],r+=1;return[u[0],i]})),sr=y((function(t,e,n){for(var r=n.length-1,o=[],i=[e];r>=0;)i=t(n[r],i[0]),o[r]=i[1],r-=1;return[o,i[0]]})),fr=s((function(t,e){return q((function(n,r){return n[r]=t(e[r],r,e),n}),{},V(e))})),lr=s((function(t,e){return e.match(t)||[]})),dr=s((function(t,e){return ht(t)?!ht(e)||e<1?NaN:(t%e+e)%e:NaN})),pr=y((function(t,e,n){return t(n)>t(e)?n:e})),hr=H(f,0),vr=o((function(t){return hr(t)/t.length})),yr=o((function(t){var e=t.length;if(0===e)return NaN;var n=2-e%2,r=(e-n)/2;return vr(Array.prototype.slice.call(t,0).sort((function(t,e){return t<e?-1:t>e?1:0})).slice(r,r+n))})),gr=s((function(t,e){var n={};return d(e.length,(function(){var r=t.apply(this,arguments);return M(r,n)||(n[r]=e.apply(this,arguments)),n[r]}))})),mr=gr((function(){return fe(arguments)})),br=s((function(t,e){return Bn({},t,e)})),_r=o((function(t){return Bn.apply(null,[{}].concat(t))})),wr=y((function(t,e,n){var r,o={};for(r in e)M(r,e)&&(o[r]=M(r,n)?t(r,e[r],n[r]):e[r]);for(r in n)M(r,n)&&!M(r,o)&&(o[r]=n[r]);return o})),Or=y((function t(e,n,r){return wr((function(n,r,o){return ue(r)&&ue(o)?t(e,r,o):e(n,r,o)}),n,r)})),xr=s((function(t,e){return Or((function(t,e,n){return e}),t,e)})),jr=s((function(t,e){return Or((function(t,e,n){return n}),t,e)})),Er=y((function(t,e,n){return Or((function(e,n,r){return t(n,r)}),e,n)})),kr=y((function(t,e,n){return wr((function(e,n,r){return t(n,r)}),e,n)})),Sr=s((function(t,e){return e<t?e:t})),Pr=y((function(t,e,n){return t(n)<t(e)?n:e})),Ar=s((function(t,e){return t%e})),Cr=s((function(t,e){return t*e})),Tr=o((function(t){return-t})),Ir=s(oe(_(["any"],tt,et))),Dr=o((function(t){return h(t<0?1:t+1,(function(){return Fe(t,arguments)}))})),Rr=y((function(t,e,n){return t(e(n))}));function qr(t){return[t]}var Nr=o(qr),Lr=s((function(t,e){for(var n={},r={},o=0,i=t.length;o<i;)r[t[o]]=1,o+=1;for(var u in e)r.hasOwnProperty(u)||(n[u]=e[u]);return n})),Mr=o((function(t){var e,n=!1;return d(t.length,(function(){return n?e:(n=!0,e=t.apply(this,arguments))}))})),Br=function(t){return{value:t,map:function(e){return Br(e(t))}}},Ur=y((function(t,e,n){return t((function(t){return Br(e(t))}))(n).value})),$r=s((function(t,e){return[t,e]}));function Fr(t){return s((function(e,n){return d(Math.max(0,e.length-n.length),(function(){return e.apply(this,t(n,arguments))}))}))}var zr=Fr(l),Kr=Fr(dn(l)),Vr=Qn([ae,se]),Wr=y((function(t,e,n){return Xt(J(t,n),e)})),Jr=y((function(t,e,n){return we(t,J(e,n))})),Gr=y((function(t,e,n){return e.length>0&&t(J(e,n))})),Yr=s((function(t,e){for(var n={},r=0;r<t.length;)t[r]in e&&(n[t[r]]=e[t[r]]),r+=1;return n})),Hr=s((function(t,e){for(var n={},r=0,o=t.length;r<o;){var i=t[r];n[i]=e[i],r+=1}return n})),Qr=s((function(t,e){var n={};for(var r in e)t(e[r],r,e)&&(n[r]=e[r]);return n}));function Xr(){if(0===arguments.length)throw new Error("pipeK requires at least one argument");return zt.apply(this,$t(arguments))}var Zr=s((function(t,e){return l([t],e)})),to=H(Cr,1),eo=s((function(t,e){return h(e.length,(function(){for(var n=[],r=0;r<e.length;)n.push(e[r].call(this,arguments[r])),r+=1;return t.apply(this,n.concat(Array.prototype.slice.call(arguments,e.length)))}))})),no=eo(k,[Hr,jn]),ro=y((function(t,e,n){return Xt(e,n[t])})),oo=y((function(t,e,n){return Gn(t,n[e])})),io=y((function(t,e,n){return null!=n&&M(e,n)?n[e]:t})),uo=y((function(t,e,n){return t(n[e])})),co=s((function(t,e){for(var n=t.length,r=[],o=0;o<n;)r[o]=e[t[o]],o+=1;return r})),ao=s((function(t,e){if(!tr(t)||!tr(e))throw new TypeError("Both arguments to range must be numbers");for(var n=[],r=t;r<e;)n.push(r),r+=1;return n})),so=y((function(t,e,n){for(var r=n.length-1;r>=0;)e=t(n[r],e),r-=1;return e})),fo=p(4,[],(function(t,e,n,r){return q((function(n,r){return t(n,r)?e(n,r):w(n)}),n,r)})),lo=o(w),po=s((function(t,e){var n,r=Number(e),o=0;if(r<0||isNaN(r))throw new RangeError("n must be a non-negative number");for(n=new Array(r);o<r;)n[o]=t(o),o+=1;return n})),ho=s((function(t,e){return po(i(t),e)})),vo=y((function(t,e,n){return n.replace(t,e)})),yo=y((function(t,e,n){for(var r=0,o=n.length,i=[e];r<o;)e=t(e,n[r]),i[r+1]=e,r+=1;return i})),go=s((function(t,e){return"function"==typeof e.sequence?e.sequence(t):so((function(t,e){return rt(W(Zr,t),e)}),t([]),e)})),mo=y((function(t,e,n){return Ur(t,i(e),n)})),bo=s((function(t,e){return Array.prototype.slice.call(e,0).sort(t)})),_o=s((function(t,e){return Array.prototype.slice.call(e,0).sort((function(e,n){var r=t(e),o=t(n);return r<o?-1:r>o?1:0}))})),wo=s((function(t,e){return Array.prototype.slice.call(e,0).sort((function(e,n){for(var r=0,o=0;0===r&&o<t.length;)r=t[o](e,n),o+=1;return r}))})),Oo=Jn(1,"split"),xo=s((function(t,e){return[Mt(0,t,e),Mt(t,er(e),e)]})),jo=s((function(t,e){if(t<=0)throw new Error("First argument to splitEvery must be a positive integer");for(var n=[],r=0;r<e.length;)n.push(Mt(r,r+=t,e));return n})),Eo=s((function(t,e){for(var n=0,r=e.length,o=[];n<r&&!t(e[n]);)o.push(e[n]),n+=1;return[o,Array.prototype.slice.call(e,n)]})),ko=s((function(t,e){return Xt(De(t.length,e),t)})),So=s((function(t,e){return Number(t)-Number(e)})),Po=s((function(t,e){return le(xe(t,e),xe(e,t))})),Ao=y((function(t,e,n){return le(je(t,e,n),je(t,n,e))})),Co=s((function(t,e){for(var n=e.length-1;n>=0&&t(e[n]);)n-=1;return Mt(n+1,1/0,e)})),To=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=O.init,t.prototype["@@transducer/result"]=O.result,t.prototype["@@transducer/step"]=function(t,e){return this.f(e)?this.xf["@@transducer/step"](t,e):w(t)},t}(),Io=s(_(["takeWhile"],s((function(t,e){return new To(t,e)})),(function(t,e){for(var n=0,r=e.length;n<r&&t(e[n]);)n+=1;return Mt(0,n,e)}))),Do=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=O.init,t.prototype["@@transducer/result"]=O.result,t.prototype["@@transducer/step"]=function(t,e){return this.f(e),this.xf["@@transducer/step"](t,e)},t}(),Ro=s(_([],s((function(t,e){return new Do(t,e)})),(function(t,e){return t(e),e})));var qo=s((function(t,e){if(n=t,"[object RegExp]"!==Object.prototype.toString.call(n))throw new TypeError("test requires a value of type RegExp as its first argument; received "+fe(t));var n;return At(t).test(e)})),No=Jn(0,"toLowerCase"),Lo=o((function(t){var e=[];for(var n in t)M(n,t)&&(e[e.length]=[n,t[n]]);return e})),Mo=o((function(t){var e=[];for(var n in t)e[e.length]=[n,t[n]];return e})),Bo=Jn(0,"toUpperCase"),Uo=h(4,(function(t,e,n,r){return q(t("function"==typeof e?C(e):e),n,r)})),$o=o((function(t){for(var e=0,n=[];e<t.length;){for(var r=t[e],o=0;o<r.length;)void 0===n[o]&&(n[o]=[]),n[o].push(r[o]),o+=1;e+=1}return n})),Fo=y((function(t,e,n){return"function"==typeof n["fantasy-land/traverse"]?n["fantasy-land/traverse"](e,t):go(t,W(e,n))})),zo="\t\n\v\f\r \u2028\u2029\ufeff",Ko=o("function"==typeof String.prototype.trim&&!zo.trim()&&"".trim()?function(t){return t.trim()}:function(t){var e=new RegExp("^["+zo+"]["+zo+"]*"),n=new RegExp("["+zo+"]["+zo+"]*$");return t.replace(e,"").replace(n,"")}),Vo=s((function(t,e){return d(t.length,(function(){try{return t.apply(this,arguments)}catch(t){return e.apply(this,l([t],arguments))}}))})),Wo=o((function(t){return function(){return t(Array.prototype.slice.call(arguments,0))}})),Jo=o((function(t){return gt(1,t)})),Go=s((function(t,e){return h(t,(function(){for(var n,r=1,o=e,i=0;r<=t&&"function"==typeof o;)n=r===t?arguments.length:i+o.length,o=o.apply(this,Array.prototype.slice.call(arguments,i,n)),r+=1,i=n;return o}))})),Yo=s((function(t,e){for(var n=t(e),r=[];n&&n.length;)r[r.length]=n[0],n=t(n[1]);return r})),Ho=s(Ft(Nn,l)),Qo=s((function(t,e){for(var n,r=0,o=e.length,i=[];r<o;)Gt(t,n=e[r],i)||(i[i.length]=n),r+=1;return i})),Xo=y((function(t,e,n){return Qo(t,l(e,n))})),Zo=y((function(t,e,n){return t(n)?n:e(n)})),ti=St(xn),ei=y((function(t,e,n){for(var r=n;!t(r);)r=e(r);return r})),ni=o((function(t){var e,n=[];for(e in t)n[n.length]=t[e];return n})),ri=function(t){return{value:t,"fantasy-land/map":function(){return this}}},oi=s((function(t,e){return t(ri)(e).value})),ii=y((function(t,e,n){return t(n)?e(n):n})),ui=s((function(t,e){for(var n in t)if(M(n,t)&&!t[n](e[n]))return!1;return!0})),ci=s((function(t,e){return ui(W(Xt,t),e)})),ai=s((function(t,e){return se(dn(te)(t),e)})),si=s((function(t,e){for(var n,r=0,o=t.length,i=e.length,u=[];r<o;){for(n=0;n<i;)u[u.length]=[t[r],e[n]],n+=1;r+=1}return u})),fi=s((function(t,e){for(var n=[],r=0,o=Math.min(t.length,e.length);r<o;)n[r]=[t[r],e[r]],r+=1;return n})),li=s((function(t,e){for(var n=0,r=Math.min(t.length,e.length),o={};n<r;)o[t[n]]=e[n],n+=1;return o})),di=y((function(t,e,n){for(var r=[],o=0,i=Math.min(e.length,n.length);o<i;)r[o]=t(e[o],n[o]),o+=1;return r}))}]);